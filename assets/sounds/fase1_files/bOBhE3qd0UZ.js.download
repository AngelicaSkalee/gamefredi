if (self.CavalryLogger) { CavalryLogger.start_js(["AqEzX"]); }

__d("GroupSellSurface",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={POPOVER_PERMALINK:"popover_permalink",EMAIL:"email",GROUP_MEGAPHONE:"group_megaphone",QUICK_PROMOTION:"quick_promotion",GROUP_MODAL_NUX:"group_modal_nux",GROUP_MALL_YOUR_RECENT_ACTIVITY:"group_mall_your_recent_activity",GROUP_MALL_YOUR_RECENT_ACTIVITY_RHC:"group_mall_your_recent_activity_rhc",GROUP_MALL_YOUR_RECENT_ACTIVITY_FILTER:"group_mall_your_recent_activity_filter",YOUR_POSTS:"your_posts",YOUR_POSTS_RHC:"your_posts_rhc",YOUR_POSTS_PAGE:"your_posts_page",YOUR_POSTS_PAGE_OTHER_GROUPS:"your_posts_page_other_groups",FOR_SALE_HOVERCARD:"for_sale_hovercard",FOR_SALE_CONTEXT_ITEM:"for_sale_context_item",RECOMMENDATION_BADGE:"recommendation_badge",TARGET_USER_FOR_SALE_POSTS:"target_user_for_sale_posts",SELLER_PROFILE:"seller_profile",GROUP_POST_CHEVRON:"group_post_chevron",FEED_POST_CHEVRON:"feed_post_chevron",ADMIN_SETTING_PAGE:"admin_setting_page",SCRIPTS:"scripts",CRT_SCRIPTS:"crt_scripts",TESTS:"tests",DELETE_INTERCEPT:"delete_intercept",INTERN_CONSOLE:"intern_console",GROUP_MALL:"group_mall",BROWSE_CATEGORIES:"browse_categories",CATEGORY_MALL:"category_mall",GROUP_SEARCH:"group_search",GROUP_MALL_SELL_COMPOSER:"group_mall_sell_composer",FORSALE_ISLAND:"forsale_island",CROSS_GROUP_FORSALE_ISLAND:"cross_group_forsale_island",PRODUCT_MALL:"product_mall",MESSAGE_PERMALINK:"permalink",FEED_STORY:"feed_story",GROUP_COMPOSER:"group_composer",UNKNOWN:"unknown",DIRECT_LINK:"direct_link",GROUP_MALL_HEADER_NAV:"group_mall_header_nav",GROUP_MALL_ISLAND_NAV:"island_nav",YOUR_POSTS_ISLAND_NAV:"your_posts_island_nav",MARK_AS_SOLD_REMINDER:"mas_reminder",RIGHT_HAND_COLUMN_CATEGORY_SHOWALL:"rhc_category_showall",YOUR_POSTS_UNSOLD_NOTIFICATION:"your_posts_unsold_notif",RIGHT_HAND_COLUMN:"right_hand_column",SAVED_SEARCH_NOTIF:"saved_search_notif",INVENTORY_MANAGEMENT:"inventory_management",GROUP_MALL_SUGGESTIONS:"group_mall_suggestions",CLEANER:"group_sell_cleaner",PURPOSE_TRIGGER:"group_sell_purpose_trigger",PURPOSE_BACKFILL:"group_sell_purpose_backfill",HIGH_CONFIDENCE_SALE_SCRIPT:"high_confidence_sale_script",EDIT_GROUP_SETTINGS_DESKTOP:"edit_group_settings_desktop",EDIT_GROUP_SETTINGS_MOBILE:"edit_group_settings_mobile",MAYBE_FOR_SALE_SCRIPT:"maybe_for_sale_script",LANDING_PAGE_BOOKMARK:"landing_page_bookmark",LANDING_PAGE_SUGGESTED_GROUPS:"landing_page_suggested_groups",LANDING_PAGE_SUGGESTED_GROUPS_CARD:"landing_page_suggested_groups_card",LANDING_PAGE_SUGGESTED_GROUPS_MAP:"landing_page_suggested_groups_map",LANDING_PAGE_YOUR_POSTS:"landing_page_your_posts",LANDING_PAGE_YOUR_GROUPS:"landing_page_your_groups",LANDING_PAGE_YOUR_SALES_RHC:"landing_page_your_sales_rhc",LANDING_PAGE_AD:"lp_ad",LANDING_PAGE_MOBILE:"landing_page_mobile",EGO_SGNY:"ego_sgny",GROUPS_BROWSER:"groups_browser",LOW_QUALITY_GROUP_SELL_CLEAN_SCRIPT:"low_quality_group_sell_clean_script",GROUPS_YOU_SHOULD_JOIN:"groups_you_should_join",PRODUCT_DETAIL:"product_detail",MARKETPLACE_COMPOSER:"marketplace_composer",MARKETPLACE_YOUR_POSTS:"marketplace_your_posts",MARKETPLACE_UPSELL_DIALOG:"marketplace_upsell_dialog",MARKETPLACE_CROSS_POST_UNSOLD_GROUP:"marketplace_cross_post_unsold_group",AUTO_STRUCTURE_SCRIPT:"auto_structure_script",MARKETPLACE_GALLERY:"marketplace_gallery",MARKETPLACE_GYSJ:"marketplace_gysj",CROSS_GROUP_FEED:"cross_group_feed",BUY_AND_SELL_SEARCH_RESULTS:"buy_and_sell_search_results",XGROUP_ITEMS_FOR_SALE_NOTIFICATION:"xgroup_fs_notif",GROUP_COMMERCE_RN_PDP:"group_commerce_rn_pdp",GROUP_COMMERCE_RN_BOOKMARK:"group_commerce_rn_bookmark",GROUP_COMMERCE_NATIVE_PERMALINK:"group_commerce_native_permalink",CITY_COMMUNITY:"city_community",MARKETPLACE:"marketplace",NOTIFICATION:"notification",BOOKMARK:"bookmark",NEWSFEED:"newsfeed",GROUPS:"groups",TIMELINE:"timeline"};}),null);
__d("GroupSellUserActionEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MARK_AS_SOLD:"mark_as_sold",MARK_AS_AVAILABLE:"mark_as_available",MARK_AS_ARCHIVE:"mark_as_archive",MARK_AS_UNARCHIVE:"mark_as_unarchive",NON_FOR_SALE_MARK_AS_SOLD:"non_for_sale_mark_as_sold",GROUP_POST:"group_post",MARKETPLACE_POST:"marketplace_post",PROFILE_POST:"profile_post",LAUNCH_EDIT:"launch_edit",GROUP_POST_EDIT:"group_post_edit",ADMIN_OPT_IN:"admin_opt_in",ADMIN_OPT_OUT:"admin_opt_out",ADMIN_NOT_FOR_SALE:"admin_not_for_sale",ADMIN_DO_NOT_WANT:"admin_do_not_want",GROUP_CURRENCY_CHANGE:"group_currency_change",OPT_IN_MEGAPHONE_SEEN:"opt_in_megaphone_seen",OPT_IN_NOTIFICATION_SENT:"opt_in_notification_sent",AUTO_OPT_IN_MEGAPHONE_SEEN:"auto_opt_in_megaphone_seen",AUTO_OPTED_IN_MEGAPHONE_SEEN:"auto_opted_in_megaphone_seen",GROUP_PURPOSES_NUX_SEEN:"group_purposes_nux_seen",GROUP_PURPOSE_SELECTED:"group_purpose_selected",GROUP_NON_FOR_SALE_POST:"group_non_for_sale_post",GROUP_MARKED_AS_MAY_BE_FOR_SALE:"group_marked_as_may_be_for_sale",GROUP_CRT_CATEGORIZED_FOR_SALE:"group_crt_categorized_for_sale",GROUP_CRT_CATEGORIZED_FOR_SALE_FAIL:"group_crt_categorized_for_sale_fail",GROUP_ENABLED:"group_enabled",GROUP_DISABLED:"group_disabled",GROUP_NON_FOR_SALE_POST_INTERCEPT_WORDS:"group_non_for_sale_post_intercept_words",GROUP_NON_FOR_SALE_POST_NLU_INTERCEPT:"group_non_for_sale_post_nlu_intercept",GROUP_NON_FOR_SALE_POST_NLU_ATTEMPT:"group_non_for_sale_post_nlu_attempt",GROUP_NON_FOR_SALE_POST_NLU_ERROR:"group_non_for_sale_post_nlu_error",GROUP_NON_FOR_SALE_POST_NLU_TIMEOUT:"group_non_for_sale_post_nlu_timeout",ADMIN_GROUP_PURPOSE_EDIT_DISALLOWED:"admin_group_purpose_edit_disallowed",ADMIN_GROUP_REQUEST_PURPOSE_CHANGE:"admin_group_request_purpose_change",FOR_SALE_POST_APPROVE:"for_sale_post_approve",NON_FOR_SALE_POST_APPROVE:"non_for_sale_post_approve",FOR_SALE_POST_DELETED:"for_sale_post_deleted",NON_FOR_SALE_POST_DELETED:"non_for_sale_post_deleted",GROUP_NON_FOR_SALE_POST_INTERCEPT_CREATED:"group_non_for_sale_post_intercept_created",LAUNCH_MESSAGE_SELLER_DIALOG:"launch_message_seller_dialog",MESSAGE_SELLER:"message_seller",SHARED_TO_GROUP:"shared_to_group",RECENT_ACTIVITY_PAGE_CONTENT:"recent_activity_page_content",RECENT_ACTIVITY_DELETE_ITEM:"recent_activity_delete_item",SAVED_SEARCH_CREATED:"saved_search_created",SAVED_SEARCH_DELETED:"saved_search_deleted",SAVED_SEARCH_NOTIFICATION_SENT:"saved_search_notification_sent",P2P_PLATFORM_CONTEXT_CREATED:"p2p_platform_context_created",INCOMPLETE_POST_SAVED_AS_NON_FOR_SALE:"incomplete_post_saved_as_non_for_sale",GROUP_CROSS_POST_ATTEMPTED:"group_cross_post_attempted",EDIT_SYNC_ATTEMPTED:"edit_sync_attempted",EDIT_SYNC_SUCCESS:"edit_sync_success",SERVER_SALE_POST_INTERCEPT_TRIGGERED:"server_sale_post_intercept_triggered",SSFY_SEE_MORE_CLICK:"ssfy_see_more_click",COMPOSER_TOOLTIP_NUX_SEEN:"composer_tooltip_nux_seen",AUTHOR_COMMENT:"author_comment",GROUP_NON_FOR_SALE_POST_INTERCEPT_ATTEMPTED:"group_non_for_sale_post_intercept_attempted",GROUP_NON_FOR_SALE_POST_INTERCEPT_DETECTED:"group_non_for_sale_post_intercept_detected",GROUP_NON_FOR_SALE_POST_INTERCEPT_DECLINED:"group_non_for_sale_post_intercept_declined",GROUP_NON_FOR_SALE_POST_INTERCEPT_ACCEPTED:"group_non_for_sale_post_intercept_accepted",H_SCROLL_STORY_CLICKED:"h_scroll_story_clicked",XGROUP_ITEMS_FOR_SALE_NOTIF_OPT_OUT:"xgroup_fs_notif_opt_out",XGROUP_ITEMS_FOR_SALE_NOTIF_OPT_IN:"xgroup_fs_notif_opt_in",CLIENT_LIKE:"client_like",CLIENT_COMMENT:"client_comment",MARKETPLACE_POST_CREATION_FAIL_SIMILAR_POST:"MARKETPLACE_POST_CREATION_FAIL_SIMILAR_POST",MARKETPLACE_POST_CREATION_FAIL_NO_MARKETPLACE_ID:"marketplace_post_creation_fail_no_marketplace_id",THEME_CARD_SELL_CLICK:"theme_card_sell_click",COMPOSER_ZIP_CODE_AUTO_FILL_SUCCESS:"composer_zip_code_auto_fill_success",COMPOSER_ZIP_CODE_AUTO_FILL_FAILURE:"composer_zip_code_auto_fill_failure",COMPOSER_ZIP_CODE_INVALID_ENTRY:"composer_zip_code_invalid_entry",COMPOSER_ZIP_CODE_NO_INFERRED_COUNTRY:"composer_zip_code_no_inferred_country",COMPOSER_ZIP_CODE_LAT_LONG_NOT_FOUND:"composer_zip_code_lat_long_not_found",COMPOSER_ZIP_CODE_SAVED:"composer_zip_code_saved",COMPOSER_NEIGHBORHOOD_AUTO_FILL_SUCCESS:"composer_neighborhood_auto_fill_success",COMPOSER_NEIGHBORHOOD_AUTO_FILL_FAILURE:"composer_neighborhood_auto_fill_failure",LOCATION_GEOPROFILE_FALLBACK_NO_PREDICTED_ZIPCODE:"location_geoprofile_fallback_no_predicted_zipcode",LOCATION_NO_PREDICTED_HOME_CITY:"location_no_predicted_home_city",LOCATION_NO_PREDICTED_ZIPCODE:"location_no_predicted_zipcode",LOCATION_NO_BUY_LOCATION:"location_no_buy_location",LOCATION_NO_SELL_LOCATION:"location_no_sell_location",COMMERCE_INVENTORY_ENTER:"commerce_inventory_enter",COMPOSER_GROUP_SALE_POST_INTERCEPT:"composer_group_sale_post_intercept",COMPOSER_GROUP_SALE_POST_INTERCEPT_ACCEPTED:"composer_group_sale_post_intercept_accepted",COMPOSER_GROUP_SALE_POST_INTERCEPT_DECLINED:"composer_group_sale_post_intercept_declined",FOR_SALE_ITEM_MESSAGE_SELLER_BUTTON_CLICKED:"for_sale_item_message_seller_button_clicked",FOR_SALE_ITEM_SAVE_BUTTON_CLICKED:"for_sale_item_save_button_clicked",COMCOM_TEL_CLICK:"comcom_tel_click",COMCOM_COPY_NUM_CLICK:"comcom_copy_num_click",COMCOM_NUM_CLICK:"comcom_num_click",COMCOM_CREATE_CONTACT_CLICK:"comcom_create_contact_click",COMCOM_SEND_SMS_CLICK:"comcom_send_sms_click"};}),null);
__d("MComposerStoreToInputMap",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CONFIG:{csid:"csid"},SHARE:{ID:"sid",SHARE_URI:"linkUrl",FEEDBACK_SOURCE:"fs",APP_ID:"appid",INTERNAL_EXTRA:"internal_extra",LINK_NO_CHANGE:"link_no_change"}};}),null);
__d("MCompositionFormatFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FORMAT_ID:"format_id",PREVIOUS_FORMAT_ID:"prev_format_id"};}),null);
__d("MCompositionFormatID",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO:"photo",SLIDESHOW:"slideshow"};}),null);
__d("MCompositionMinutiaeFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION_TYPE_ID:"action_type",CUSTOM_ICON_ID:"custom_icon",FBT_PHRASE:"fbt_phrase",ICON:"icon_src",ICON_LEGACY:"icon",OBJECT_ID:"object",OBJECT_NAME:"object_str",SHOW_ATTACHMENT:"show_attachment",SUGGESTION_MECHANISM:"suggestion_mechanism",TRIGGERS_EVENT_TAG_EXPANSION:"triggers_event_tag_expansion",USE_DEFAULT_ICON:"use_default_icon"};}),null);
__d("MCompositionPhotoFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PHOTO_INFO_LIST:"photo_info_list"};}),null);
__d("MCompositionPlaceFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADDRESS:"address",FREEFORM_NAME:"FREEFORM_NAME",ID:"id",IS_CURRENT:"is_current",IS_EVENT:"isEventResult",IS_NEW:"new_place",IS_NON_SPECIFIC:"isNonSpecific",JSON_LOCATION:"JSON_LOCATION",LATITUDE:"latitude",LONGITUDE:"longitude",NAME:"name",PHONE:"phone",SUGGESTION_MECHANISM:"suggestion_mechanism",SUGGESTED_OG_ACTION_TYPE_ID:"og_action_type_id",TOPIC_TOKENS:"topic_tokens",WEBSITE:"website",ZIP:"zip"};}),null);
__d("MCompositionSlideshowFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={IS_VALID:"is_valid"};}),null);
__d("MCompositionWithFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={TOKENS:"TOKENS"};}),null);
__d("PrivacyRemindersLoggingTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ONLY_ME_IMPRESSION:"only_me_impression",ONLY_ME_CONVERSION:"only_me_conversion",EVERYONE_IMPRESSION:"everyone_impression",EVERYONE_CONVERSION:"everyone_conversion",EVERYONE_TESTS_IMPRESSION:"everyone_tests_impression",EVERYONE_TESTS_CONVERSION:"everyone_tests_conversion",PUBLIC_POSTING_FILTER_NUX_IMPRESSION:"public_posting_filter_nux_impression",PUBLIC_POSTING_FILTER_NUX_CONVERSION:"public_posting_filter_nux_conversion",DELTA_EVERYONE_IMPRESSION:"delta_everyone_impression",DELTA_EVERYONE_CONVERSION:"delta_everyone_conversion",DELTA_EVERYONE_OK_BUTTON_CLICKED:"delta_everyone_ok_button_clicked",DELTA_EVERYONE_CHANGE_BUTTON_CLICKED:"delta_everyone_change_button_clicked"};}),null);
__d("SlideshowCreationWaterfallEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SLIDESHOW_INTENT:"intent_slideshow",SLIDESHOW_CANCEL:"cancel_slideshow",SLIDESHOW_POST:"post_slideshow",SLIDESHOW_PREVIEW_INTENT:"intent_slideshow_preview",SLIDESHOW_PREVIEW_CANCEL:"cancel_slideshow_preview",SLIDESHOW_IMAGE_UPLOAD_STARTED:"image_upload_started_slideshow",SLIDESHOW_IMAGE_UPLOAD_SUCCESS:"image_upload_success_slideshow",SLIDESHOW_IMAGES_SELECT_CONFIRM:"images_select_confirm_slideshow",SLIDESHOW_IMAGE_REMOVE:"image_remove_slideshow",SLIDESHOW_ADD_VIDEO_CLICK:"add_video_click_slideshow",SLIDESHOW_VIDEO_UPLOAD_START:"video_upload_start_slideshow",SLIDESHOW_VIDEO_UPLOAD_ERROR:"video_upload_error_slideshow",SLIDESHOW_VIDEO_UPLOAD_SUCCESS:"video_upload_success_slideshow",SLIDESHOW_FRAME_IMAGES_START:"frame_images_start_slideshow",SLIDESHOW_FRAME_IMAGES_SUCCESS:"frame_images_success_slideshow",SLIDESHOW_FRAME_IMAGES_ERROR:"frame_images_error_slideshow",SLIDESHOW_STORYLINE_MOOD_SELECT:"storyline_mood_select_slideshow",SLIDESHOW_MUSIC_CATEGORY_SELECT:"music_category_select_slideshow",SLIDESHOW_STORYLINE_MOOD_REMOVE:"storyline_mood_remove_slideshow",SLIDESHOW_STORYLINE_MOOD_DELETE:"storyline_mood_delete_slideshow",SLIDESHOW_AUDIO_UPLOAD_START:"audio_upload_start_slideshow",SLIDESHOW_AUDIO_UPLOAD_ERROR:"audio_upload_error_slideshow",SLIDESHOW_AUDIO_UPLOAD_SUCCESS:"audio_upload_success_slideshow",SLIDESHOW_DURATION_CHANGE:"duration_change_slideshow",SLIDESHOW_TRANSITION_CHANGE:"transition_change_slideshow",SLIDESHOW_FORMAT_CHANGE:"format_change_slideshow",SLIDESHOW_TAB_CHANGE:"tab_change_slideshow"};}),null);
__d("UnpublishedContentTypeJSConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PUBLISHED:0,SCHEDULED:1,DRAFT:2,ADS_POST:3,GLOBAL_CONTENT:4,PREVIEW:5,INLINE_CREATED:6,VALIDATION:7,LOCATION:8,INSTANT_ARTICLE:9,TAROT_DIGEST:10};}),null);
__d('MTouchableArea.react',['MJSEnvironment','React','joinClasses','cx'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=h.IS_ANDROID&&h.OS_VERSION<4.1,n=3,o=i.createClass({displayName:'MTouchableArea',propTypes:{onTouchEnd:l.func,onTouchMove:l.func,onTouchStart:l.func},getInitialState:function p(){return {touchStartX:0,touchStartY:0,isTouched:false};},handleTouchEnd:function p(event){this.setState(this.getInitialState());if(this.props.onTouchEnd)this.props.onTouchEnd(event);},handleTouchMove:function p(event){var q=event.nativeEvent.touches[0].screenX-this.state.touchStartX,r=event.nativeEvent.touches[0].screenY-this.state.touchStartY;if(q>n||r>n)this.setState(this.getInitialState());if(this.props.onTouchMove)this.props.onTouchMove(event);},handleTouchStart:function p(event){if(m){this.setState({isTouched:true,touchStartX:event.nativeEvent.touches[0].screenX,touchStartY:event.nativeEvent.touches[0].screenY});}else this.setState({isTouched:true});if(this.props.onTouchStart)this.props.onTouchStart(event);},render:function p(){var q=i.Children.only(this.props.children);return i.cloneElement(q,{className:j(q.props.className,this.state.isTouched?"touched":''),onTouchEnd:this.handleTouchEnd,onTouchMove:m?this.handleTouchMove:this.props.onTouchMove,onTouchStart:this.handleTouchStart});}});f.exports=o;}),null);
__d('MCompositionFormatStore',['MCompositionStore','MCompositionFormatFields','MCompositionFormatID','MCompositionStoreID','emptyFunction','invariant','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=c('MCompositionConstants').ActionTypes;function o(q){if(q){var r=q[i.FORMAT_ID];!(Object.values(j).indexOf(r)!==-1)?m(0):void 0;var s=p.get(i.FORMAT_ID,null);q[i.PREVIOUS_FORMAT_ID]=s;}return q;}var p=new h(k.FORMAT,i).setRequiredFields(i.FORMAT_ID).setHandlerFor(n.COMPOSITION_FINALIZE,l.thatReturnsNull).setHandlerFor(n.COMPOSITION_INITIALIZE,o).setHandlerFor(n.FORMAT_CHANGE,o).register();f.exports=p;}),null);
__d('MCompositionMinutiaeStore',['MCompositionStore','MCompositionMinutiaeFields','MCompositionStoreID','emptyFunction','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('MCompositionConstants').ActionTypes,m=new h(j.MINUTIAE,i).setRequiredFields(i.ACTION_TYPE_ID,i.ICON,i.ICON_LEGACY,i.OBJECT_ID,i.OBJECT_NAME).setHandlerFor(l.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(l.COMPOSITION_INITIALIZE,k.thatReturnsArgument).setHandlerFor(l.MINUTIAE_REMOVE,k.thatReturnsNull).setHandlerFor(l.MINUTIAE_SET,k.thatReturnsArgument).register();f.exports=m;}),null);
__d('MCompositionPhotoStore',['MCompositionStore','MCompositionPhotoFields','MCompositionStoreID','emptyFunction','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('MCompositionConstants').ActionTypes,m=new h(j.PHOTO,i).setMutable(true).setHandlerFor(l.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(l.COMPOSITION_INITIALIZE,k.thatReturnsArgument).setHandlerFor(l.PHOTO_CHANGE,k.thatReturnsArgument).register();f.exports=m;}),null);
__d('MCompositionPlaceStore',['FBJSON','MCompositionStore','MCompositionConfigStore','MCompositionDispatcher','MCompositionPlaceFields','MCompositionStoreID','MPlaces','emptyFunction','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=c('MCompositionConstants').ActionTypes,q=new i(m.PLACE,l).setRequiredFields(l.NAME).setHandlerFor(p.COMPOSITION_INITIALIZE,function(r){k.waitFor([j.toUpdate()]);return r;}).setHandlerFor(p.PLACE_REMOVE,o.thatReturnsNull).setHandlerFor(p.PLACE_SET,function(r){var s=r[l.LATITUDE],t=r[l.LONGITUDE];if(s&&t){r[l.JSON_LOCATION]=h.stringify({latitude:s,longitude:t});}else r[l.JSON_LOCATION]=n.getCurrentJSONLocation();return r;}).register();f.exports=q;}),null);
__d('MCompositionSlideshowStore',['MMultiPhotoUploaderAttachmentState','MCompositionDispatcher','MCompositionStore','MCompositionSlideshowFields','MCompositionPhotoStore','MCompositionPhotoFields','MCompositionStoreID','SlideshowConstants','emptyFunction','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=c('MCompositionConstants').ActionTypes;function r(t){i.waitFor([l.toUpdate()]);var u=l.get(m.PHOTO_INFO_LIST,null),v=s.getAll(),w={};w[k.IS_VALID]=Boolean(u&&u.length>=o.min_photo_num&&u.length<=o.max_photo_num&&u.filter(function(x){return x.state!==h.UPLOADED;}).length===0);return babelHelpers['extends']({},v,w);}var s=new j(n.SLIDESHOW,k).setRequiredFields(k.IS_VALID).setHandlerFor(q.COMPOSITION_FINALIZE,p.thatReturnsNull).setHandlerFor(q.COMPOSITION_INITIALIZE,r).setHandlerFor(q.PHOTO_CHANGE,r).register();f.exports=s;}),null);
__d('MCompositionWithStore',['MCompositionStore','MCompositionWithFields','MCompositionStoreID','emptyFunction','MCompositionConstants'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('MCompositionConstants').ActionTypes,m=new h(j.WITH_TAGS,i).setMutable(true).setHandlerFor(l.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(l.COMPOSITION_INITIALIZE,k.thatReturnsArgument).setHandlerFor(l.WITH_CHANGE,k.thatReturnsArgument).register();f.exports=m;}),null);
__d('MTaggableActivityPreviewTemplate',['invariant'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$MTaggableActivityPreviewTemplate1=j;this.$MTaggableActivityPreviewTemplate2=k;}i.prototype.getTemplateArray=function(){'use strict';var j=0,k=this.$MTaggableActivityPreviewTemplate2.length,l,m=[];for(var n=0;n<=this.$MTaggableActivityPreviewTemplate2.length;n++){l=n!==k?this.$MTaggableActivityPreviewTemplate2[n].position:this.$MTaggableActivityPreviewTemplate1.length;m.push(this.$MTaggableActivityPreviewTemplate1.slice(j,l));j=l;}return m;};i.prototype.getTokens=function(){'use strict';return this.$MTaggableActivityPreviewTemplate2;};i.prototype.renderArray=function(j){'use strict';!(this.$MTaggableActivityPreviewTemplate2.length===j.length)?h(0):void 0;var k=this.getTemplateArray().concat();for(var l=j.length;l>0;l--)k.splice(l,0,j[l-1]);return k;};f.exports=i;}),null);
__d("XTaggableActivityPreviewTemplateQueryController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/intl\/preview_template\/",{action_type_id:{type:"Int",required:true}});}),null);
__d('MTaggableActivityPreviewTemplateQuery',['Promise','MTaggableActivityPreviewTemplateConstants','ErrorUtils','MCache','MTaggableActivityPreviewTemplate','MRequest','XTaggableActivityPreviewTemplateQueryController','invariant'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.TOKEN_TYPES,q=1209600000,r='__created_at';function s(u){return j.applyWithGuard(u,null,null,null,'MTaggableActivityPreviewTemplate');}function t(u){'use strict';this.$MTaggableActivityPreviewTemplateQuery1=u;this.$MTaggableActivityPreviewTemplateQuery2={has_place_type:'',has_users_type:''};}t.prototype.$MTaggableActivityPreviewTemplateQuery3=function(u){'use strict';u[r]=Date.now();s(function(){return k.setItem(this.getCacheKey(),u);}.bind(this));return this.$MTaggableActivityPreviewTemplateQuery4(u);};t.prototype.$MTaggableActivityPreviewTemplateQuery4=function(u){'use strict';var v=u[this.$MTaggableActivityPreviewTemplateQuery5()];!v?o(0):void 0;return new l(v.string,v.tokens);};t.prototype.getCacheKey=function(){'use strict';return [i.CACHE_PREFIX,i.VERSION,this.$MTaggableActivityPreviewTemplateQuery1,i.LOCALE,i.GENDER].join('_');};t.prototype.$MTaggableActivityPreviewTemplateQuery6=function(){'use strict';var u=this.getCacheKey(),v=s(function(){return k.getItem(u);});if(!v)return null;if(Date.now()-v[r]>q){s(function(){return k.removeItem(u);});return null;}return this.$MTaggableActivityPreviewTemplateQuery4(v);};t.prototype.$MTaggableActivityPreviewTemplateQuery5=function(){'use strict';return i.KEY_PREFIX+'_'+Object.keys(this.$MTaggableActivityPreviewTemplateQuery2).sort().map(function(u){return this.$MTaggableActivityPreviewTemplateQuery2[u];}.bind(this)).join('_');};t.prototype.getURI=function(){'use strict';return n.getURIBuilder().setInt('action_type_id',this.$MTaggableActivityPreviewTemplateQuery1).getURI();};t.prototype.fetch=function(){'use strict';var u=this.$MTaggableActivityPreviewTemplateQuery6();return u?h.resolve(u):this.$MTaggableActivityPreviewTemplateQuery7();};t.prototype.$MTaggableActivityPreviewTemplateQuery7=function(){'use strict';return new h(function(u){var v=new m(this.getURI()).setMethod('GET');v.listen('done',function(w){u(this.$MTaggableActivityPreviewTemplateQuery3(w.payload.templates));}.bind(this));v.send();}.bind(this));};t.prototype.setHasPeople=function(){'use strict';this.$MTaggableActivityPreviewTemplateQuery2.has_users_type=p.PEOPLE.MULTIPLE;return this;};t.prototype.setHasPerson=function(){'use strict';this.$MTaggableActivityPreviewTemplateQuery2.has_users_type=p.PEOPLE.SINGLE;return this;};t.prototype.setHasPlace=function(){'use strict';this.$MTaggableActivityPreviewTemplateQuery2.has_place_type=p.PLACE.SPECIFIC;return this;};f.exports=t;}),null);
__d('MComposerLoggerPublishingListeners',['MComposerLogger','MComposerWaterfallEvent'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){'use strict';this.error=this.fail=function(){h.logWithSessionID(i.COMPOSER_POST_FAILURE,k,l);};this.done=function(){h.logWithSessionID(i.COMPOSER_POST_SUCCESS,k,l);};}f.exports=j;}),null);
__d('SlideshowCreationWaterfallLogger',['MarauderLogger'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={logEvent:function j(k,l,m){l=l||{};h.log(k,m,l,undefined,undefined,undefined);}};f.exports=i;}),null);
__d('MComposerSlideshowLogger',['MCompositionConfigFields','MCompositionConfigStore','MCompositionPhotoFields','MCompositionPhotoStore','SlideshowCreationWaterfallLogger'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={log:function n(o){var p=i.get(h.SESSION_ID,null),q=k.get(j.PHOTO_INFO_LIST,[]).length;l.logEvent(o,{photo_count:q,composer_session_id:p},'composer_slideshow');}};f.exports=m;}),null);
__d('MComposerNavigationMixin',['MComposerNavigation','invariant'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={__navigationPolicy:null,currentNavigationPolicy:function k(){!this.hasNavigationPolicy()?i(0):void 0;return this.__navigationPolicy;},hasNavigationPolicy:function k(){return !!this.__navigationPolicy;},newNavigationPolicy:function k(){!!this.hasNavigationPolicy()?i(0):void 0;this.__navigationPolicy=h.newPolicy().addOnClose(function(){return this.__navigationPolicy=null;}.bind(this));return this.__navigationPolicy;},cleanupSoftState:function k(){h.cleanupSoftState();}};f.exports=j;}),null);
__d('MAlbumPicker',['CSS','MLegacyDataStore','DOM','MComposerNavigationMixin','Stratcom','$','eventsMixinDeprecated','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;if(c.__markCompiled)c.__markCompiled();p=babelHelpers.inherits(r,o(k));q=p&&p.prototype;function r(s){'use strict';q.constructor.call(this);this._root=s;this._albumList=j.scry(this._root,'div','album-list')[0];this._createAlbumRoot=j.scry(this._root,'div','create-album')[0];this._albumListInputs=this._getAlbumListInputs();for(var t=0;t<this._albumListInputs.length;t++){var u=this._albumListInputs[t];if(u.checked){var v=i.get(u);this._currentSelectedAlbumID=v.album_id;break;}}this._listeners=[l.listen('click','cancel_album_picker',function(){this._navigateAwayAndCancel();}.bind(this)),l.listen('click','album-input',this._onAlbumSelected.bind(this))];if(this._albumList&&this._createAlbumRoot){this._listeners.push(l.listen('click','create-album-item',this._openCreateAlbum.bind(this)));this._listeners.push(l.listen('click','cancel_create_album',this._cancelCreateAlbum.bind(this)));this._listeners.push(l.listen('MPhotosCreateAlbum:created',null,this._onCreateAlbum.bind(this)));}}r.prototype._getAlbumListInputs=function(){'use strict';return j.scry(this._albumList,'input').filter(function(s){return s.type==='radio';});};r.prototype._navigateAway=function(){'use strict';if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().addOnClose(function(){return j.hide(this._root);}.bind(this)).close();};r.prototype._navigateAwayAndCancel=function(){'use strict';if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().addOnClose(function(){return this._cancel();}.bind(this)).close();};r.prototype.hide=function(){'use strict';this._navigateAway();};r.prototype.show=function(){'use strict';this.newNavigationPolicy().addOnCloseByBrowser(function(){return this._cancel();}.bind(this)).addOnOpen(function(){return j.show(this._root);}.bind(this)).open();if(this._albumListInputs.length===0)this._albumListInputs=this._getAlbumListInputs();};r.prototype.resetAlbumSelection=function(){'use strict';this._currentSelectedAlbumID=null;for(var s=0;s<this._albumListInputs.length;s++){var t=this._albumListInputs[s],u=i.get(t);if(u.is_mobile_uploads_album){t.checked=true;this._currentSelectedAlbumID=u.album_id;}else t.checked=false;}};r.prototype._openCreateAlbum=function(event){'use strict';l.invoke('MAlbumPicker:createalbum:open');j.hide(this._albumList);j.show(this._createAlbumRoot);};r.prototype._closeCreateAlbum=function(){'use strict';l.invoke('MAlbumPicker:createalbum:close');j.hide(this._createAlbumRoot);j.show(this._albumList);};r.prototype._cancelCreateAlbum=function(){'use strict';this._albumListInputs.forEach(function(s){var t=i.get(s);if(t.album_id===this._currentSelectedAlbumID)s.checked=true;}.bind(this));this._closeCreateAlbum();};r.prototype._onCreateAlbum=function(event){'use strict';var s=event.getData();this._closeCreateAlbum();this._chooseAlbum(false,s.album_id,s.privacy_id);};r.prototype._onAlbumSelected=function(event){'use strict';var s=event.getNode('album-input'),t=i.get(s),u=t.is_mobile_uploads_album,v=t.album_id,w=t.privacy_id;this._currentSelectedAlbumID=v;this._chooseAlbum(u,v,w);};r.prototype._chooseAlbum=function(s,t,u){'use strict';h.conditionClass(m('album-button'),'active',!s);this._navigateAway();this.invoke('choose-album',{is_mobile_uploads_album:s,album_id:t,privacy_id:u});};r.prototype._cancel=function(){'use strict';j.hide(this._root);this.invoke('cancel');};r.fromID=function(s){'use strict';var t=m(s),u=i.get(t);if(!u._albumPicker)u._albumPicker=new r(t);return u._albumPicker;};n(r,['cancel','choose-album']);Object.assign(r.prototype,{_root:null,_listeners:null});f.exports=r;}),null);
__d('GroupSellLogger',['BanzaiLogger','GroupSellUserActionEvents','GroupSellSurface'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={logComposerTooltipNUXSeen:function l(m){h.log('GroupSellUserActionsLoggerConfig',{event:i.COMPOSER_TOOLTIP_NUX_SEEN,group_id:m});},_formatComposerInterceptWords:function l(m,n){var o=[];if(n)o=n.slice();if(m&&m>0)o.push(m.toString()+' prices count');return o.join(',');},logComposerInterceptAttempted:function l(m){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_INTERCEPT_ATTEMPTED,group_id:m});},logComposerInterceptDetected:function l(m,n,o){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_INTERCEPT_DETECTED,group_id:m,intercept_words:k._formatComposerInterceptWords(n,o)});},logComposerInterceptCreated:function l(m,n,o){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_INTERCEPT_CREATED,group_id:m,intercept_words:k._formatComposerInterceptWords(n,o)});},logComposerInterceptAccepted:function l(m,n,o){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_INTERCEPT_ACCEPTED,group_id:m,intercept_words:k._formatComposerInterceptWords(n,o)});},logComposerInterceptDeclined:function l(m,n,o){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_INTERCEPT_DECLINED,group_id:m,intercept_words:k._formatComposerInterceptWords(n,o)});},logHScrollViewPermalink:function l(m,n){h.log('GroupSellUserActionsLoggerConfig',{event:i.H_SCROLL_STORY_CLICKED,group_id:m,group_message_id:n});},logNLUTimeout:function l(m){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_NLU_TIMEOUT,group_id:m});},logNLUError:function l(m){h.log('GroupSellUserActionsLoggerConfig',{event:i.GROUP_NON_FOR_SALE_POST_NLU_ERROR,group_id:m});},logNonForSaleMarkAsSold:function l(m,n,o){h.log('GroupSellUserActionsLoggerConfig',{event:i.NON_FOR_SALE_MARK_AS_SOLD,group_id:m,group_message_id:n,description:o,surface:j.DELETE_INTERCEPT});}};f.exports=k;}),null);
__d('MGroupSellInterceptUtil',['escapeRegex'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={parseInterceptedPrices:function j(k,l){var m=[];if(!l)return m;var n=new RegExp('\\d+','ig'),o=new RegExp(h(l)+'\\s*\\d+','ig'),p=new RegExp('\\d+(?=\\s*'+h(l)+')','ig'),q=k.match(o);if(q)q.forEach(function(r){return m=m.concat(r.match(n));});q=k.match(p);if(q)m=m.concat(q);return m;}};f.exports=i;}),null);
__d('MStructuredComposerOGInput',['CSS','DOM','MAjaxify','MarauderLogger','MComposerLogger','MComposerOGStrings','MComposerNavigationMixin','MComposerWaterfallEvent','MCompositionMinutiaeStore','MCompositionMinutiaeFields','MCompositionUserActions','MRequest','MSubscriptionsHandlerMixin','MUnifiedTaggerConstants','MViewport','Stratcom','cx','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z,aa;if(c.__markCompiled)c.__markCompiled();var ba=u.SHOW_UNIFIED_TAGGER,ca=55;z=babelHelpers.inherits(da,y(n,t));aa=z&&z.prototype;function da(ea,fa,ga,ha,ia){'use strict';aa.constructor.call(this);this.$MStructuredComposerOGInput1=ea;this.$MStructuredComposerOGInput2=true;this.$MStructuredComposerOGInput3=true;this.$MStructuredComposerOGInput4=null;this.$MStructuredComposerOGInput5=fa;this.$MStructuredComposerOGInput6=ga;this.$MStructuredComposerOGInput7=ga.parentNode;this.$MStructuredComposerOGInput8=ia;this.$MStructuredComposerOGInput9=i.find(this.$MStructuredComposerOGInput1,'input','og-action-input');this.$MStructuredComposerOGInput10=i.find(this.$MStructuredComposerOGInput1,'input','og-object-input');this.$MStructuredComposerOGInput11=i.find(this.$MStructuredComposerOGInput1,'input','og-phrase-input');this.$MStructuredComposerOGInput12=i.find(this.$MStructuredComposerOGInput1,'input','og-icon-input');this.$MStructuredComposerOGInput13=i.find(this.$MStructuredComposerOGInput1,'input','og-suggestion-mechanism');this.$MStructuredComposerOGInput14=i.find(this.$MStructuredComposerOGInput1,'input','og-hide-attachment');this.$MStructuredComposerOGInput15=false;this.$MStructuredComposerOGInput16=null;this.$MStructuredComposerOGInput17=i.find(this.$MStructuredComposerOGInput1,'ul','og-tag');this.$MStructuredComposerOGInput18=ha;if(this.$MStructuredComposerOGInput8)this.addSubscriptions(this.$MStructuredComposerOGInput18.listen('clear',function(){this.$MStructuredComposerOGInput8.clear();this.$MStructuredComposerOGInput19();}.bind(this)),this.$MStructuredComposerOGInput8.addListener('clear',function(){return this.$MStructuredComposerOGInput19();}.bind(this)));this.addSubscriptions(this.$MStructuredComposerOGInput18.listen('submit',this.$MStructuredComposerOGInput20.bind(this)),p.addChangeListener(function(){return this.$MStructuredComposerOGInput21();}.bind(this)),this.$MStructuredComposerOGInput18.listen('iconChanged',function(event){if(ba){w.invoke('MComposer:tagger:update:og-icon',null,{icon:event.icon_src});}else{var ja=i.find(this.$MStructuredComposerOGInput17,'li','token'),ka=i.find(ja,'i');i.replace(ka,event.icon);}this.$MStructuredComposerOGInput12.value=event.custom_icon_id;this.$MStructuredComposerOGInput22();if(this.$MStructuredComposerOGInput8){this.$MStructuredComposerOGInput4['{icon}']=i.create('i',{className:event.icon.className,style:event.icon.style});this.$MStructuredComposerOGInput8.setValue(this.$MStructuredComposerOGInput4);}w.invoke('MStructuredComposerOGInput-done',null,{icon_changed:true});l.log(o.MINUTIAE_CHANGE_ICON,{action_type_id:event.action_type_id,query:event.query});}.bind(this)),this.$MStructuredComposerOGInput18.listen('cancel',function(){w.invoke('MStructuredComposerOGInput-done',null,{cancel:true});l.log(o.MINUTIAE_CANCEL);this.$MStructuredComposerOGInput22();}.bind(this)),this.$MStructuredComposerOGInput18.listen('cancelIconSelection',function(event){l.log(o.MINUTIAE_CHANGE_ICON_CANCEL,{action_type_id:event.action_type_id,query:event.query});}));if(ba){this.addSubscriptions(w.listen('MComposer:tagger:click',u.TOKEN_TYPES.OBJECT,this.$MStructuredComposerOGInput23.bind(this)),w.listen('MComposer:tagger:click',u.TOKEN_TYPES.ICON,function(){return this.$MStructuredComposerOGInput24();}.bind(this)));}else this.addSubscriptions(i.listen(this.$MStructuredComposerOGInput1,'click','og-tags',this.$MStructuredComposerOGInput25.bind(this)),i.listen(this.$MStructuredComposerOGInput1,'click','remove-token',this.$MStructuredComposerOGInput26.bind(this)));this.addSubscriptions(w.listen('MComposer:open:activity',null,function(){this.$MStructuredComposerOGInput3=false;this.$MStructuredComposerOGInput27();}.bind(this)),w.listen('click','og_included_place_checkin',this.$MStructuredComposerOGInput28.bind(this)),i.listen(this.$MStructuredComposerOGInput5,'click',null,this.$MStructuredComposerOGInput23.bind(this)),i.listen(this.$MStructuredComposerOGInput7,'click','close-composer-attachment',this.$MStructuredComposerOGInput29.bind(this)));}da.prototype.$MStructuredComposerOGInput19=function(){'use strict';this.reset();this.$MStructuredComposerOGInput30();w.invoke('MStructuredComposerOGInput-done',null,{remove:true});l.log(o.MINUTIAE_REMOVE);};da.prototype.$MStructuredComposerOGInput29=function(){'use strict';var ea={};ea[q.SHOW_ATTACHMENT]=false;r.minutiaeSet(babelHelpers['extends']({},p.getAll(),ea));};da.prototype.$MStructuredComposerOGInput20=function(event){'use strict';var ea={};for(var fa in q){var ga=q[fa];ea[ga]=event[ga];}r.minutiaeSet(ea);};da.prototype.$MStructuredComposerOGInput21=function(){'use strict';var ea=i.find(this.$MStructuredComposerOGInput17,'li','token');this.$MStructuredComposerOGInput31();var fa=p.get(q.ACTION_TYPE_ID);if(!fa)return;var ga=p.get(q.CUSTOM_ICON_ID),ha=p.get(q.ICON_LEGACY),ia=p.get(q.ICON),ja=p.get(q.OBJECT_NAME),ka=p.get(q.OBJECT_ID),la=!this.$MStructuredComposerOGInput15&&p.get(q.SHOW_ATTACHMENT),ma=p.get(q.SUGGESTION_MECHANISM),na=p.get(q.USE_DEFAULT_ICON,false),oa=p.get(q.FBT_PHRASE);this.$MStructuredComposerOGInput16=p.get(q.TRIGGERS_EVENT_TAG_EXPANSION)?String(ka):null;if(!oa)oa=m.getFBTPhrase(fa,ha,ja,ka);if(ja&&!ka){this.$MStructuredComposerOGInput11.value=ja;}else{this.$MStructuredComposerOGInput11.value='';if(la){this.$MStructuredComposerOGInput32(ka,ja);this.$MStructuredComposerOGInput14.value=false;}else{this.$MStructuredComposerOGInput31();this.$MStructuredComposerOGInput14.value=true;}}if(ba){w.invoke('MComposer:tagger:update',null,{ogActivity:{id:fa,icon:ia,object:ja}});}else{i.remove(ea.firstChild);var pa={'max-width':v.getUseableWidth()-ca+'px'},qa=i.create('span',{className:"_52x0",style:pa},oa);i.prependContent(ea,qa);}if(this.$MStructuredComposerOGInput8){this.$MStructuredComposerOGInput4=oa;this.$MStructuredComposerOGInput8.setValue(this.$MStructuredComposerOGInput4);}this.$MStructuredComposerOGInput10.value=ka;this.$MStructuredComposerOGInput9.value=fa;this.$MStructuredComposerOGInput12.value=ga;this.$MStructuredComposerOGInput18.hide();this.$MStructuredComposerOGInput33();this.$MStructuredComposerOGInput13.value=ma;if(!ka&&!na){if(this.$MStructuredComposerOGInput8)this.$MStructuredComposerOGInput8.hide();this.$MStructuredComposerOGInput18.showIconSelector(fa,ka,ja,ha);}else{this.$MStructuredComposerOGInput22();w.invoke('MStructuredComposerOGInput-done',null,{add:true});l.log(o.MINUTIAE_ADD);}w.invoke('MStructuredComposerOGInput:update');};da.prototype.$MStructuredComposerOGInput22=function(){'use strict';if(this.$MStructuredComposerOGInput3&&this.hasNavigationPolicy()){this.$MStructuredComposerOGInput30();}else{this.$MStructuredComposerOGInput28();w.invoke('MComposer:close:activity','og-tagger');}};da.prototype.reset=function(){'use strict';this.$MStructuredComposerOGInput4=null;this.$MStructuredComposerOGInput9.value='';this.$MStructuredComposerOGInput10.value='';this.$MStructuredComposerOGInput11.value='';this.$MStructuredComposerOGInput12.value='';this.$MStructuredComposerOGInput14.value=false;this.$MStructuredComposerOGInput15=false;this.$MStructuredComposerOGInput16=null;if(ba)w.invoke('MComposer:tagger:update',null,{ogActivity:null});this.$MStructuredComposerOGInput31();if(this.$MStructuredComposerOGInput8)this.$MStructuredComposerOGInput8.clear();this.$MStructuredComposerOGInput33();w.invoke('MStructuredComposerOGInput:update');};da.prototype.getEventIDForExpansion=function(){'use strict';return this.$MStructuredComposerOGInput16;};da.prototype.setVisible=function(ea){'use strict';this.$MStructuredComposerOGInput2=ea;this.$MStructuredComposerOGInput33();};da.prototype.setDisableOgTagPreview=function(ea){'use strict';this.$MStructuredComposerOGInput15=ea;};da.prototype.hasValue=function(){'use strict';return !!this.$MStructuredComposerOGInput9.value;};da.prototype.getLoggingData=function(){'use strict';if(this.$MStructuredComposerOGInput9.value)return {action_type:this.$MStructuredComposerOGInput9.value,object:this.$MStructuredComposerOGInput10.value,object_str:this.$MStructuredComposerOGInput11.value};return null;};da.prototype.$MStructuredComposerOGInput33=function(){'use strict';var ea=!!this.$MStructuredComposerOGInput9.value;if(!ba)(ea&&this.$MStructuredComposerOGInput2?i.show:i.hide)(this.$MStructuredComposerOGInput1);(this.$MStructuredComposerOGInput2?i.show:i.hide)(this.$MStructuredComposerOGInput5);h.conditionClass(this.$MStructuredComposerOGInput5,'active',ea);};da.prototype.$MStructuredComposerOGInput32=function(ea,fa){'use strict';this.$MStructuredComposerOGInput31();i.show(this.$MStructuredComposerOGInput6);var ga='/platform/og/composer/attachment',ha=new s(ga).setData({object_id:ea});j.ajaxify(null,null,ha,null);};da.prototype.$MStructuredComposerOGInput31=function(){'use strict';i.replace(i.find(this.$MStructuredComposerOGInput7,'div','og-object-attachment'),this.$MStructuredComposerOGInput6);i.hide(this.$MStructuredComposerOGInput6);};da.prototype.$MStructuredComposerOGInput25=function(){'use strict';l.log(o.MINUTIAE_CHANGE_ICON_INTENT);if(this.$MStructuredComposerOGInput8)this.$MStructuredComposerOGInput8.hide();this.$MStructuredComposerOGInput24();};da.prototype.$MStructuredComposerOGInput23=function(){'use strict';l.log(o.MINUTIAE_INTENT);k.log('og_composer_icon_clicked');this.$MStructuredComposerOGInput34();};da.prototype.$MStructuredComposerOGInput26=function(event){'use strict';event.kill();this.reset();r.minutiaeRemove();w.invoke('MStructuredComposerOGInput-done',null,{remove:true});l.log(o.MINUTIAE_REMOVE);};da.prototype.$MStructuredComposerOGInput35=function(){'use strict';this.$MStructuredComposerOGInput3=false;this.$MStructuredComposerOGInput18.cancel();};da.prototype.$MStructuredComposerOGInput28=function(){'use strict';if(!this.$MStructuredComposerOGInput3)this.$MStructuredComposerOGInput3=true;this.$MStructuredComposerOGInput18.hide();};da.prototype.$MStructuredComposerOGInput27=function(){'use strict';if(this.$MStructuredComposerOGInput8)this.$MStructuredComposerOGInput8.showIfHasValue();this.$MStructuredComposerOGInput18.show();};da.prototype.$MStructuredComposerOGInput36=function(){'use strict';if(this.$MStructuredComposerOGInput8)this.$MStructuredComposerOGInput8.hide();l.log(o.MINUTIAE_CHANGE_ICON_INTENT);this.$MStructuredComposerOGInput18.showIconSelector(this.$MStructuredComposerOGInput9.value,this.$MStructuredComposerOGInput10.value,this.$MStructuredComposerOGInput11.value,this.$MStructuredComposerOGInput12.value);};da.prototype.$MStructuredComposerOGInput30=function(){'use strict';this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerOGInput18.hide();}.bind(this)).close();};da.prototype.$MStructuredComposerOGInput37=function(){'use strict';this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerOGInput35();}.bind(this)).close();};da.prototype.$MStructuredComposerOGInput34=function(){'use strict';this.newNavigationPolicy().addOnCloseByBrowser(function(){return this.$MStructuredComposerOGInput35();}.bind(this)).addOnOpen(function(){return this.$MStructuredComposerOGInput27();}.bind(this)).open();};da.prototype.$MStructuredComposerOGInput24=function(){'use strict';this.newNavigationPolicy().addOnCloseByBrowser(function(){return this.$MStructuredComposerOGInput35();}.bind(this)).addOnOpen(function(){return this.$MStructuredComposerOGInput36();}.bind(this)).open();};f.exports=da;}),null);
__d('DeferredComponent.react',['React','createCancelableFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;function m(n,o){'use strict';k.constructor.call(this,n,o);this.$DeferredComponent1=function(p){this.setState({ComponentClass:p},function(){this.props.onComponentLoad&&this.props.onComponentLoad(p);}.bind(this));}.bind(this);this.state={ComponentClass:null,cancelableModulesLoaded:i(this.$DeferredComponent1)};}m.prototype.componentWillMount=function(){'use strict';this.props.deferredComponent(this.state.cancelableModulesLoaded);};m.prototype.componentWillUnmount=function(){'use strict';this.state.cancelableModulesLoaded.cancel();};m.prototype.render=function(){'use strict';var n=this.state.ComponentClass;if(!n||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var o=this.props,p=o.deferredPlaceholder,q=o.deferredComponent,r=o.onComponentLoad,s=o.deferredForcePlaceholder,t=babelHelpers.objectWithoutProperties(o,['deferredPlaceholder','deferredComponent','onComponentLoad','deferredForcePlaceholder']);return h.createElement(n,t);};m.propTypes={deferredPlaceholder:l.element.isRequired,deferredComponent:l.func.isRequired,onComponentLoad:l.func,deferredForcePlaceholder:l.bool};f.exports=m;}),null);
__d('JSResourceReference',['Promise','Bootloader'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k){'use strict';this.$JSResourceReference1=k;}j.prototype.getModuleId=function(){'use strict';return this.$JSResourceReference1;};j.prototype.load=function(){'use strict';return new h(function(k){i.loadModules.call(i,[this.$JSResourceReference1],k,this.$JSResourceReference2||'JSResource: unknown caller');}.bind(this));};j.prototype.equals=function(k){'use strict';return this===k||this.$JSResourceReference1==k.$JSResourceReference1;};j.prototype.__setRef=function(k){'use strict';this.$JSResourceReference2=k;return this;};j.loadAll=function(k,l){'use strict';var m={},n=false;for(var o=k,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s.$JSResourceReference2;if(t){n=true;m[t]=true;}}i.loadModules.call(i,k.map(function(u){return u.getModuleId();}),l,n?Object.keys(m).join(':'):'JSResource: unknown caller');};f.exports=j;}),null);
__d('JSResource',['JSResourceReference'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function j(k){return new h(k);};i.Reference=h;i.loadAll=h.loadAll;f.exports=i;}),null);
__d('BootloadedComponent.react',['DeferredComponent.react','JSResource','React'],(function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes;k=babelHelpers.inherits(n,j.Component);l=k&&k.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$BootloadedComponent1=function(t){i.loadAll([this.props.bootloadLoader],t);}.bind(this),p;}n.prototype.render=function(){'use strict';var o=this.props,p=o.bootloadLoader,q=o.bootloadPlaceholder,r=o.bootloadForcePlaceholder,s=babelHelpers.objectWithoutProperties(o,['bootloadLoader','bootloadPlaceholder','bootloadForcePlaceholder']);return j.createElement(h,babelHelpers['extends']({deferredPlaceholder:q,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:r},s));};f.exports=Object.assign(n,{propTypes:{bootloadPlaceholder:m.element.isRequired,bootloadLoader:m.instanceOf(i.Reference).isRequired,bootloadForcePlaceholder:m.bool},create:function o(p){var q,r;q=babelHelpers.inherits(s,j.Component);r=q&&q.prototype;s.prototype.render=function(){'use strict';var t=this.props,u=t.bootloadLoader,v=babelHelpers.objectWithoutProperties(t,['bootloadLoader']);return (j.createElement(n,babelHelpers['extends']({bootloadLoader:p,bootloadPlaceholder:j.createElement('div',null)},v)));};function s(){'use strict';q.apply(this,arguments);}s.displayName='BootloadedComponent('+p.getModuleId()+')';return s;}});}),null);
__d('MStructuredComposerPhotoPreviewBootloader',['BootloadedComponent.react','DOM','JSResource','MComposerNavigationMixin','MLoadingSpinner.react','PhotosUploadWaterfallXMixin','PUWSteps','React','ReactDOM','cx','fbt','mixin','performanceNow'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v;if(c.__markCompiled)c.__markCompiled();u=babelHelpers.inherits(w,s(m,k));v=u&&u.prototype;function w(x){'use strict';v.constructor.call(this);this.$MStructuredComposerPhotoPreviewBootloader1=x.root;this.$MStructuredComposerPhotoPreviewBootloader2=x.typeaheadConfig;this.$MStructuredComposerPhotoPreviewBootloader3=x.suggestions;this.$MStructuredComposerPhotoPreviewBootloader4=null;this.$MStructuredComposerPhotoPreviewBootloader5=null;this.$MStructuredComposerPhotoPreviewBootloader6=i.find(this.$MStructuredComposerPhotoPreviewBootloader1,'div','structured-composer-photo-preview-card');}w.prototype.$MStructuredComposerPhotoPreviewBootloader7=function(x,y){'use strict';p.render(o.createElement(h,babelHelpers['extends']({},this.props,{bootloadLoader:j('MStructuredComposerPhotoPreviewBootloadable.react').__setRef('MStructuredComposerPhotoPreviewBootloader'),bootloadPlaceholder:o.createElement('div',{className:"_4ldw"},o.createElement(l,null),r._("Carregando...")),imageSrc:x,initialFaceboxes:y,onTagAdd:this.$MStructuredComposerPhotoPreviewBootloader4,onTagDelete:this.$MStructuredComposerPhotoPreviewBootloader5,typeaheadConfig:this.$MStructuredComposerPhotoPreviewBootloader2,typeaheadSuggestions:this.$MStructuredComposerPhotoPreviewBootloader3})),this.$MStructuredComposerPhotoPreviewBootloader6);i.show(this.$MStructuredComposerPhotoPreviewBootloader1);};w.prototype.$MStructuredComposerPhotoPreviewBootloader8=function(){'use strict';i.hide(this.$MStructuredComposerPhotoPreviewBootloader1);p.unmountComponentAtNode(this.$MStructuredComposerPhotoPreviewBootloader6);};w.prototype.show=function(x,y){'use strict';if(this.hasNavigationPolicy())return;this.newNavigationPolicy().addOnOpen(function(){this.$MStructuredComposerPhotoPreviewBootloader7(x.previewURI,y);this.$MStructuredComposerPhotoPreviewBootloader9=t();this.logStep(n.CLIENT_PHOTO_PREVIEW_OPEN,{});}.bind(this)).addOnClose(function(){i.hide(this.$MStructuredComposerPhotoPreviewBootloader1);this.logStep(n.CLIENT_PHOTO_PREVIEW_CLOSE,{elapsed_time:t()-this.$MStructuredComposerPhotoPreviewBootloader9});}.bind(this)).open();};w.prototype.setOnDeleteXYTag=function(x){'use strict';this.$MStructuredComposerPhotoPreviewBootloader5=x;};w.prototype.setOnAddXYTag=function(x){'use strict';this.$MStructuredComposerPhotoPreviewBootloader4=x;};w.prototype.hide=function(){'use strict';if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().close();};w.prototype.setWaterfall=function(x,y,z){'use strict';this.$MStructuredComposerPhotoPreviewBootloader10=x;this.$MStructuredComposerPhotoPreviewBootloader11=y;this.$MStructuredComposerPhotoPreviewBootloader12=z;return this;};w.prototype.getWaterfallID=function(){'use strict';return this.$MStructuredComposerPhotoPreviewBootloader10;};w.prototype.getWaterfallAppName=function(){'use strict';return this.$MStructuredComposerPhotoPreviewBootloader11;};w.prototype.getWaterfallSource=function(){'use strict';return this.$MStructuredComposerPhotoPreviewBootloader12;};f.exports=w;}),null);
__d('MImageFetchNotifier',['prefetchImage','setImmediateAcrossTransitions'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={},k={},l={};function m(q,r){if(!j[q])return;var s=j[q].indexOf(r);j[q].splice(s,1);if(j[q].length===0){l[q].cancel();delete j[q];delete l[q];}}function n(q){k[q]=true;j[q].forEach(function(r){return r();});delete j[q];delete l[q];}function o(q){l[q]=h(q,function(){n(q);});}var p={notifyWhenFetched:function q(r,s){var t;if(k[r]===true){var t=function(){var u=true;i(function(){u&&s();});return {v:{remove:function v(){u=false;}}};}();if(typeof t==="object")return t.v;}j[r]=j[r]||[];j[r].push(s);if(!l[r])o(r);return {remove:function u(){m(r,s);}};}};f.exports=p;}),null);
__d("immutable",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();(function(h,i){typeof g==='object'&&typeof f!=='undefined'?f.exports=i():typeof define==='function'&&define.amd?define(i):h.Immutable=i();}(this,function(){'use strict';var h=Array.prototype.slice;function i(yh,zh){if(zh)yh.prototype=Object.create(zh.prototype);yh.prototype.constructor=yh;}var j='delete',k=5,l=1<<k,m=l-1,n={},o={value:false},p={value:false};function q(yh){yh.value=false;return yh;}function r(yh){yh&&(yh.value=true);}function s(){}function t(yh,zh){zh=zh||0;var ai=Math.max(0,yh.length-zh),bi=new Array(ai);for(var ci=0;ci<ai;ci++)bi[ci]=yh[ci+zh];return bi;}function u(yh){if(yh.size===undefined)yh.size=yh.__iterate(w);return yh.size;}function v(yh,zh){return zh>=0?(+zh):u(yh)+(+zh);}function w(){return true;}function x(yh,zh,ai){return (yh===0||(ai!==undefined&&yh<=-ai))&&(zh===undefined||(ai!==undefined&&zh>=ai));}function y(yh,zh){return aa(yh,zh,0);}function z(yh,zh){return aa(yh,zh,zh);}function aa(yh,zh,ai){return yh===undefined?ai:yh<0?Math.max(0,zh+yh):zh===undefined?yh:Math.min(zh,yh);}function ba(yh){return fa(yh)?yh:cb(yh);}i(ca,ba);function ca(yh){return ga(yh)?yh:db(yh);}i(da,ba);function da(yh){return ha(yh)?yh:eb(yh);}i(ea,ba);function ea(yh){return fa(yh)&&!ia(yh)?yh:fb(yh);}function fa(yh){return !!(yh&&yh[ka]);}function ga(yh){return !!(yh&&yh[la]);}function ha(yh){return !!(yh&&yh[ma]);}function ia(yh){return ga(yh)||ha(yh);}function ja(yh){return !!(yh&&yh[na]);}ba.isIterable=fa;ba.isKeyed=ga;ba.isIndexed=ha;ba.isAssociative=ia;ba.isOrdered=ja;ba.Keyed=ca;ba.Indexed=da;ba.Set=ea;var ka='@@__IMMUTABLE_ITERABLE__@@',la='@@__IMMUTABLE_KEYED__@@',ma='@@__IMMUTABLE_INDEXED__@@',na='@@__IMMUTABLE_ORDERED__@@',oa=0,pa=1,qa=2,ra=typeof Symbol==='function'&&Symbol.iterator,sa='@@iterator',ta=ra||sa;function ua(yh){this.next=yh;}ua.prototype.toString=function(){return '[Iterator]';};ua.KEYS=oa;ua.VALUES=pa;ua.ENTRIES=qa;ua.prototype.inspect=ua.prototype.toSource=function(){return this.toString();};ua.prototype[ta]=function(){return this;};function va(yh,zh,ai,bi){var ci=yh===0?zh:yh===1?ai:[zh,ai];bi?(bi.value=ci):(bi={value:ci,done:false});return bi;}function wa(){return {value:undefined,done:true};}function xa(yh){return !!ab(yh);}function ya(yh){return yh&&typeof yh.next==='function';}function za(yh){var zh=ab(yh);return zh&&zh.call(yh);}function ab(yh){var zh=yh&&((ra&&yh[ra])||yh[sa]);if(typeof zh==='function')return zh;}function bb(yh){return yh&&typeof yh.length==='number';}i(cb,ba);function cb(yh){return yh===null||yh===undefined?nb():fa(yh)?yh.toSeq():qb(yh);}cb.of=function(){return cb(arguments);};cb.prototype.toSeq=function(){return this;};cb.prototype.toString=function(){return this.__toString('Seq {','}');};cb.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}return this;};cb.prototype.__iterate=function(yh,zh){return sb(this,yh,zh,true);};cb.prototype.__iterator=function(yh,zh){return tb(this,yh,zh,true);};i(db,cb);function db(yh){return yh===null||yh===undefined?nb().toKeyedSeq():fa(yh)?(ga(yh)?yh.toSeq():yh.fromEntrySeq()):ob(yh);}db.prototype.toKeyedSeq=function(){return this;};i(eb,cb);function eb(yh){return yh===null||yh===undefined?nb():!fa(yh)?pb(yh):ga(yh)?yh.entrySeq():yh.toIndexedSeq();}eb.of=function(){return eb(arguments);};eb.prototype.toIndexedSeq=function(){return this;};eb.prototype.toString=function(){return this.__toString('Seq [',']');};eb.prototype.__iterate=function(yh,zh){return sb(this,yh,zh,false);};eb.prototype.__iterator=function(yh,zh){return tb(this,yh,zh,false);};i(fb,cb);function fb(yh){return (yh===null||yh===undefined?nb():!fa(yh)?pb(yh):ga(yh)?yh.entrySeq():yh).toSetSeq();}fb.of=function(){return fb(arguments);};fb.prototype.toSetSeq=function(){return this;};cb.isSeq=lb;cb.Keyed=db;cb.Set=fb;cb.Indexed=eb;var gb='@@__IMMUTABLE_SEQ__@@';cb.prototype[gb]=true;i(hb,eb);function hb(yh){this._array=yh;this.size=yh.length;}hb.prototype.get=function(yh,zh){return this.has(yh)?this._array[v(this,yh)]:zh;};hb.prototype.__iterate=function(yh,zh){var ai=this._array,bi=ai.length-1;for(var ci=0;ci<=bi;ci++)if(yh(ai[zh?bi-ci:ci],ci,this)===false)return ci+1;return ci;};hb.prototype.__iterator=function(yh,zh){var ai=this._array,bi=ai.length-1,ci=0;return new ua(function(){return ci>bi?wa():va(yh,ci,ai[zh?bi-ci++:ci++]);});};i(ib,db);function ib(yh){var zh=Object.keys(yh);this._object=yh;this._keys=zh;this.size=zh.length;}ib.prototype.get=function(yh,zh){if(zh!==undefined&&!this.has(yh))return zh;return this._object[yh];};ib.prototype.has=function(yh){return this._object.hasOwnProperty(yh);};ib.prototype.__iterate=function(yh,zh){var ai=this._object,bi=this._keys,ci=bi.length-1;for(var di=0;di<=ci;di++){var ei=bi[zh?ci-di:di];if(yh(ai[ei],ei,this)===false)return di+1;}return di;};ib.prototype.__iterator=function(yh,zh){var ai=this._object,bi=this._keys,ci=bi.length-1,di=0;return new ua(function(){var ei=bi[zh?ci-di:di];return di++>ci?wa():va(yh,ei,ai[ei]);});};ib.prototype[na]=true;i(jb,eb);function jb(yh){this._iterable=yh;this.size=yh.length||yh.size;}jb.prototype.__iterateUncached=function(yh,zh){if(zh)return this.cacheResult().__iterate(yh,zh);var ai=this._iterable,bi=za(ai),ci=0;if(ya(bi)){var di;while(!(di=bi.next()).done)if(yh(di.value,ci++,this)===false)break;}return ci;};jb.prototype.__iteratorUncached=function(yh,zh){if(zh)return this.cacheResult().__iterator(yh,zh);var ai=this._iterable,bi=za(ai);if(!ya(bi))return new ua(wa);var ci=0;return new ua(function(){var di=bi.next();return di.done?di:va(yh,ci++,di.value);});};i(kb,eb);function kb(yh){this._iterator=yh;this._iteratorCache=[];}kb.prototype.__iterateUncached=function(yh,zh){if(zh)return this.cacheResult().__iterate(yh,zh);var ai=this._iterator,bi=this._iteratorCache,ci=0;while(ci<bi.length)if(yh(bi[ci],ci++,this)===false)return ci;var di;while(!(di=ai.next()).done){var ei=di.value;bi[ci]=ei;if(yh(ei,ci++,this)===false)break;}return ci;};kb.prototype.__iteratorUncached=function(yh,zh){if(zh)return this.cacheResult().__iterator(yh,zh);var ai=this._iterator,bi=this._iteratorCache,ci=0;return new ua(function(){if(ci>=bi.length){var di=ai.next();if(di.done)return di;bi[ci]=di.value;}return va(yh,ci,bi[ci++]);});};function lb(yh){return !!(yh&&yh[gb]);}var mb;function nb(){return mb||(mb=new hb([]));}function ob(yh){var zh=Array.isArray(yh)?new hb(yh).fromEntrySeq():ya(yh)?new kb(yh).fromEntrySeq():xa(yh)?new jb(yh).fromEntrySeq():typeof yh==='object'?new ib(yh):undefined;if(!zh)throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+yh);return zh;}function pb(yh){var zh=rb(yh);if(!zh)throw new TypeError('Expected Array or iterable object of values: '+yh);return zh;}function qb(yh){var zh=rb(yh)||(typeof yh==='object'&&new ib(yh));if(!zh)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+yh);return zh;}function rb(yh){return (bb(yh)?new hb(yh):ya(yh)?new kb(yh):xa(yh)?new jb(yh):undefined);}function sb(yh,zh,ai,bi){var ci=yh._cache;if(ci){var di=ci.length-1;for(var ei=0;ei<=di;ei++){var fi=ci[ai?di-ei:ei];if(zh(fi[1],bi?fi[0]:ei,yh)===false)return ei+1;}return ei;}return yh.__iterateUncached(zh,ai);}function tb(yh,zh,ai,bi){var ci=yh._cache;if(ci){var di=ci.length-1,ei=0;return new ua(function(){var fi=ci[ai?di-ei:ei];return ei++>di?wa():va(zh,bi?fi[0]:ei-1,fi[1]);});}return yh.__iteratorUncached(zh,ai);}i(ub,ba);function ub(){throw TypeError('Abstract');}i(vb,ub);function vb(){}i(wb,ub);function wb(){}i(xb,ub);function xb(){}ub.Keyed=vb;ub.Indexed=wb;ub.Set=xb;function yb(yh,zh){if(yh===zh||(yh!==yh&&zh!==zh))return true;if(!yh||!zh)return false;if(typeof yh.valueOf==='function'&&typeof zh.valueOf==='function'){yh=yh.valueOf();zh=zh.valueOf();if(yh===zh||(yh!==yh&&zh!==zh))return true;if(!yh||!zh)return false;}if(typeof yh.equals==='function'&&typeof zh.equals==='function'&&yh.equals(zh))return true;return false;}function zb(yh,zh){return zh?ac(zh,yh,'',{'':yh}):bc(yh);}function ac(yh,zh,ai,bi){if(Array.isArray(zh))return yh.call(bi,ai,eb(zh).map(function(ci,di){return ac(yh,ci,di,zh);}));if(cc(zh))return yh.call(bi,ai,db(zh).map(function(ci,di){return ac(yh,ci,di,zh);}));return zh;}function bc(yh){if(Array.isArray(yh))return eb(yh).map(bc).toList();if(cc(yh))return db(yh).map(bc).toMap();return yh;}function cc(yh){return yh&&(yh.constructor===Object||yh.constructor===undefined);}var dc=typeof Math.imul==='function'&&Math.imul(4294967295,2)===-2?Math.imul:function yh(zh,ai){zh=zh|0;ai=ai|0;var bi=zh&65535,ci=ai&65535;return (bi*ci)+((((zh>>>16)*ci+bi*(ai>>>16))<<16)>>>0)|0;};function ec(yh){return ((yh>>>1)&1073741824)|(yh&3221225471);}function fc(yh){if(yh===false||yh===null||yh===undefined)return 0;if(typeof yh.valueOf==='function'){yh=yh.valueOf();if(yh===false||yh===null||yh===undefined)return 0;}if(yh===true)return 1;var zh=typeof yh;if(zh==='number'){var ai=yh|0;if(ai!==yh)ai^=yh*4294967295;while(yh>4294967295){yh/=4294967295;ai^=yh;}return ec(ai);}if(zh==='string')return yh.length>qc?gc(yh):hc(yh);if(typeof yh.hashCode==='function')return yh.hashCode();return ic(yh);}function gc(yh){var zh=tc[yh];if(zh===undefined){zh=hc(yh);if(sc===rc){sc=0;tc={};}sc++;tc[yh]=zh;}return zh;}function hc(yh){var zh=0;for(var ai=0;ai<yh.length;ai++)zh=31*zh+yh.charCodeAt(ai)|0;return ec(zh);}function ic(yh){var zh;if(mc){zh=nc.get(yh);if(zh!==undefined)return zh;}zh=yh[pc];if(zh!==undefined)return zh;if(!kc){zh=yh.propertyIsEnumerable&&yh.propertyIsEnumerable[pc];if(zh!==undefined)return zh;zh=lc(yh);if(zh!==undefined)return zh;}zh=++oc;if(oc&1073741824)oc=0;if(mc){nc.set(yh,zh);}else if(jc!==undefined&&jc(yh)===false){throw new Error('Non-extensible objects are not allowed as keys.');}else if(kc){Object.defineProperty(yh,pc,{enumerable:false,configurable:false,writable:false,value:zh});}else if(yh.propertyIsEnumerable!==undefined&&yh.propertyIsEnumerable===yh.constructor.prototype.propertyIsEnumerable){yh.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};yh.propertyIsEnumerable[pc]=zh;}else if(yh.nodeType!==undefined){yh[pc]=zh;}else throw new Error('Unable to set a non-enumerable property on object.');return zh;}var jc=Object.isExtensible,kc=(function(){try{Object.defineProperty({},'@',{});return true;}catch(yh){return false;}}());function lc(yh){if(yh&&yh.nodeType>0)switch(yh.nodeType){case 1:return yh.uniqueID;case 9:return yh.documentElement&&yh.documentElement.uniqueID;}}var mc=typeof WeakMap==='function',nc;if(mc)nc=new WeakMap();var oc=0,pc='__immutablehash__';if(typeof Symbol==='function')pc=Symbol(pc);var qc=16,rc=255,sc=0,tc={};function uc(yh,zh){if(!yh)throw new Error(zh);}function vc(yh){uc(yh!==Infinity,'Cannot perform this action with an infinite size.');}i(wc,db);function wc(yh,zh){this._iter=yh;this._useKeys=zh;this.size=yh.size;}wc.prototype.get=function(yh,zh){return this._iter.get(yh,zh);};wc.prototype.has=function(yh){return this._iter.has(yh);};wc.prototype.valueSeq=function(){return this._iter.valueSeq();};wc.prototype.reverse=function(){var yh=this,zh=cd(this,true);if(!this._useKeys)zh.valueSeq=function(){return yh._iter.toSeq().reverse();};return zh;};wc.prototype.map=function(yh,zh){var ai=this,bi=bd(this,yh,zh);if(!this._useKeys)bi.valueSeq=function(){return ai._iter.toSeq().map(yh,zh);};return bi;};wc.prototype.__iterate=function(yh,zh){var ai=this,bi;return this._iter.__iterate(this._useKeys?function(ci,di){return yh(ci,di,ai);}:((bi=zh?td(this):0),function(ci){return yh(ci,zh?--bi:bi++,ai);}),zh);};wc.prototype.__iterator=function(yh,zh){if(this._useKeys)return this._iter.__iterator(yh,zh);var ai=this._iter.__iterator(pa,zh),bi=zh?td(this):0;return new ua(function(){var ci=ai.next();return ci.done?ci:va(yh,zh?--bi:bi++,ci.value,ci);});};wc.prototype[na]=true;i(xc,eb);function xc(yh){this._iter=yh;this.size=yh.size;}xc.prototype.includes=function(yh){return this._iter.includes(yh);};xc.prototype.__iterate=function(yh,zh){var ai=this,bi=0;return this._iter.__iterate(function(ci){return yh(ci,bi++,ai);},zh);};xc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh),bi=0;return new ua(function(){var ci=ai.next();return ci.done?ci:va(yh,bi++,ci.value,ci);});};i(yc,fb);function yc(yh){this._iter=yh;this.size=yh.size;}yc.prototype.has=function(yh){return this._iter.includes(yh);};yc.prototype.__iterate=function(yh,zh){var ai=this;return this._iter.__iterate(function(bi){return yh(bi,bi,ai);},zh);};yc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh);return new ua(function(){var bi=ai.next();return bi.done?bi:va(yh,bi.value,bi.value,bi);});};i(zc,db);function zc(yh){this._iter=yh;this.size=yh.size;}zc.prototype.entrySeq=function(){return this._iter.toSeq();};zc.prototype.__iterate=function(yh,zh){var ai=this;return this._iter.__iterate(function(bi){if(bi){sd(bi);var ci=fa(bi);return yh(ci?bi.get(1):bi[1],ci?bi.get(0):bi[0],ai);}},zh);};zc.prototype.__iterator=function(yh,zh){var ai=this._iter.__iterator(pa,zh);return new ua(function(){while(true){var bi=ai.next();if(bi.done)return bi;var ci=bi.value;if(ci){sd(ci);var di=fa(ci);return va(yh,di?ci.get(0):ci[0],di?ci.get(1):ci[1],bi);}}});};xc.prototype.cacheResult=wc.prototype.cacheResult=yc.prototype.cacheResult=zc.prototype.cacheResult=wd;function ad(yh){var zh=vd(yh);zh._iter=yh;zh.size=yh.size;zh.flip=function(){return yh;};zh.reverse=function(){var ai=yh.reverse.apply(this);ai.flip=function(){return yh.reverse();};return ai;};zh.has=function(ai){return yh.includes(ai);};zh.includes=function(ai){return yh.has(ai);};zh.cacheResult=wd;zh.__iterateUncached=function(ai,bi){var ci=this;return yh.__iterate(function(di,ei){return ai(ei,di,ci)!==false;},bi);};zh.__iteratorUncached=function(ai,bi){if(ai===qa){var ci=yh.__iterator(ai,bi);return new ua(function(){var di=ci.next();if(!di.done){var ei=di.value[0];di.value[0]=di.value[1];di.value[1]=ei;}return di;});}return yh.__iterator(ai===pa?oa:pa,bi);};return zh;}function bd(yh,zh,ai){var bi=vd(yh);bi.size=yh.size;bi.has=function(ci){return yh.has(ci);};bi.get=function(ci,di){var ei=yh.get(ci,n);return ei===n?di:zh.call(ai,ei,ci,yh);};bi.__iterateUncached=function(ci,di){var ei=this;return yh.__iterate(function(fi,gi,hi){return ci(zh.call(ai,fi,gi,hi),gi,ei)!==false;},di);};bi.__iteratorUncached=function(ci,di){var ei=yh.__iterator(qa,di);return new ua(function(){var fi=ei.next();if(fi.done)return fi;var gi=fi.value,hi=gi[0];return va(ci,hi,zh.call(ai,gi[1],hi,yh),fi);});};return bi;}function cd(yh,zh){var ai=vd(yh);ai._iter=yh;ai.size=yh.size;ai.reverse=function(){return yh;};if(yh.flip)ai.flip=function(){var bi=ad(yh);bi.reverse=function(){return yh.flip();};return bi;};ai.get=function(bi,ci){return yh.get(zh?bi:-1-bi,ci);};ai.has=function(bi){return yh.has(zh?bi:-1-bi);};ai.includes=function(bi){return yh.includes(bi);};ai.cacheResult=wd;ai.__iterate=function(bi,ci){var di=this;return yh.__iterate(function(ei,fi){return bi(ei,fi,di);},!ci);};ai.__iterator=function(bi,ci){return yh.__iterator(bi,!ci);};return ai;}function dd(yh,zh,ai,bi){var ci=vd(yh);if(bi){ci.has=function(di){var ei=yh.get(di,n);return ei!==n&&!!zh.call(ai,ei,di,yh);};ci.get=function(di,ei){var fi=yh.get(di,n);return fi!==n&&zh.call(ai,fi,di,yh)?fi:ei;};}ci.__iterateUncached=function(di,ei){var fi=this,gi=0;yh.__iterate(function(hi,ii,ji){if(zh.call(ai,hi,ii,ji)){gi++;return di(hi,bi?ii:gi-1,fi);}},ei);return gi;};ci.__iteratorUncached=function(di,ei){var fi=yh.__iterator(qa,ei),gi=0;return new ua(function(){while(true){var hi=fi.next();if(hi.done)return hi;var ii=hi.value,ji=ii[0],ki=ii[1];if(zh.call(ai,ki,ji,yh))return va(di,bi?ji:gi++,ki,hi);}});};return ci;}function ed(yh,zh,ai){var bi=zd().asMutable();yh.__iterate(function(ci,di){bi.update(zh.call(ai,ci,di,yh),0,function(ei){return ei+1;});});return bi.asImmutable();}function fd(yh,zh,ai){var bi=ga(yh),ci=(ja(yh)?yf():zd()).asMutable();yh.__iterate(function(ei,fi){ci.update(zh.call(ai,ei,fi,yh),function(gi){return (gi=gi||[],gi.push(bi?[fi,ei]:ei),gi);});});var di=ud(yh);return ci.map(function(ei){return rd(yh,di(ei));});}function gd(yh,zh,ai,bi){var ci=yh.size;if(x(zh,ai,ci))return yh;var di=y(zh,ci),ei=z(ai,ci);if(di!==di||ei!==ei)return gd(yh.toSeq().cacheResult(),zh,ai,bi);var fi=ei-di,gi;if(fi===fi)gi=fi<0?0:fi;var hi=vd(yh);hi.size=gi;if(!bi&&lb(yh)&&gi>=0)hi.get=function(ii,ji){ii=v(this,ii);return ii>=0&&ii<gi?yh.get(ii+di,ji):ji;};hi.__iterateUncached=function(ii,ji){var ki=this;if(gi===0)return 0;if(ji)return this.cacheResult().__iterate(ii,ji);var li=0,mi=true,ni=0;yh.__iterate(function(oi,pi){if(!(mi&&(mi=li++<di))){ni++;return ii(oi,bi?pi:ni-1,ki)!==false&&ni!==gi;}});return ni;};hi.__iteratorUncached=function(ii,ji){if(gi!==0&&ji)return this.cacheResult().__iterator(ii,ji);var ki=gi!==0&&yh.__iterator(ii,ji),li=0,mi=0;return new ua(function(){while(li++<di)ki.next();if(++mi>gi)return wa();var ni=ki.next();if(bi||ii===pa){return ni;}else if(ii===oa){return va(ii,mi-1,undefined,ni);}else return va(ii,mi-1,ni.value[1],ni);});};return hi;}function hd(yh,zh,ai){var bi=vd(yh);bi.__iterateUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterate(ci,di);var fi=0;yh.__iterate(function(gi,hi,ii){return zh.call(ai,gi,hi,ii)&&++fi&&ci(gi,hi,ei);});return fi;};bi.__iteratorUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterator(ci,di);var fi=yh.__iterator(qa,di),gi=true;return new ua(function(){if(!gi)return wa();var hi=fi.next();if(hi.done)return hi;var ii=hi.value,ji=ii[0],ki=ii[1];if(!zh.call(ai,ki,ji,ei)){gi=false;return wa();}return ci===qa?hi:va(ci,ji,ki,hi);});};return bi;}function id(yh,zh,ai,bi){var ci=vd(yh);ci.__iterateUncached=function(di,ei){var fi=this;if(ei)return this.cacheResult().__iterate(di,ei);var gi=true,hi=0;yh.__iterate(function(ii,ji,ki){if(!(gi&&(gi=zh.call(ai,ii,ji,ki)))){hi++;return di(ii,bi?ji:hi-1,fi);}});return hi;};ci.__iteratorUncached=function(di,ei){var fi=this;if(ei)return this.cacheResult().__iterator(di,ei);var gi=yh.__iterator(qa,ei),hi=true,ii=0;return new ua(function(){var ji,ki,li;do{ji=gi.next();if(ji.done)if(bi||di===pa){return ji;}else if(di===oa){return va(di,ii++,undefined,ji);}else return va(di,ii++,ji.value[1],ji);var mi=ji.value;ki=mi[0];li=mi[1];hi&&(hi=zh.call(ai,li,ki,fi));}while(hi);return di===qa?ji:va(di,ki,li,ji);});};return ci;}function jd(yh,zh){var ai=ga(yh),bi=[yh].concat(zh).map(function(ei){if(!fa(ei)){ei=ai?ob(ei):pb(Array.isArray(ei)?ei:[ei]);}else if(ai)ei=ca(ei);return ei;}).filter(function(ei){return ei.size!==0;});if(bi.length===0)return yh;if(bi.length===1){var ci=bi[0];if(ci===yh||ai&&ga(ci)||ha(yh)&&ha(ci))return ci;}var di=new hb(bi);if(ai){di=di.toKeyedSeq();}else if(!ha(yh))di=di.toSetSeq();di=di.flatten(true);di.size=bi.reduce(function(ei,fi){if(ei!==undefined){var gi=fi.size;if(gi!==undefined)return ei+gi;}},0);return di;}function kd(yh,zh,ai){var bi=vd(yh);bi.__iterateUncached=function(ci,di){var ei=0,fi=false;function gi(hi,ii){var ji=this;hi.__iterate(function(ki,li){if((!zh||ii<zh)&&fa(ki)){gi(ki,ii+1);}else if(ci(ki,ai?li:ei++,ji)===false)fi=true;return !fi;},di);}gi(yh,0);return ei;};bi.__iteratorUncached=function(ci,di){var ei=yh.__iterator(ci,di),fi=[],gi=0;return new ua(function(){while(ei){var hi=ei.next();if(hi.done!==false){ei=fi.pop();continue;}var ii=hi.value;if(ci===qa)ii=ii[1];if((!zh||fi.length<zh)&&fa(ii)){fi.push(ei);ei=ii.__iterator(ci,di);}else return ai?hi:va(ci,gi++,ii,hi);}return wa();});};return bi;}function ld(yh,zh,ai){var bi=ud(yh);return yh.toSeq().map(function(ci,di){return bi(zh.call(ai,ci,di,yh));}).flatten(true);}function md(yh,zh){var ai=vd(yh);ai.size=yh.size&&yh.size*2-1;ai.__iterateUncached=function(bi,ci){var di=this,ei=0;yh.__iterate(function(fi,gi){return (!ei||bi(zh,ei++,di)!==false)&&bi(fi,ei++,di)!==false;},ci);return ei;};ai.__iteratorUncached=function(bi,ci){var di=yh.__iterator(pa,ci),ei=0,fi;return new ua(function(){if(!fi||ei%2){fi=di.next();if(fi.done)return fi;}return ei%2?va(bi,ei++,zh):va(bi,ei++,fi.value,fi);});};return ai;}function nd(yh,zh,ai){if(!zh)zh=xd;var bi=ga(yh),ci=0,di=yh.toSeq().map(function(ei,fi){return [fi,ei,ci++,ai?ai(ei,fi,yh):ei];}).toArray();di.sort(function(ei,fi){return zh(ei[3],fi[3])||ei[2]-fi[2];}).forEach(bi?function(ei,fi){di[fi].length=2;}:function(ei,fi){di[fi]=ei[1];});return bi?db(di):ha(yh)?eb(di):fb(di);}function od(yh,zh,ai){if(!zh)zh=xd;if(ai){var bi=yh.toSeq().map(function(ci,di){return [ci,ai(ci,di,yh)];}).reduce(function(ci,di){return pd(zh,ci[1],di[1])?di:ci;});return bi&&bi[0];}else return yh.reduce(function(ci,di){return pd(zh,ci,di)?di:ci;});}function pd(yh,zh,ai){var bi=yh(ai,zh);return (bi===0&&ai!==zh&&(ai===undefined||ai===null||ai!==ai))||bi>0;}function qd(yh,zh,ai){var bi=vd(yh);bi.size=new hb(ai).map(function(ci){return ci.size;}).min();bi.__iterate=function(ci,di){var ei=this.__iterator(pa,di),fi,gi=0;while(!(fi=ei.next()).done)if(ci(fi.value,gi++,this)===false)break;return gi;};bi.__iteratorUncached=function(ci,di){var ei=ai.map(function(hi){return (hi=ba(hi),za(di?hi.reverse():hi));}),fi=0,gi=false;return new ua(function(){var hi;if(!gi){hi=ei.map(function(ii){return ii.next();});gi=hi.some(function(ii){return ii.done;});}if(gi)return wa();return va(ci,fi++,zh.apply(null,hi.map(function(ii){return ii.value;})));});};return bi;}function rd(yh,zh){return lb(yh)?zh:yh.constructor(zh);}function sd(yh){if(yh!==Object(yh))throw new TypeError('Expected [K, V] tuple: '+yh);}function td(yh){vc(yh.size);return u(yh);}function ud(yh){return ga(yh)?ca:ha(yh)?da:ea;}function vd(yh){return Object.create((ga(yh)?db:ha(yh)?eb:fb).prototype);}function wd(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else return cb.prototype.cacheResult.call(this);}function xd(yh,zh){return yh>zh?1:yh<zh?-1:0;}function yd(yh){var zh=za(yh);if(!zh){if(!bb(yh))throw new TypeError('Expected iterable or array-like: '+yh);zh=za(ba(yh));}return zh;}i(zd,vb);function zd(yh){return yh===null||yh===undefined?ne():ae(yh)?yh:ne().withMutations(function(zh){var ai=ca(yh);vc(ai.size);ai.forEach(function(bi,ci){return zh.set(ci,bi);});});}zd.prototype.toString=function(){return this.__toString('Map {','}');};zd.prototype.get=function(yh,zh){return this._root?this._root.get(0,undefined,yh,zh):zh;};zd.prototype.set=function(yh,zh){return oe(this,yh,zh);};zd.prototype.setIn=function(yh,zh){return this.updateIn(yh,n,function(){return zh;});};zd.prototype.remove=function(yh){return oe(this,yh,n);};zd.prototype.deleteIn=function(yh){return this.updateIn(yh,function(){return n;});};zd.prototype.update=function(yh,zh,ai){return arguments.length===1?yh(this):this.updateIn([yh],zh,ai);};zd.prototype.updateIn=function(yh,zh,ai){if(!ai){ai=zh;zh=undefined;}var bi=ye(this,yd(yh),zh,ai);return bi===n?undefined:bi;};zd.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this;}return ne();};zd.prototype.merge=function(){return ve(this,undefined,arguments);};zd.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return ve(this,yh,zh);};zd.prototype.mergeIn=function(yh){var zh=h.call(arguments,1);return this.updateIn(yh,ne(),function(ai){return typeof ai.merge==='function'?ai.merge.apply(ai,zh):zh[zh.length-1];});};zd.prototype.mergeDeep=function(){return ve(this,we(undefined),arguments);};zd.prototype.mergeDeepWith=function(yh){var zh=h.call(arguments,1);return ve(this,we(yh),zh);};zd.prototype.mergeDeepIn=function(yh){var zh=h.call(arguments,1);return this.updateIn(yh,ne(),function(ai){return typeof ai.mergeDeep==='function'?ai.mergeDeep.apply(ai,zh):zh[zh.length-1];});};zd.prototype.sort=function(yh){return yf(nd(this,yh));};zd.prototype.sortBy=function(yh,zh){return yf(nd(this,zh,yh));};zd.prototype.withMutations=function(yh){var zh=this.asMutable();yh(zh);return zh.wasAltered()?zh.__ensureOwner(this.__ownerID):this;};zd.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new s());};zd.prototype.asImmutable=function(){return this.__ensureOwner();};zd.prototype.wasAltered=function(){return this.__altered;};zd.prototype.__iterator=function(yh,zh){return new ie(this,yh,zh);};zd.prototype.__iterate=function(yh,zh){var ai=this,bi=0;this._root&&this._root.iterate(function(ci){bi++;return yh(ci[1],ci[0],ai);},zh);return bi;};zd.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;this.__altered=false;return this;}return le(this.size,this._root,yh,this.__hash);};function ae(yh){return !!(yh&&yh[be]);}zd.isMap=ae;var be='@@__IMMUTABLE_MAP__@@',ce=zd.prototype;ce[be]=true;ce[j]=ce.remove;ce.removeIn=ce.deleteIn;function de(yh,zh){this.ownerID=yh;this.entries=zh;}de.prototype.get=function(yh,zh,ai,bi){var ci=this.entries;for(var di=0,ei=ci.length;di<ei;di++)if(yb(ai,ci[di][0]))return ci[di][1];return bi;};de.prototype.update=function(yh,zh,ai,bi,ci,di,ei){var fi=ci===n,gi=this.entries,hi=0;for(var ii=gi.length;hi<ii;hi++)if(yb(bi,gi[hi][0]))break;var ji=hi<ii;if(ji?gi[hi][1]===ci:fi)return this;r(ei);(fi||!ji)&&r(di);if(fi&&gi.length===1)return;if(!ji&&!fi&&gi.length>=df)return se(yh,gi,bi,ci);var ki=yh&&yh===this.ownerID,li=ki?gi:t(gi);if(ji){if(fi){hi===ii-1?li.pop():(li[hi]=li.pop());}else li[hi]=[bi,ci];}else li.push([bi,ci]);if(ki){this.entries=li;return this;}return new de(yh,li);};function ee(yh,zh,ai){this.ownerID=yh;this.bitmap=zh;this.nodes=ai;}ee.prototype.get=function(yh,zh,ai,bi){if(zh===undefined)zh=fc(ai);var ci=(1<<((yh===0?zh:zh>>>yh)&m)),di=this.bitmap;return (di&ci)===0?bi:this.nodes[ze(di&(ci-1))].get(yh+k,zh,ai,bi);};ee.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=(zh===0?ai:ai>>>zh)&m,gi=1<<fi,hi=this.bitmap,ii=(hi&gi)!==0;if(!ii&&ci===n)return this;var ji=ze(hi&(gi-1)),ki=this.nodes,li=ii?ki[ji]:undefined,mi=pe(li,yh,zh+k,ai,bi,ci,di,ei);if(mi===li)return this;if(!ii&&mi&&ki.length>=ef)return ue(yh,ki,hi,fi,mi);if(ii&&!mi&&ki.length===2&&qe(ki[ji^1]))return ki[ji^1];if(ii&&mi&&ki.length===1&&qe(mi))return mi;var ni=yh&&yh===this.ownerID,oi=ii?mi?hi:hi^gi:hi|gi,pi=ii?mi?af(ki,ji,mi,ni):cf(ki,ji,ni):bf(ki,ji,mi,ni);if(ni){this.bitmap=oi;this.nodes=pi;return this;}return new ee(yh,oi,pi);};function fe(yh,zh,ai){this.ownerID=yh;this.count=zh;this.nodes=ai;}fe.prototype.get=function(yh,zh,ai,bi){if(zh===undefined)zh=fc(ai);var ci=(yh===0?zh:zh>>>yh)&m,di=this.nodes[ci];return di?di.get(yh+k,zh,ai,bi):bi;};fe.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=(zh===0?ai:ai>>>zh)&m,gi=ci===n,hi=this.nodes,ii=hi[fi];if(gi&&!ii)return this;var ji=pe(ii,yh,zh+k,ai,bi,ci,di,ei);if(ji===ii)return this;var ki=this.count;if(!ii){ki++;}else if(!ji){ki--;if(ki<ff)return te(yh,hi,ki,fi);}var li=yh&&yh===this.ownerID,mi=af(hi,fi,ji,li);if(li){this.count=ki;this.nodes=mi;return this;}return new fe(yh,ki,mi);};function ge(yh,zh,ai){this.ownerID=yh;this.keyHash=zh;this.entries=ai;}ge.prototype.get=function(yh,zh,ai,bi){var ci=this.entries;for(var di=0,ei=ci.length;di<ei;di++)if(yb(ai,ci[di][0]))return ci[di][1];return bi;};ge.prototype.update=function(yh,zh,ai,bi,ci,di,ei){if(ai===undefined)ai=fc(bi);var fi=ci===n;if(ai!==this.keyHash){if(fi)return this;r(ei);r(di);return re(this,yh,zh,ai,[bi,ci]);}var gi=this.entries,hi=0;for(var ii=gi.length;hi<ii;hi++)if(yb(bi,gi[hi][0]))break;var ji=hi<ii;if(ji?gi[hi][1]===ci:fi)return this;r(ei);(fi||!ji)&&r(di);if(fi&&ii===2)return new he(yh,this.keyHash,gi[hi^1]);var ki=yh&&yh===this.ownerID,li=ki?gi:t(gi);if(ji){if(fi){hi===ii-1?li.pop():(li[hi]=li.pop());}else li[hi]=[bi,ci];}else li.push([bi,ci]);if(ki){this.entries=li;return this;}return new ge(yh,this.keyHash,li);};function he(yh,zh,ai){this.ownerID=yh;this.keyHash=zh;this.entry=ai;}he.prototype.get=function(yh,zh,ai,bi){return yb(ai,this.entry[0])?this.entry[1]:bi;};he.prototype.update=function(yh,zh,ai,bi,ci,di,ei){var fi=ci===n,gi=yb(bi,this.entry[0]);if(gi?ci===this.entry[1]:fi)return this;r(ei);if(fi){r(di);return;}if(gi){if(yh&&yh===this.ownerID){this.entry[1]=ci;return this;}return new he(yh,this.keyHash,[bi,ci]);}r(di);return re(this,yh,zh,fc(bi),[bi,ci]);};de.prototype.iterate=ge.prototype.iterate=function(yh,zh){var ai=this.entries;for(var bi=0,ci=ai.length-1;bi<=ci;bi++)if(yh(ai[zh?ci-bi:bi])===false)return false;};ee.prototype.iterate=fe.prototype.iterate=function(yh,zh){var ai=this.nodes;for(var bi=0,ci=ai.length-1;bi<=ci;bi++){var di=ai[zh?ci-bi:bi];if(di&&di.iterate(yh,zh)===false)return false;}};he.prototype.iterate=function(yh,zh){return yh(this.entry);};i(ie,ua);function ie(yh,zh,ai){this._type=zh;this._reverse=ai;this._stack=yh._root&&ke(yh._root);}ie.prototype.next=function(){var yh=this._type,zh=this._stack;while(zh){var ai=zh.node,bi=zh.index++,ci;if(ai.entry){if(bi===0)return je(yh,ai.entry);}else if(ai.entries){ci=ai.entries.length-1;if(bi<=ci)return je(yh,ai.entries[this._reverse?ci-bi:bi]);}else{ci=ai.nodes.length-1;if(bi<=ci){var di=ai.nodes[this._reverse?ci-bi:bi];if(di){if(di.entry)return je(yh,di.entry);zh=this._stack=ke(di,zh);}continue;}}zh=this._stack=this._stack.__prev;}return wa();};function je(yh,zh){return va(yh,zh[0],zh[1]);}function ke(yh,zh){return {node:yh,index:0,__prev:zh};}function le(yh,zh,ai,bi){var ci=Object.create(ce);ci.size=yh;ci._root=zh;ci.__ownerID=ai;ci.__hash=bi;ci.__altered=false;return ci;}var me;function ne(){return me||(me=le(0));}function oe(yh,zh,ai){var bi,ci;if(!yh._root){if(ai===n)return yh;ci=1;bi=new de(yh.__ownerID,[[zh,ai]]);}else{var di=q(o),ei=q(p);bi=pe(yh._root,yh.__ownerID,0,undefined,zh,ai,di,ei);if(!ei.value)return yh;ci=yh.size+(di.value?ai===n?-1:1:0);}if(yh.__ownerID){yh.size=ci;yh._root=bi;yh.__hash=undefined;yh.__altered=true;return yh;}return bi?le(ci,bi):ne();}function pe(yh,zh,ai,bi,ci,di,ei,fi){if(!yh){if(di===n)return yh;r(fi);r(ei);return new he(zh,bi,[ci,di]);}return yh.update(zh,ai,bi,ci,di,ei,fi);}function qe(yh){return yh.constructor===he||yh.constructor===ge;}function re(yh,zh,ai,bi,ci){if(yh.keyHash===bi)return new ge(zh,bi,[yh.entry,ci]);var di=(ai===0?yh.keyHash:yh.keyHash>>>ai)&m,ei=(ai===0?bi:bi>>>ai)&m,fi,gi=di===ei?[re(yh,zh,ai+k,bi,ci)]:((fi=new he(zh,bi,ci)),di<ei?[yh,fi]:[fi,yh]);return new ee(zh,(1<<di)|(1<<ei),gi);}function se(yh,zh,ai,bi){if(!yh)yh=new s();var ci=new he(yh,fc(ai),[ai,bi]);for(var di=0;di<zh.length;di++){var ei=zh[di];ci=ci.update(yh,0,undefined,ei[0],ei[1]);}return ci;}function te(yh,zh,ai,bi){var ci=0,di=0,ei=new Array(ai);for(var fi=0,gi=1,hi=zh.length;fi<hi;fi++,gi<<=1){var ii=zh[fi];if(ii!==undefined&&fi!==bi){ci|=gi;ei[di++]=ii;}}return new ee(yh,ci,ei);}function ue(yh,zh,ai,bi,ci){var di=0,ei=new Array(l);for(var fi=0;ai!==0;fi++,ai>>>=1)ei[fi]=ai&1?zh[di++]:undefined;ei[bi]=ci;return new fe(yh,di+1,ei);}function ve(yh,zh,ai){var bi=[];for(var ci=0;ci<ai.length;ci++){var di=ai[ci],ei=ca(di);if(!fa(di))ei=ei.map(function(fi){return zb(fi);});bi.push(ei);}return xe(yh,zh,bi);}function we(yh){return function(zh,ai,bi){return zh&&zh.mergeDeepWith&&fa(ai)?zh.mergeDeepWith(yh,ai):yh?yh(zh,ai,bi):ai;};}function xe(yh,zh,ai){ai=ai.filter(function(bi){return bi.size!==0;});if(ai.length===0)return yh;if(yh.size===0&&!yh.__ownerID&&ai.length===1)return yh.constructor(ai[0]);return yh.withMutations(function(bi){var ci=zh?function(ei,fi){bi.update(fi,n,function(gi){return gi===n?ei:zh(gi,ei,fi);});}:function(ei,fi){bi.set(fi,ei);};for(var di=0;di<ai.length;di++)ai[di].forEach(ci);});}function ye(yh,zh,ai,bi){var ci=yh===n,di=zh.next();if(di.done){var ei=ci?ai:yh,fi=bi(ei);return fi===ei?yh:fi;}uc(ci||(yh&&yh.set),'invalid keyPath');var gi=di.value,hi=ci?n:yh.get(gi,n),ii=ye(hi,zh,ai,bi);return ii===hi?yh:ii===n?yh.remove(gi):(ci?ne():yh).set(gi,ii);}function ze(yh){yh=yh-((yh>>1)&1431655765);yh=(yh&858993459)+((yh>>2)&858993459);yh=(yh+(yh>>4))&252645135;yh=yh+(yh>>8);yh=yh+(yh>>16);return yh&127;}function af(yh,zh,ai,bi){var ci=bi?yh:t(yh);ci[zh]=ai;return ci;}function bf(yh,zh,ai,bi){var ci=yh.length+1;if(bi&&zh+1===ci){yh[zh]=ai;return yh;}var di=new Array(ci),ei=0;for(var fi=0;fi<ci;fi++)if(fi===zh){di[fi]=ai;ei=-1;}else di[fi]=yh[fi+ei];return di;}function cf(yh,zh,ai){var bi=yh.length-1;if(ai&&zh===bi){yh.pop();return yh;}var ci=new Array(bi),di=0;for(var ei=0;ei<bi;ei++){if(ei===zh)di=1;ci[ei]=yh[ei+di];}return ci;}var df=l/4,ef=l/2,ff=l/4;i(gf,wb);function gf(yh){var zh=qf();if(yh===null||yh===undefined)return zh;if(hf(yh))return yh;var ai=da(yh),bi=ai.size;if(bi===0)return zh;vc(bi);if(bi>0&&bi<l)return of(0,bi,k,null,new lf(ai.toArray()));return zh.withMutations(function(ci){ci.setSize(bi);ai.forEach(function(di,ei){return ci.set(ei,di);});});}gf.of=function(){return this(arguments);};gf.prototype.toString=function(){return this.__toString('List [',']');};gf.prototype.get=function(yh,zh){yh=v(this,yh);if(yh<0||yh>=this.size)return zh;yh+=this._origin;var ai=uf(this,yh);return ai&&ai.array[yh&m];};gf.prototype.set=function(yh,zh){return rf(this,yh,zh);};gf.prototype.remove=function(yh){return !this.has(yh)?this:yh===0?this.shift():yh===this.size-1?this.pop():this.splice(yh,1);};gf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=k;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this;}return qf();};gf.prototype.push=function(){var yh=arguments,zh=this.size;return this.withMutations(function(ai){vf(ai,0,zh+yh.length);for(var bi=0;bi<yh.length;bi++)ai.set(zh+bi,yh[bi]);});};gf.prototype.pop=function(){return vf(this,0,-1);};gf.prototype.unshift=function(){var yh=arguments;return this.withMutations(function(zh){vf(zh,-yh.length);for(var ai=0;ai<yh.length;ai++)zh.set(ai,yh[ai]);});};gf.prototype.shift=function(){return vf(this,1);};gf.prototype.merge=function(){return wf(this,undefined,arguments);};gf.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return wf(this,yh,zh);};gf.prototype.mergeDeep=function(){return wf(this,we(undefined),arguments);};gf.prototype.mergeDeepWith=function(yh){var zh=h.call(arguments,1);return wf(this,we(yh),zh);};gf.prototype.setSize=function(yh){return vf(this,0,yh);};gf.prototype.slice=function(yh,zh){var ai=this.size;if(x(yh,zh,ai))return this;return vf(this,y(yh,ai),z(zh,ai));};gf.prototype.__iterator=function(yh,zh){var ai=0,bi=nf(this,zh);return new ua(function(){var ci=bi();return ci===mf?wa():va(yh,ai++,ci);});};gf.prototype.__iterate=function(yh,zh){var ai=0,bi=nf(this,zh),ci;while((ci=bi())!==mf)if(yh(ci,ai++,this)===false)break;return ai;};gf.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;return this;}return of(this._origin,this._capacity,this._level,this._root,this._tail,yh,this.__hash);};function hf(yh){return !!(yh&&yh[jf]);}gf.isList=hf;var jf='@@__IMMUTABLE_LIST__@@',kf=gf.prototype;kf[jf]=true;kf[j]=kf.remove;kf.setIn=ce.setIn;kf.deleteIn=kf.removeIn=ce.removeIn;kf.update=ce.update;kf.updateIn=ce.updateIn;kf.mergeIn=ce.mergeIn;kf.mergeDeepIn=ce.mergeDeepIn;kf.withMutations=ce.withMutations;kf.asMutable=ce.asMutable;kf.asImmutable=ce.asImmutable;kf.wasAltered=ce.wasAltered;function lf(yh,zh){this.array=yh;this.ownerID=zh;}lf.prototype.removeBefore=function(yh,zh,ai){if(ai===zh?1<<zh:this.array.length===0)return this;var bi=(ai>>>zh)&m;if(bi>=this.array.length)return new lf([],yh);var ci=bi===0,di;if(zh>0){var ei=this.array[bi];di=ei&&ei.removeBefore(yh,zh-k,ai);if(di===ei&&ci)return this;}if(ci&&!di)return this;var fi=tf(this,yh);if(!ci)for(var gi=0;gi<bi;gi++)fi.array[gi]=undefined;if(di)fi.array[bi]=di;return fi;};lf.prototype.removeAfter=function(yh,zh,ai){if(ai===zh?1<<zh:this.array.length===0)return this;var bi=((ai-1)>>>zh)&m;if(bi>=this.array.length)return this;var ci=bi===this.array.length-1,di;if(zh>0){var ei=this.array[bi];di=ei&&ei.removeAfter(yh,zh-k,ai);if(di===ei&&ci)return this;}if(ci&&!di)return this;var fi=tf(this,yh);if(!ci)fi.array.pop();if(di)fi.array[bi]=di;return fi;};var mf={};function nf(yh,zh){var ai=yh._origin,bi=yh._capacity,ci=xf(bi),di=yh._tail;return ei(yh._root,yh._level,0);function ei(hi,ii,ji){return ii===0?fi(hi,ji):gi(hi,ii,ji);}function fi(hi,ii){var ji=ii===ci?di&&di.array:hi&&hi.array,ki=ii>ai?0:ai-ii,li=bi-ii;if(li>l)li=l;return function(){if(ki===li)return mf;var mi=zh?--li:ki++;return ji&&ji[mi];};}function gi(hi,ii,ji){var ki,li=hi&&hi.array,mi=ji>ai?0:(ai-ji)>>ii,ni=((bi-ji)>>ii)+1;if(ni>l)ni=l;return function(){do{if(ki){var oi=ki();if(oi!==mf)return oi;ki=null;}if(mi===ni)return mf;var pi=zh?--ni:mi++;ki=ei(li&&li[pi],ii-k,ji+(pi<<ii));}while(true);};}}function of(yh,zh,ai,bi,ci,di,ei){var fi=Object.create(kf);fi.size=zh-yh;fi._origin=yh;fi._capacity=zh;fi._level=ai;fi._root=bi;fi._tail=ci;fi.__ownerID=di;fi.__hash=ei;fi.__altered=false;return fi;}var pf;function qf(){return pf||(pf=of(0,0,k));}function rf(yh,zh,ai){zh=v(yh,zh);if(zh>=yh.size||zh<0)return yh.withMutations(function(ei){zh<0?vf(ei,zh).set(0,ai):vf(ei,0,zh+1).set(zh,ai);});zh+=yh._origin;var bi=yh._tail,ci=yh._root,di=q(p);if(zh>=xf(yh._capacity)){bi=sf(bi,yh.__ownerID,0,zh,ai,di);}else ci=sf(ci,yh.__ownerID,yh._level,zh,ai,di);if(!di.value)return yh;if(yh.__ownerID){yh._root=ci;yh._tail=bi;yh.__hash=undefined;yh.__altered=true;return yh;}return of(yh._origin,yh._capacity,yh._level,ci,bi);}function sf(yh,zh,ai,bi,ci,di){var ei=(bi>>>ai)&m,fi=yh&&ei<yh.array.length;if(!fi&&ci===undefined)return yh;var gi;if(ai>0){var hi=yh&&yh.array[ei],ii=sf(hi,zh,ai-k,bi,ci,di);if(ii===hi)return yh;gi=tf(yh,zh);gi.array[ei]=ii;return gi;}if(fi&&yh.array[ei]===ci)return yh;r(di);gi=tf(yh,zh);if(ci===undefined&&ei===gi.array.length-1){gi.array.pop();}else gi.array[ei]=ci;return gi;}function tf(yh,zh){if(zh&&yh&&zh===yh.ownerID)return yh;return new lf(yh?yh.array.slice():[],zh);}function uf(yh,zh){if(zh>=xf(yh._capacity))return yh._tail;if(zh<1<<(yh._level+k)){var ai=yh._root,bi=yh._level;while(ai&&bi>0){ai=ai.array[(zh>>>bi)&m];bi-=k;}return ai;}}function vf(yh,zh,ai){var bi=yh.__ownerID||new s(),ci=yh._origin,di=yh._capacity,ei=ci+zh,fi=ai===undefined?di:ai<0?di+ai:ci+ai;if(ei===ci&&fi===di)return yh;if(ei>=fi)return yh.clear();var gi=yh._level,hi=yh._root,ii=0;while(ei+ii<0){hi=new lf(hi&&hi.array.length?[undefined,hi]:[],bi);gi+=k;ii+=1<<gi;}if(ii){ei+=ii;ci+=ii;fi+=ii;di+=ii;}var ji=xf(di),ki=xf(fi);while(ki>=1<<(gi+k)){hi=new lf(hi&&hi.array.length?[hi]:[],bi);gi+=k;}var li=yh._tail,mi=ki<ji?uf(yh,fi-1):ki>ji?new lf([],bi):li;if(li&&ki>ji&&ei<di&&li.array.length){hi=tf(hi,bi);var ni=hi;for(var oi=gi;oi>k;oi-=k){var pi=(ji>>>oi)&m;ni=ni.array[pi]=tf(ni.array[pi],bi);}ni.array[(ji>>>k)&m]=li;}if(fi<di)mi=mi&&mi.removeAfter(bi,0,fi);if(ei>=ki){ei-=ki;fi-=ki;gi=k;hi=null;mi=mi&&mi.removeBefore(bi,0,ei);}else if(ei>ci||ki<ji){ii=0;while(hi){var qi=(ei>>>gi)&m;if(qi!==(ki>>>gi)&m)break;if(qi)ii+=(1<<gi)*qi;gi-=k;hi=hi.array[qi];}if(hi&&ei>ci)hi=hi.removeBefore(bi,gi,ei-ii);if(hi&&ki<ji)hi=hi.removeAfter(bi,gi,ki-ii);if(ii){ei-=ii;fi-=ii;}}if(yh.__ownerID){yh.size=fi-ei;yh._origin=ei;yh._capacity=fi;yh._level=gi;yh._root=hi;yh._tail=mi;yh.__hash=undefined;yh.__altered=true;return yh;}return of(ei,fi,gi,hi,mi);}function wf(yh,zh,ai){var bi=[],ci=0;for(var di=0;di<ai.length;di++){var ei=ai[di],fi=da(ei);if(fi.size>ci)ci=fi.size;if(!fa(ei))fi=fi.map(function(gi){return zb(gi);});bi.push(fi);}if(ci>yh.size)yh=yh.setSize(ci);return xe(yh,zh,bi);}function xf(yh){return yh<l?0:(((yh-1)>>>k)<<k);}i(yf,zd);function yf(yh){return yh===null||yh===undefined?cg():zf(yh)?yh:cg().withMutations(function(zh){var ai=ca(yh);vc(ai.size);ai.forEach(function(bi,ci){return zh.set(ci,bi);});});}yf.of=function(){return this(arguments);};yf.prototype.toString=function(){return this.__toString('OrderedMap {','}');};yf.prototype.get=function(yh,zh){var ai=this._map.get(yh);return ai!==undefined?this._list.get(ai)[1]:zh;};yf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}return cg();};yf.prototype.set=function(yh,zh){return dg(this,yh,zh);};yf.prototype.remove=function(yh){return dg(this,yh,n);};yf.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};yf.prototype.__iterate=function(yh,zh){var ai=this;return this._list.__iterate(function(bi){return bi&&yh(bi[1],bi[0],ai);},zh);};yf.prototype.__iterator=function(yh,zh){return this._list.fromEntrySeq().__iterator(yh,zh);};yf.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map.__ensureOwner(yh),ai=this._list.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;this._list=ai;return this;}return ag(zh,ai,yh,this.__hash);};function zf(yh){return ae(yh)&&ja(yh);}yf.isOrderedMap=zf;yf.prototype[na]=true;yf.prototype[j]=yf.prototype.remove;function ag(yh,zh,ai,bi){var ci=Object.create(yf.prototype);ci.size=yh?yh.size:0;ci._map=yh;ci._list=zh;ci.__ownerID=ai;ci.__hash=bi;return ci;}var bg;function cg(){return bg||(bg=ag(ne(),qf()));}function dg(yh,zh,ai){var bi=yh._map,ci=yh._list,di=bi.get(zh),ei=di!==undefined,fi,gi;if(ai===n){if(!ei)return yh;if(ci.size>=l&&ci.size>=bi.size*2){gi=ci.filter(function(hi,ii){return hi!==undefined&&di!==ii;});fi=gi.toKeyedSeq().map(function(hi){return hi[0];}).flip().toMap();if(yh.__ownerID)fi.__ownerID=gi.__ownerID=yh.__ownerID;}else{fi=bi.remove(zh);gi=di===ci.size-1?ci.pop():ci.set(di,undefined);}}else if(ei){if(ai===ci.get(di)[1])return yh;fi=bi;gi=ci.set(di,[zh,ai]);}else{fi=bi.set(zh,ci.size);gi=ci.set(ci.size,[zh,ai]);}if(yh.__ownerID){yh.size=fi.size;yh._map=fi;yh._list=gi;yh.__hash=undefined;return yh;}return ag(fi,gi);}i(eg,wb);function eg(yh){return yh===null||yh===undefined?kg():fg(yh)?yh:kg().unshiftAll(yh);}eg.of=function(){return this(arguments);};eg.prototype.toString=function(){return this.__toString('Stack [',']');};eg.prototype.get=function(yh,zh){var ai=this._head;yh=v(this,yh);while(ai&&yh--)ai=ai.next;return ai?ai.value:zh;};eg.prototype.peek=function(){return this._head&&this._head.value;};eg.prototype.push=function(){if(arguments.length===0)return this;var yh=this.size+arguments.length,zh=this._head;for(var ai=arguments.length-1;ai>=0;ai--)zh={value:arguments[ai],next:zh};if(this.__ownerID){this.size=yh;this._head=zh;this.__hash=undefined;this.__altered=true;return this;}return ig(yh,zh);};eg.prototype.pushAll=function(yh){yh=da(yh);if(yh.size===0)return this;vc(yh.size);var zh=this.size,ai=this._head;yh.reverse().forEach(function(bi){zh++;ai={value:bi,next:ai};});if(this.__ownerID){this.size=zh;this._head=ai;this.__hash=undefined;this.__altered=true;return this;}return ig(zh,ai);};eg.prototype.pop=function(){return this.slice(1);};eg.prototype.unshift=function(){return this.push.apply(this,arguments);};eg.prototype.unshiftAll=function(yh){return this.pushAll(yh);};eg.prototype.shift=function(){return this.pop.apply(this,arguments);};eg.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this;}return kg();};eg.prototype.slice=function(yh,zh){if(x(yh,zh,this.size))return this;var ai=y(yh,this.size),bi=z(zh,this.size);if(bi!==this.size)return wb.prototype.slice.call(this,yh,zh);var ci=this.size-ai,di=this._head;while(ai--)di=di.next;if(this.__ownerID){this.size=ci;this._head=di;this.__hash=undefined;this.__altered=true;return this;}return ig(ci,di);};eg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;if(!yh){this.__ownerID=yh;this.__altered=false;return this;}return ig(this.size,this._head,yh,this.__hash);};eg.prototype.__iterate=function(yh,zh){if(zh)return this.reverse().__iterate(yh);var ai=0,bi=this._head;while(bi){if(yh(bi.value,ai++,this)===false)break;bi=bi.next;}return ai;};eg.prototype.__iterator=function(yh,zh){if(zh)return this.reverse().__iterator(yh);var ai=0,bi=this._head;return new ua(function(){if(bi){var ci=bi.value;bi=bi.next;return va(yh,ai++,ci);}return wa();});};function fg(yh){return !!(yh&&yh[gg]);}eg.isStack=fg;var gg='@@__IMMUTABLE_STACK__@@',hg=eg.prototype;hg[gg]=true;hg.withMutations=ce.withMutations;hg.asMutable=ce.asMutable;hg.asImmutable=ce.asImmutable;hg.wasAltered=ce.wasAltered;function ig(yh,zh,ai,bi){var ci=Object.create(hg);ci.size=yh;ci._head=zh;ci.__ownerID=ai;ci.__hash=bi;ci.__altered=false;return ci;}var jg;function kg(){return jg||(jg=ig(0));}i(lg,xb);function lg(yh){return yh===null||yh===undefined?sg():mg(yh)?yh:sg().withMutations(function(zh){var ai=ea(yh);vc(ai.size);ai.forEach(function(bi){return zh.add(bi);});});}lg.of=function(){return this(arguments);};lg.fromKeys=function(yh){return this(ca(yh).keySeq());};lg.prototype.toString=function(){return this.__toString('Set {','}');};lg.prototype.has=function(yh){return this._map.has(yh);};lg.prototype.add=function(yh){return pg(this,this._map.set(yh,true));};lg.prototype.remove=function(yh){return pg(this,this._map.remove(yh));};lg.prototype.clear=function(){return pg(this,this._map.clear());};lg.prototype.union=function(){var yh=h.call(arguments,0);yh=yh.filter(function(zh){return zh.size!==0;});if(yh.length===0)return this;if(this.size===0&&!this.__ownerID&&yh.length===1)return this.constructor(yh[0]);return this.withMutations(function(zh){for(var ai=0;ai<yh.length;ai++)ea(yh[ai]).forEach(function(bi){return zh.add(bi);});});};lg.prototype.intersect=function(){var yh=h.call(arguments,0);if(yh.length===0)return this;yh=yh.map(function(ai){return ea(ai);});var zh=this;return this.withMutations(function(ai){zh.forEach(function(bi){if(!yh.every(function(ci){return ci.includes(bi);}))ai.remove(bi);});});};lg.prototype.subtract=function(){var yh=h.call(arguments,0);if(yh.length===0)return this;yh=yh.map(function(ai){return ea(ai);});var zh=this;return this.withMutations(function(ai){zh.forEach(function(bi){if(yh.some(function(ci){return ci.includes(bi);}))ai.remove(bi);});});};lg.prototype.merge=function(){return this.union.apply(this,arguments);};lg.prototype.mergeWith=function(yh){var zh=h.call(arguments,1);return this.union.apply(this,zh);};lg.prototype.sort=function(yh){return tg(nd(this,yh));};lg.prototype.sortBy=function(yh,zh){return tg(nd(this,zh,yh));};lg.prototype.wasAltered=function(){return this._map.wasAltered();};lg.prototype.__iterate=function(yh,zh){var ai=this;return this._map.__iterate(function(bi,ci){return yh(ci,ci,ai);},zh);};lg.prototype.__iterator=function(yh,zh){return this._map.map(function(ai,bi){return bi;}).__iterator(yh,zh);};lg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;return this;}return this.__make(zh,yh);};function mg(yh){return !!(yh&&yh[ng]);}lg.isSet=mg;var ng='@@__IMMUTABLE_SET__@@',og=lg.prototype;og[ng]=true;og[j]=og.remove;og.mergeDeep=og.merge;og.mergeDeepWith=og.mergeWith;og.withMutations=ce.withMutations;og.asMutable=ce.asMutable;og.asImmutable=ce.asImmutable;og.__empty=sg;og.__make=qg;function pg(yh,zh){if(yh.__ownerID){yh.size=zh.size;yh._map=zh;return yh;}return zh===yh._map?yh:zh.size===0?yh.__empty():yh.__make(zh);}function qg(yh,zh){var ai=Object.create(og);ai.size=yh?yh.size:0;ai._map=yh;ai.__ownerID=zh;return ai;}var rg;function sg(){return rg||(rg=qg(ne()));}i(tg,lg);function tg(yh){return yh===null||yh===undefined?yg():ug(yh)?yh:yg().withMutations(function(zh){var ai=ea(yh);vc(ai.size);ai.forEach(function(bi){return zh.add(bi);});});}tg.of=function(){return this(arguments);};tg.fromKeys=function(yh){return this(ca(yh).keySeq());};tg.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function ug(yh){return mg(yh)&&ja(yh);}tg.isOrderedSet=ug;var vg=tg.prototype;vg[na]=true;vg.__empty=yg;vg.__make=wg;function wg(yh,zh){var ai=Object.create(vg);ai.size=yh?yh.size:0;ai._map=yh;ai.__ownerID=zh;return ai;}var xg;function yg(){return xg||(xg=wg(cg()));}i(zg,vb);function zg(yh,zh){var ai,bi=function di(ei){if(ei instanceof bi)return ei;if(!(this instanceof bi))return new bi(ei);if(!ai){ai=true;var fi=Object.keys(yh);dh(ci,fi);ci.size=fi.length;ci._name=zh;ci._keys=fi;ci._defaultValues=yh;}this._map=zd(ei);},ci=bi.prototype=Object.create(ah);ci.constructor=bi;return bi;}zg.prototype.toString=function(){return this.__toString(ch(this)+' {','}');};zg.prototype.has=function(yh){return this._defaultValues.hasOwnProperty(yh);};zg.prototype.get=function(yh,zh){if(!this.has(yh))return zh;var ai=this._defaultValues[yh];return this._map?this._map.get(yh,ai):ai;};zg.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}var yh=this.constructor;return yh._empty||(yh._empty=bh(this,ne()));};zg.prototype.set=function(yh,zh){if(!this.has(yh))throw new Error('Cannot set unknown key "'+yh+'" on '+ch(this));var ai=this._map&&this._map.set(yh,zh);if(this.__ownerID||ai===this._map)return this;return bh(this,ai);};zg.prototype.remove=function(yh){if(!this.has(yh))return this;var zh=this._map&&this._map.remove(yh);if(this.__ownerID||zh===this._map)return this;return bh(this,zh);};zg.prototype.wasAltered=function(){return this._map.wasAltered();};zg.prototype.__iterator=function(yh,zh){var ai=this;return ca(this._defaultValues).map(function(bi,ci){return ai.get(ci);}).__iterator(yh,zh);};zg.prototype.__iterate=function(yh,zh){var ai=this;return ca(this._defaultValues).map(function(bi,ci){return ai.get(ci);}).__iterate(yh,zh);};zg.prototype.__ensureOwner=function(yh){if(yh===this.__ownerID)return this;var zh=this._map&&this._map.__ensureOwner(yh);if(!yh){this.__ownerID=yh;this._map=zh;return this;}return bh(this,zh,yh);};var ah=zg.prototype;ah[j]=ah.remove;ah.deleteIn=ah.removeIn=ce.removeIn;ah.merge=ce.merge;ah.mergeWith=ce.mergeWith;ah.mergeIn=ce.mergeIn;ah.mergeDeep=ce.mergeDeep;ah.mergeDeepWith=ce.mergeDeepWith;ah.mergeDeepIn=ce.mergeDeepIn;ah.setIn=ce.setIn;ah.update=ce.update;ah.updateIn=ce.updateIn;ah.withMutations=ce.withMutations;ah.asMutable=ce.asMutable;ah.asImmutable=ce.asImmutable;function bh(yh,zh,ai){var bi=Object.create(Object.getPrototypeOf(yh));bi._map=zh;bi.__ownerID=ai;return bi;}function ch(yh){return yh._name||yh.constructor.name||'Record';}function dh(yh,zh){try{zh.forEach(eh.bind(undefined,yh));}catch(ai){}}function eh(yh,zh){Object.defineProperty(yh,zh,{get:function(){return this.get(zh);},set:function(ai){uc(this.__ownerID,'Cannot set on an immutable record.');this.set(zh,ai);}});}function fh(yh,zh){if(yh===zh)return true;if(!fa(zh)||yh.size!==undefined&&zh.size!==undefined&&yh.size!==zh.size||yh.__hash!==undefined&&zh.__hash!==undefined&&yh.__hash!==zh.__hash||ga(yh)!==ga(zh)||ha(yh)!==ha(zh)||ja(yh)!==ja(zh))return false;if(yh.size===0&&zh.size===0)return true;var ai=!ia(yh);if(ja(yh)){var bi=yh.entries();return zh.every(function(gi,hi){var ii=bi.next().value;return ii&&yb(ii[1],gi)&&(ai||yb(ii[0],hi));})&&bi.next().done;}var ci=false;if(yh.size===undefined)if(zh.size===undefined){if(typeof yh.cacheResult==='function')yh.cacheResult();}else{ci=true;var di=yh;yh=zh;zh=di;}var ei=true,fi=zh.__iterate(function(gi,hi){if(ai?!yh.has(gi):ci?!yb(gi,yh.get(hi,n)):!yb(yh.get(hi,n),gi)){ei=false;return false;}});return ei&&yh.size===fi;}i(gh,eb);function gh(yh,zh,ai){if(!(this instanceof gh))return new gh(yh,zh,ai);uc(ai!==0,'Cannot step a Range by 0');yh=yh||0;if(zh===undefined)zh=Infinity;ai=ai===undefined?1:Math.abs(ai);if(zh<yh)ai=-ai;this._start=yh;this._end=zh;this._step=ai;this.size=Math.max(0,Math.ceil((zh-yh)/ai-1)+1);if(this.size===0){if(hh)return hh;hh=this;}}gh.prototype.toString=function(){if(this.size===0)return 'Range []';return 'Range [ '+this._start+'...'+this._end+(this._step>1?' by '+this._step:'')+' ]';};gh.prototype.get=function(yh,zh){return this.has(yh)?this._start+v(this,yh)*this._step:zh;};gh.prototype.includes=function(yh){var zh=(yh-this._start)/this._step;return zh>=0&&zh<this.size&&zh===Math.floor(zh);};gh.prototype.slice=function(yh,zh){if(x(yh,zh,this.size))return this;yh=y(yh,this.size);zh=z(zh,this.size);if(zh<=yh)return new gh(0,0);return new gh(this.get(yh,this._end),this.get(zh,this._end),this._step);};gh.prototype.indexOf=function(yh){var zh=yh-this._start;if(zh%this._step===0){var ai=zh/this._step;if(ai>=0&&ai<this.size)return ai;}return -1;};gh.prototype.lastIndexOf=function(yh){return this.indexOf(yh);};gh.prototype.__iterate=function(yh,zh){var ai=this.size-1,bi=this._step,ci=zh?this._start+ai*bi:this._start;for(var di=0;di<=ai;di++){if(yh(ci,di,this)===false)return di+1;ci+=zh?-bi:bi;}return di;};gh.prototype.__iterator=function(yh,zh){var ai=this.size-1,bi=this._step,ci=zh?this._start+ai*bi:this._start,di=0;return new ua(function(){var ei=ci;ci+=zh?-bi:bi;return di>ai?wa():va(yh,di++,ei);});};gh.prototype.equals=function(yh){return yh instanceof gh?this._start===yh._start&&this._end===yh._end&&this._step===yh._step:fh(this,yh);};var hh;i(ih,eb);function ih(yh,zh){if(!(this instanceof ih))return new ih(yh,zh);this._value=yh;this.size=zh===undefined?Infinity:Math.max(0,zh);if(this.size===0){if(jh)return jh;jh=this;}}ih.prototype.toString=function(){if(this.size===0)return 'Repeat []';return 'Repeat [ '+this._value+' '+this.size+' times ]';};ih.prototype.get=function(yh,zh){return this.has(yh)?this._value:zh;};ih.prototype.includes=function(yh){return yb(this._value,yh);};ih.prototype.slice=function(yh,zh){var ai=this.size;return x(yh,zh,ai)?this:new ih(this._value,z(zh,ai)-y(yh,ai));};ih.prototype.reverse=function(){return this;};ih.prototype.indexOf=function(yh){if(yb(this._value,yh))return 0;return -1;};ih.prototype.lastIndexOf=function(yh){if(yb(this._value,yh))return this.size;return -1;};ih.prototype.__iterate=function(yh,zh){for(var ai=0;ai<this.size;ai++)if(yh(this._value,ai,this)===false)return ai+1;return ai;};ih.prototype.__iterator=function(yh,zh){var ai=this,bi=0;return new ua(function(){return bi<ai.size?va(yh,bi++,ai._value):wa();});};ih.prototype.equals=function(yh){return yh instanceof ih?yb(this._value,yh._value):fh(yh);};var jh;function kh(yh,zh){var ai=function(bi){yh.prototype[bi]=zh[bi];};Object.keys(zh).forEach(ai);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(zh).forEach(ai);return yh;}ba.Iterator=ua;kh(ba,{toArray:function(){vc(this.size);var yh=new Array(this.size||0);this.valueSeq().__iterate(function(zh,ai){yh[ai]=zh;});return yh;},toIndexedSeq:function(){return new xc(this);},toJS:function(){return this.toSeq().map(function(yh){return yh&&typeof yh.toJS==='function'?yh.toJS():yh;}).__toJS();},toJSON:function(){return this.toSeq().map(function(yh){return yh&&typeof yh.toJSON==='function'?yh.toJSON():yh;}).__toJS();},toKeyedSeq:function(){return new wc(this,true);},toMap:function(){return zd(this.toKeyedSeq());},toObject:function(){vc(this.size);var yh={};this.__iterate(function(zh,ai){yh[ai]=zh;});return yh;},toOrderedMap:function(){return yf(this.toKeyedSeq());},toOrderedSet:function(){return tg(ga(this)?this.valueSeq():this);},toSet:function(){return lg(ga(this)?this.valueSeq():this);},toSetSeq:function(){return new yc(this);},toSeq:function(){return ha(this)?this.toIndexedSeq():ga(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return eg(ga(this)?this.valueSeq():this);},toList:function(){return gf(ga(this)?this.valueSeq():this);},toString:function(){return '[Iterable]';},__toString:function(yh,zh){if(this.size===0)return yh+zh;return yh+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+zh;},concat:function(){var yh=h.call(arguments,0);return rd(this,jd(this,yh));},contains:function(yh){return this.includes(yh);},includes:function(yh){return this.some(function(zh){return yb(zh,yh);});},entries:function(){return this.__iterator(qa);},every:function(yh,zh){vc(this.size);var ai=true;this.__iterate(function(bi,ci,di){if(!yh.call(zh,bi,ci,di)){ai=false;return false;}});return ai;},filter:function(yh,zh){return rd(this,dd(this,yh,zh,true));},find:function(yh,zh,ai){var bi=this.findEntry(yh,zh);return bi?bi[1]:ai;},findEntry:function(yh,zh){var ai;this.__iterate(function(bi,ci,di){if(yh.call(zh,bi,ci,di)){ai=[ci,bi];return false;}});return ai;},findLastEntry:function(yh,zh){return this.toSeq().reverse().findEntry(yh,zh);},forEach:function(yh,zh){vc(this.size);return this.__iterate(zh?yh.bind(zh):yh);},join:function(yh){vc(this.size);yh=yh!==undefined?''+yh:',';var zh='',ai=true;this.__iterate(function(bi){ai?(ai=false):(zh+=yh);zh+=bi!==null&&bi!==undefined?bi.toString():'';});return zh;},keys:function(){return this.__iterator(oa);},map:function(yh,zh){return rd(this,bd(this,yh,zh));},reduce:function(yh,zh,ai){vc(this.size);var bi,ci;if(arguments.length<2){ci=true;}else bi=zh;this.__iterate(function(di,ei,fi){if(ci){ci=false;bi=di;}else bi=yh.call(ai,bi,di,ei,fi);});return bi;},reduceRight:function(yh,zh,ai){var bi=this.toKeyedSeq().reverse();return bi.reduce.apply(bi,arguments);},reverse:function(){return rd(this,cd(this,true));},slice:function(yh,zh){return rd(this,gd(this,yh,zh,true));},some:function(yh,zh){return !this.every(ph(yh),zh);},sort:function(yh){return rd(this,nd(this,yh));},values:function(){return this.__iterator(pa);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true;});},count:function(yh,zh){return u(yh?this.toSeq().filter(yh,zh):this);},countBy:function(yh,zh){return ed(this,yh,zh);},equals:function(yh){return fh(this,yh);},entrySeq:function(){var yh=this;if(yh._cache)return new hb(yh._cache);var zh=yh.toSeq().map(oh).toIndexedSeq();zh.fromEntrySeq=function(){return yh.toSeq();};return zh;},filterNot:function(yh,zh){return this.filter(ph(yh),zh);},findLast:function(yh,zh,ai){return this.toKeyedSeq().reverse().find(yh,zh,ai);},first:function(){return this.find(w);},flatMap:function(yh,zh){return rd(this,ld(this,yh,zh));},flatten:function(yh){return rd(this,kd(this,yh,true));},fromEntrySeq:function(){return new zc(this);},get:function(yh,zh){return this.find(function(ai,bi){return yb(bi,yh);},undefined,zh);},getIn:function(yh,zh){var ai=this,bi=yd(yh),ci;while(!(ci=bi.next()).done){var di=ci.value;ai=ai&&ai.get?ai.get(di,n):n;if(ai===n)return zh;}return ai;},groupBy:function(yh,zh){return fd(this,yh,zh);},has:function(yh){return this.get(yh,n)!==n;},hasIn:function(yh){return this.getIn(yh,n)!==n;},isSubset:function(yh){yh=typeof yh.includes==='function'?yh:ba(yh);return this.every(function(zh){return yh.includes(zh);});},isSuperset:function(yh){return yh.isSubset(this);},keySeq:function(){return this.toSeq().map(nh).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(yh){return od(this,yh);},maxBy:function(yh,zh){return od(this,zh,yh);},min:function(yh){return od(this,yh?qh(yh):th);},minBy:function(yh,zh){return od(this,zh?qh(zh):th,yh);},rest:function(){return this.slice(1);},skip:function(yh){return this.slice(Math.max(0,yh));},skipLast:function(yh){return rd(this,this.toSeq().reverse().skip(yh).reverse());},skipWhile:function(yh,zh){return rd(this,id(this,yh,zh,true));},skipUntil:function(yh,zh){return this.skipWhile(ph(yh),zh);},sortBy:function(yh,zh){return rd(this,nd(this,zh,yh));},take:function(yh){return this.slice(0,Math.max(0,yh));},takeLast:function(yh){return rd(this,this.toSeq().reverse().take(yh).reverse());},takeWhile:function(yh,zh){return rd(this,hd(this,yh,zh));},takeUntil:function(yh,zh){return this.takeWhile(ph(yh),zh);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=uh(this));}});var lh=ba.prototype;lh[ka]=true;lh[ta]=lh.values;lh.__toJS=lh.toArray;lh.__toStringMapper=rh;lh.inspect=lh.toSource=function(){return this.toString();};lh.chain=lh.flatMap;(function(){try{Object.defineProperty(lh,'length',{get:function(){if(!ba.noLengthWarning){var zh;try{throw new Error();}catch(ai){zh=ai.stack;}if(zh.indexOf('_wrapObject')===-1){console&&emptyFunction&&false;return this.size;}}}});}catch(yh){}})();kh(ca,{flip:function(){return rd(this,ad(this));},findKey:function(yh,zh){var ai=this.findEntry(yh,zh);return ai&&ai[0];},findLastKey:function(yh,zh){return this.toSeq().reverse().findKey(yh,zh);},keyOf:function(yh){return this.findKey(function(zh){return yb(zh,yh);});},lastKeyOf:function(yh){return this.findLastKey(function(zh){return yb(zh,yh);});},mapEntries:function(yh,zh){var ai=this,bi=0;return rd(this,this.toSeq().map(function(ci,di){return yh.call(zh,[di,ci],bi++,ai);}).fromEntrySeq());},mapKeys:function(yh,zh){var ai=this;return rd(this,this.toSeq().flip().map(function(bi,ci){return yh.call(zh,bi,ci,ai);}).flip());}});var mh=ca.prototype;mh[la]=true;mh[ta]=lh.entries;mh.__toJS=lh.toObject;mh.__toStringMapper=function(yh,zh){return JSON.stringify(zh)+': '+rh(yh);};kh(da,{toKeyedSeq:function(){return new wc(this,false);},filter:function(yh,zh){return rd(this,dd(this,yh,zh,false));},findIndex:function(yh,zh){var ai=this.findEntry(yh,zh);return ai?ai[0]:-1;},indexOf:function(yh){var zh=this.toKeyedSeq().keyOf(yh);return zh===undefined?-1:zh;},lastIndexOf:function(yh){return this.toSeq().reverse().indexOf(yh);},reverse:function(){return rd(this,cd(this,false));},slice:function(yh,zh){return rd(this,gd(this,yh,zh,false));},splice:function(yh,zh){var ai=arguments.length;zh=Math.max(zh|0,0);if(ai===0||(ai===2&&!zh))return this;yh=y(yh,this.size);var bi=this.slice(0,yh);return rd(this,ai===1?bi:bi.concat(t(arguments,2),this.slice(yh+zh)));},findLastIndex:function(yh,zh){var ai=this.toKeyedSeq().findLastKey(yh,zh);return ai===undefined?-1:ai;},first:function(){return this.get(0);},flatten:function(yh){return rd(this,kd(this,yh,false));},get:function(yh,zh){yh=v(this,yh);return (yh<0||(this.size===Infinity||(this.size!==undefined&&yh>this.size)))?zh:this.find(function(ai,bi){return bi===yh;},undefined,zh);},has:function(yh){yh=v(this,yh);return yh>=0&&(this.size!==undefined?this.size===Infinity||yh<this.size:this.indexOf(yh)!==-1);},interpose:function(yh){return rd(this,md(this,yh));},interleave:function(){var yh=[this].concat(t(arguments)),zh=qd(this.toSeq(),eb.of,yh),ai=zh.flatten(true);if(zh.size)ai.size=zh.size*yh.length;return rd(this,ai);},last:function(){return this.get(-1);},skipWhile:function(yh,zh){return rd(this,id(this,yh,zh,false));},zip:function(){var yh=[this].concat(t(arguments));return rd(this,qd(this,sh,yh));},zipWith:function(yh){var zh=t(arguments);zh[0]=this;return rd(this,qd(this,yh,zh));}});da.prototype[ma]=true;da.prototype[na]=true;kh(ea,{get:function(yh,zh){return this.has(yh)?yh:zh;},includes:function(yh){return this.has(yh);},keySeq:function(){return this.valueSeq();}});ea.prototype.has=lh.includes;kh(db,ca.prototype);kh(eb,da.prototype);kh(fb,ea.prototype);kh(vb,ca.prototype);kh(wb,da.prototype);kh(xb,ea.prototype);function nh(yh,zh){return zh;}function oh(yh,zh){return [zh,yh];}function ph(yh){return function(){return !yh.apply(this,arguments);};}function qh(yh){return function(){return -yh.apply(this,arguments);};}function rh(yh){return typeof yh==='string'?JSON.stringify(yh):yh;}function sh(){return t(arguments);}function th(yh,zh){return yh<zh?1:yh>zh?-1:0;}function uh(yh){if(yh.size===Infinity)return 0;var zh=ja(yh),ai=ga(yh),bi=zh?1:0,ci=yh.__iterate(ai?zh?function(di,ei){bi=31*bi+wh(fc(di),fc(ei))|0;}:function(di,ei){bi=bi+wh(fc(di),fc(ei))|0;}:zh?function(di){bi=31*bi+fc(di)|0;}:function(di){bi=bi+fc(di)|0;});return vh(ci,bi);}function vh(yh,zh){zh=dc(zh,3432918353);zh=dc(zh<<15|zh>>>-15,461845907);zh=dc(zh<<13|zh>>>-13,5);zh=(zh+3864292196|0)^yh;zh=dc(zh^zh>>>16,2246822507);zh=dc(zh^zh>>>13,3266489909);zh=ec(zh^zh>>>16);return zh;}function wh(yh,zh){return yh^zh+2654435769+(yh<<6)+(yh>>2)|0;}var xh={Iterable:ba,Seq:cb,Collection:ub,Map:zd,OrderedMap:yf,List:gf,Stack:eg,Set:lg,OrderedSet:tg,Record:zg,Range:gh,Repeat:ih,is:yb,fromJS:zb};return xh;}));}),null);
__d('SlideshowImageUtil',['SlideshowConstants','immutable','SlideshowConstants','invariant'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.formats,m='-',n=24,o=1.3,p=10,q=460,r=32,s=.8,t={shouldCropImages:function u(v){var w=v[0].width,x=v[0].height;for(var y=v,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var ca=ba;if(ca.width!==w||ca.height!==x)return true;}return false;},getCrops:function u(v,w,x){var y,z=this.calculateDefaultCoordinates(v,x);return y={},y[w]=z,y;},calculateCropsForFormat:function u(v,w,x){if(!v.size)return new i.Map();var y=new i.Map();switch(w){case l.Original:var z=v.first(),aa=x.get(z.key),ba=aa.height,ca=aa.width;v.forEach(function(da){y=y.set(da.key,this.getCrops(x.get(da.key),ca+h.SIZE_DELIMITER+ba,ca/ba));}.bind(this));break;case l.Wide:v.forEach(function(da){y=y.set(da.key,this.getCrops(x.get(da.key),w,h.LANDSCAPE_ASPECT_RATIO));}.bind(this));break;case l.Square:v.forEach(function(da){y=y.set(da.key,this.getCrops(x.get(da.key),w,h.SQUARE_ASPECT_RATIO));}.bind(this));break;case l.Vertical:v.forEach(function(da){y=y.set(da.key,this.getCrops(x.get(da.key),w,h.VERTICAL_ASPECT_RATIO));}.bind(this));break;default:}return y;},calculateDefaultCoordinates:function u(v,w){var x=void 0,y=void 0;if(v.width/w>v.height){x=v.height;y=v.height*w;}else{y=v.width;x=v.width/w;}var z=(v.width-y)/2,aa=(v.height-x)/2,ba=Math.floor(z)-z,ca=Math.floor(aa)-aa;return [[z+ba,aa+ca],[Math.round(z+y+ba),Math.round(aa+x+ca)]];},getPreviewBoxDimensions:function u(v,w){var x=w,y=w;if(v.length>0){var z=v[0],aa=Object.keys(z)[0];switch(aa){case h.formats.Wide:x=w/h.LANDSCAPE_ASPECT_RATIO;break;case h.formats.Vertical:y=w*h.VERTICAL_ASPECT_RATIO;break;case h.formats.Square:break;default:var ba=aa.split(h.SIZE_DELIMITER),ca=Number(ba[0]),da=Number(ba[1]);if(ca>da){x=Math.floor(y*da/ca);}else y=Math.floor(x*ca/da);break;}}return {width:y,height:x};},getFullSizeImageBoxCroppingSpec:function u(v,w){var x=w.width/w.height,y=this.calculateDefaultCoordinates(v,x);!(y.length===2)?k(0):void 0;return {format:h.formats.Original,topLeft:y[0],bottomRight:y[1]};},getDefaultCroppingSpec:function u(v){var w=this.calculateDefaultCoordinates(v,1);!(w.length===2)?k(0):void 0;return {format:h.formats.Square,topLeft:w[0],bottomRight:w[1]};},getHorizontalAlignmentForAPI:function u(v){var w=v.split(m);return w[1];},getFontSize:function u(v){return Math.floor(n*v);},getFontWeight:function u(v){return v?'bold':'normal';},getLineHeight:function u(){return o;},getOpacity:function u(){return s;},getTextoverlayMaxEdge:function u(v,w){return v-r*w*2-p*w*2;},getTextoverlayPadding:function u(v){return p*v;},getTextoverlayMargin:function u(v){return r*v;},getScaleMultiplierFromCrops:function u(v){var w=Object.keys(v)[0],x=w.split(h.SIZE_DELIMITER),y=Number(x[0]),z=Number(x[1]);return t.getScaleMultiplier(y,z);},getScaleMultiplier:function u(v,w){return Math.max(v/q,w/q);},getOuterTextboxCoordinatesForAPI:function u(v,w,x){var y=Object.keys(v)[0],z=y.split(h.SIZE_DELIMITER),aa=Number(z[0]),ba=Number(z[1]),ca=t.calculateTextboxCoordinates(ba,aa,w,x);return [Math.floor(ca.marginLeft),Math.floor(ba-ca.marginTop-ca.textHeight),Math.ceil(ca.marginLeft+ca.textWidth),Math.ceil(ba-ca.marginTop)];},getInnerTextboxCoordinatesForAPI:function u(v,w,x){var y=Object.keys(v)[0],z=y.split(h.SIZE_DELIMITER),aa=Number(z[0]),ba=Number(z[1]),ca=t.calculateTextboxCoordinates(ba,aa,w,x),da=t.getTextoverlayPadding(x)-4,ea={marginLeft:ca.marginLeft+da,marginTop:ca.marginTop,textHeight:ca.textHeight,textWidth:ca.textWidth-2*da};return [Math.floor(ea.marginLeft),Math.floor(ba-ea.marginTop-ea.textHeight),Math.ceil(ea.marginLeft+ea.textWidth),Math.ceil(ba-ea.marginTop)];},calculateTextboxCoordinates:function u(v,w,x,y){var z=x.text_alignment.split(m),aa=z[1],ba=z[0],ca=t.getFontSize(y),da=t.getTextoverlayMaxEdge(w,y),ea=t.getTextoverlayMaxEdge(v,y),fa=document.createElement('div');fa.textContent=x.textoverlay_content?x.textoverlay_content:'';fa.style.visibility='hidden';fa.style.display='inline-block';fa.style.wordWrap='break-word';fa.style.whiteSpace='pre-wrap';fa.style.fontFamily=x.font;fa.style.fontWeight=t.getFontWeight(x.bold);fa.style.fontSize=ca+'px';fa.style.textAlign=aa;fa.style.maxWidth=da+'px';fa.style.maxHeight=ea+'px';fa.style.lineHeight=t.getLineHeight()*ca+'px';fa.style.padding=t.getTextoverlayPadding(y)+'px';document.body.appendChild(fa);var ga=fa.clientWidth,ha=fa.clientHeight;document.body.removeChild(fa);var ia=r*y,ja=r*y,ka=w-r*y,la=v-r*y;if(aa=='center'){ia=Math.min((w-ga)/2,ka);}else if(aa=='right')ia=Math.min(w-r*y-ga,ka);if(ba=='center'){ja=Math.min((v-ha)/2,la);}else if(ba=='bottom')ja=Math.min(v-r*y-ha,la);return {marginLeft:ia,marginTop:ja,textHeight:ha,textWidth:ga};}};f.exports=t;}),null);
__d('SlideshowFrameImage.react',['Image.react','React','SlideshowImageUtil'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,i.Component);l=k&&k.prototype;m.prototype.$SlideshowFrameImage5=function(){if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y};}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight};}var n=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=n;this.$SlideshowFrameImage3.height*=n;this.$SlideshowFrameImage4.x*=n;this.$SlideshowFrameImage4.y*=n;this.$SlideshowFrameImage1.width*=n;this.$SlideshowFrameImage1.height*=n;this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2};};m.prototype.$SlideshowFrameImage6=function(){var n=this.props.textoverlay,o=j.getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!n||!n.textoverlay_content)return null;var p=j.calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,n,o),q=n.text_alignment.split('-')[1];return (i.createElement('div',{style:{backgroundColor:n.background_color,color:n.font_color,position:'absolute',fontFamily:n.font,fontSize:j.getFontSize(o),fontWeight:j.getFontWeight(n.bold),lineHeight:j.getLineHeight(),marginLeft:p.marginLeft,marginTop:p.marginTop,maxHeight:j.getTextoverlayMaxEdge(this.props.maxHeight,o),maxWidth:j.getTextoverlayMaxEdge(this.props.maxWidth,o),opacity:j.getOpacity(),overflow:'hidden',overflowWrap:'break-word',padding:j.getTextoverlayPadding(o),textAlign:q,whiteSpace:'pre-wrap'}},n.textoverlay_content));};m.prototype.render=function(){this.$SlideshowFrameImage5();return (i.createElement('div',{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:'hidden'}},i.createElement(h,{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:'absolute',left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6()));};function m(){k.apply(this,arguments);}m.defaultProps={className:null,croppingSpec:null,positionStyle:'absolute',textoverlay:null};f.exports=m;}),null);
__d('MSlideshowPlayer.react',['DOM','MImageFetchNotifier','React','ReactDOM','SlideshowFrameImage.react','SlideshowImageUtil','Style','SubscriptionsHandler','cx','cancelAnimationFrame','requestAnimationFrame'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=j.PropTypes,t=300,u=1.7143,v=j.createClass({displayName:'MSlideshowPlayer',_animationID:0,_timeout:0,_currIndex:0,_subscriptions:null,propTypes:{durationInMS:s.number.isRequired,transitionInMS:s.number.isRequired},getInitialState:function w(){return {imagesAllLoaded:false,playing:false};},componentWillMount:function w(){var x=new o(),y=j.Children.count(this.props.children);j.Children.forEach(this.props.children,function(z){var aa=z.props.src;x.addSubscriptions(i.notifyWhenFetched(aa,function(){y--;if(y===0)this.setState({imagesAllLoaded:true});}.bind(this)));}.bind(this));this._subscriptions=x;},componentDidMount:function w(){this._timeout=0;},componentWillUnmount:function w(){this._clearTimeout();this._subscriptions&&this._subscriptions.release();},shouldComponentUpdate:function w(x,y){return (y.imagesAllLoaded!==this.state.imagesAllLoaded||y.playing!==this.state.playing);},_clearTimeout:function w(){if(this._timeout){clearTimeout(this._timeout);this._timeout=0;}if(this._animationID){q(this._animationID);this._animationID=0;}},_getItemCount:function w(){return j.Children.count(this.props.children);},_moveNext:function w(){this._currIndex++;if(this._currIndex>=this._getItemCount()){this._stopPlaying();}else this._fadeImage();},_setTimeout:function w(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS);},_fadeImage:function w(){var x=k.findDOMNode(this.refs[this._currIndex-1]),y=0,z=function(aa){y=y===0?aa:y;var ba=Math.max(1-(aa-y)/this.props.transitionInMS,0);n.set(x,'opacity',ba);if(ba===0){this._setTimeout();}else this._animationID=r(z);}.bind(this);this._animationID=r(z);},_resetImages:function w(){this._currIndex=0;for(var x=0;x<this._getItemCount();x++)n.set(k.findDOMNode(this.refs[x]),'opacity',1);},_startPlaying:function w(){if(this._timeout)return;this.setState({playing:true},this._setTimeout);},_stopPlaying:function w(){if(this._timeout){this.setState({playing:false});this._clearTimeout();this._resetImages();}},_getImageDimensions:function w(x){if(this.refs[x]){var y=h.find(k.findDOMNode(this.refs[x]),'img');return {width:y.naturalWidth,height:y.naturalHeight};}return {width:0,height:0};},_getCurrentImages:function w(x,y,z){return j.Children.map(this.props.children,function(aa,ba){var ca=this._getImageDimensions(ba),da=z?m.getDefaultCroppingSpec(ca):null;return (j.createElement(l,{imageSrc:aa.props.src,imageWidth:ca.width,imageHeight:ca.height,croppingSpec:da,maxWidth:x,maxHeight:y,ref:ba,key:ba}));}.bind(this)).reverse();},render:function w(){if(this._getItemCount()===0)return j.createElement('div',null);var x=j.Children.map(this.props.children,function(ba,ca){return this._getImageDimensions(ca);}.bind(this)),y=m.shouldCropImages(x),z=y||!this.state.imagesAllLoaded?1:x[0].width/x[0].height,aa=t/Math.max(z,u);return (j.createElement('div',{className:"_1k7"},j.createElement('div',{className:"_1k8",style:{width:t,height:aa}},this._getCurrentImages(t,aa,y)),j.createElement('div',{className:"_1k9"+(this.state.playing||!this.state.imagesAllLoaded?' '+"_1ka":'')},j.createElement('div',{onClick:this._startPlaying,className:"_1o0y"}))));}});f.exports=v;}),null);
__d('MStructuredComposerSlideshowPreview',['CSS','DOM','Image.react','React','ReactDOM','MComposerNavigationMixin','MComposerSlideshowLogger','MCompositionPhotoStore','MCompositionPhotoFields','MSubscriptionsHandlerMixin','MSlideshowPlayer.react','SlideshowConstants','SlideshowCreationWaterfallEvent','Stratcom','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x;if(c.__markCompiled)c.__markCompiled();var y='cancel_slideshow_preview',z='show_slideshow_preview',aa='submit_slideshow';w=babelHelpers.inherits(ba,v(m,q));x=w&&w.prototype;function ba(ca,da){'use strict';x.constructor.call(this);this.$MStructuredComposerSlideshowPreview1=ca;this.$MStructuredComposerSlideshowPreview2=da;this.$MStructuredComposerSlideshowPreview3=null;this.addSubscriptions(i.listen(this.$MStructuredComposerSlideshowPreview2,'click',z,this.$MStructuredComposerSlideshowPreview4.bind(this)),i.listen(this.$MStructuredComposerSlideshowPreview1,'click',y,this.$MStructuredComposerSlideshowPreview5.bind(this)),i.listen(this.$MStructuredComposerSlideshowPreview1,'click',aa,this.$MStructuredComposerSlideshowPreview6.bind(this)));}ba.prototype.$MStructuredComposerSlideshowPreview7=function(ca){'use strict';var da=o.get(p.PHOTO_INFO_LIST,[]).map(function(ea,fa){return (k.createElement(j,{src:ea.previewURI,key:fa}));});return l.render(k.createElement(r,{durationInMS:s.photo_duration,transitionInMS:s.photo_transition_duration},da),ca);};ba.prototype.$MStructuredComposerSlideshowPreview4=function(){'use strict';this.newNavigationPolicy().addOnOpen(function(){this.$MStructuredComposerSlideshowPreview3=this.$MStructuredComposerSlideshowPreview7(i.find(this.$MStructuredComposerSlideshowPreview1,'div','slideshow_preview_placeholder'));h.show(this.$MStructuredComposerSlideshowPreview1);n.log(t.SLIDESHOW_PREVIEW_INTENT);}.bind(this)).addOnClose(function(){l.unmountComponentAtNode(i.find(this.$MStructuredComposerSlideshowPreview1,'div','slideshow_preview_placeholder'));h.hide(this.$MStructuredComposerSlideshowPreview1);n.log(t.SLIDESHOW_PREVIEW_CANCEL);}.bind(this)).addOnCloseByBrowser(function(){return h.hide(this.$MStructuredComposerSlideshowPreview1);}.bind(this)).open();};ba.prototype.$MStructuredComposerSlideshowPreview5=function(){'use strict';if(!this.hasNavigationPolicy())return;this.currentNavigationPolicy().close();};ba.prototype.$MStructuredComposerSlideshowPreview6=function(){'use strict';[i.find(this.$MStructuredComposerSlideshowPreview1,'button',aa),i.find(this.$MStructuredComposerSlideshowPreview1,'button',y)].forEach(function(ca){ca.disabled=true;});u.invoke('MStructuredComposerSlideshowPreview-submit');};ba.prototype.setSubmitButtonText=function(ca){'use strict';i.setContent(i.find(this.$MStructuredComposerSlideshowPreview1,'button',aa),ca);};f.exports=ba;}),null);
__d("XPhotosIncrementThumbnailPreviewNUXImpressionsController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/tagging\/increment_thumbnail_preview_nux_impressions\/",{});}),null);
__d("XPrivacyRemindersImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/reminders\/log_imp\/",{type:{type:"String",required:true}});}),null);
__d('whitelistObjectKeys',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={},l=Array.isArray(j)?j:Object.keys(j);for(var m=0;m<l.length;m++)if(typeof i[l[m]]!=='undefined')k[l[m]]=i[l[m]];return k;}f.exports=h;}),null);
__d('MStructuredComposer',['ActorURI','BanzaiLogger','CSS','CurrentUser','MLegacyDataStore','DOM','GroupSellLogger','MAjaxify','MAjaxifyFormTypes','MarauderLogger','MMultiPhotoUploaderAttachmentState','MComposerConfig','MComposerDataStoreKeys','MComposerEntry','MComposerLogger','MComposerLoggerPublishingListeners','MComposerNavigationMixin','MComposerPresence','MComposerSigils','MComposerSlideshowLogger','MComposerTypes','MComposition','MCompositionConfigFields','MCompositionConfigStore','MCompositionMinutiaeFields','MCompositionMinutiaeStore','MCompositionPhotoFields','MCompositionPhotoStore','MCompositionPlaceFields','MCompositionPlaceStore','MCompositionPrivacyStore','MCompositionShareFields','MCompositionShareStore','MCompositionStatusStore','MCompositionStatusFields','MCompositionSlideshowFields','MCompositionSlideshowStore','MCompositionFormatFields','MCompositionFormatID','MCompositionFormatStore','MCompositionWithStore','MCompositionWithFields','MCompositionStoreID','MCompositionUserActions','MComposerWaterfallEvent','MGroupSellInterceptUtil','MInputFocus','MJSEnvironment','MPrivacyComposerSelector','MRequest','MRequestTypes','MStructuredComposerOGInput','MStructuredComposerPhotoPreviewBootloader','MStructuredComposerSlideshowPreview','MTagSuggestionsController','MTouchClick','MViewport','PrivacyConst','PrivacyRemindersLoggingTypes','SlideshowConstants','SlideshowCreationWaterfallEvent','Stratcom','XPhotosIncrementThumbnailPreviewNUXImpressionsController','XPrivacyRemindersImpressionLoggingController','UnpublishedContentTypeJSConstants','URI','URLMatcher','UserAgent','Vector','areEqual','$','fbt','ge','getObjectValues','mixin','setTimeoutAcrossTransitions','whitelistObjectKeys','createDeprecatedProperties','cx','WildeLoader'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,ac,bc,cc,dc,ec,fc,gc,hc){var ic,jc;if(c.__markCompiled)c.__markCompiled();var kc=c('WildeLoader').MWildeTimelinePublisherBar,lc,mc=5,nc=6*3600*1000,oc=100;ic=babelHelpers.inherits(pc,dc(x));jc=ic&&ic.prototype;function pc(rc,sc,tc,uc,vc,wc,xc,yc,zc,ad,bd,cd,dd,ed,fd,gd,hd,id){'use strict';jc.constructor.call(this);lc=cd;this._ogClearablePreview=ed;this._albumPicker=uc;this._ogTagger=vc;this._multiPhotoUploader=wc;this._pageInfo=xc;this._createLabel=yc;this._updateLabel=zc;this._photosPreviewConfig=hd;this._photoPreview=null;this._photosPreviewNux=id;this._numMentions=0;this._hasMentions=!!this._numMentions;this._defaultHideConfig={};this._targetType=ad;this._entryPointRef=bd;this._stayHiddenUntilOGTaggerCloses=false;this._logWrittenListener=null;this._onComposerCancel=null;this._onComposerSubmit=null;this._root=rc;this._isCreateAlbumDialogOpen=false;this._mentionsEnabled=true;this._albumID=zb('album_fbid').value;var jd=zb('attach_photo'),kd=ea.get(da.DISABLE_ALBUM,this._defaultHideConfig[da.DISABLE_ALBUM]);if(!kd&&(this._albumPicker||this._multiPhotoUploader)){j.conditionClass(jd,"_6-k",true);}else m.hide(jd);this._mainPage=zb('viewport');this._composer=m.find(this._root,'div','composer-main-view');this._composerTitle=m.find(this._composer,'div','composer-title');this._submitButtonNode=m.find(this._composer,'button','submit_composer');this._staticTemplates=zb('static_templates');this._error_btn=m.find(this._composer,'div','m-status-empty-error');this._forsaleIntercept=m.scry(this._composer,'div','m-forsale-intercept')[0];if(this._forsaleIntercept){this._forsaleInterceptForsale=m.find(this._forsaleIntercept,'button','forsale_intercept_forsale');this._forsaleInterceptNonForsale=m.find(this._forsaleIntercept,'button','forsale_intercept_nonforsale');this._groupID=m.find(this._forsaleIntercept,'input','sell-composer-group-id').value;}this._forsaleInterceptShown=false;this._forsaleInterceptDeclinedTimestamp=0;this._form=m.find(this._composer,'form');this._starsRatableInput=m.find(this._form,'div','composer-stars-ratable-input');this._ratingTextContainer=m.scry(this._form,'div','composer-stars-rating-text')[0];this._friendsInputController=new lc(sc,m.find(this._form,'div','with-tags'),m.find(this._form,'button','with-button'));if(this._multiPhotoUploader&&fd){this._tagSuggestionsController=new jb(sc,this._multiPhotoUploader,this._targetType,this._form.target.value,this._friendsInputController,gd);if(this._photosPreviewConfig)this._multiPhotoUploader.getUploader().setProps({onUploadStarted:this._initPhotoPreview.bind(this)});}this._slideshowToggle=m.scry(this._form,'div','slideshow-toggle')[0];this._slideshowToggleOptions=this._slideshowToggle?m.scry(this._slideshowToggle,'input','slideshow-option'):null;this._slideshowInput=m.scry(this._form,'input','slideshow-input')[0];this._slideshowNoticePhotoMin=m.scry(this._composer,'div','slideshow-photo-min-msg')[0];this._slideshowNoticePhotoMax=m.scry(this._composer,'div','slideshow-photo-max-msg')[0];this._contextualMessage=m.scry(this._form,'div','contextual_message')[0];var ld=m.scry(this._form,'div','js_placeholder');this._placeholder=ld.length>0?ld[0]:null;this._textarea=m.find(this._form,'textarea','composer-textarea');this._postTypeInput=m.scry(this._form,'input','unpublished_content_type_input')[0];this._defaultAction=this._form.action;if(vc)this._ogInputController=new gb(m.find(this._form,'div','og-tags'),m.find(this._form,'button','og-button'),m.find(this._form,'div','og-object-attachment'),vc,this._ogClearablePreview);this._buttonbar=m.find(this._root,'div','composer-buttons');this._listeners=[];this._editChangesProducers=[ga,ka,la,oa,va];this._saveConfig();}pc.prototype._getNavigationPolicy=function(rc,sc){'use strict';var tc=this.newNavigationPolicy().addOnOpen(function(){return this._showComposer(rc,sc||{});}.bind(this)).addOnOpenChild(function(){return this._hideForInterstitial();}.bind(this)).addOnReturnFromChild(function(){j.conditionShow(this._composer,!this._stayHiddenUntilOGTaggerCloses&&!this._defaultPrivacyTransitionNux);this._focusOnTextarea();}.bind(this)).addOnCloseByBrowser(function(){return this._cancelComposer();}.bind(this));if(this._onComposerCancel)tc.addOnCloseByBrowser(this._onComposerCancel);return tc;};pc.prototype._getDefaultCancelConfirmMessage=function(){'use strict';if(this._composerType===ba.EDIT){return ac._("Tem certeza de que deseja descartar suas altera\u00e7\u00f5es?");}else return ac._("Tem certeza de que deseja descartar esta publica\u00e7\u00e3o?");};pc.prototype._navigateAwayFromComposerAndCancel=function(){'use strict';if(!this.hasNavigationPolicy())return;if(this._composerType===ba.RECOMMENDATION)i.log('ReviewProductionLoggerConfig',{event:'composer_discard_dialog_shown',page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});v.log(za.COMPOSER_CANCEL_INTENT);var rc;if(this._composerType===ba.EDIT){rc=this._shouldEditStatus();}else if(this._composerType===ba.GROUP_SELL){rc=this._isValidForSalePost();}else rc=this._shouldPostStatus();rc=wb.isBrowser('Mobile Safari 9')?false:rc;if(rc){var sc=ea.get(da.CANCEL_CONFIRMATION_MESSAGE)||this._getDefaultCancelConfirmMessage();if(!b.confirm(sc)){if(this._composerType===ba.RECOMMENDATION)i.log('ReviewProductionLoggerConfig',{event:'composer_discard_dialog_cancel',page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});return;}if(this._composerType===ba.RECOMMENDATION)i.log('ReviewProductionLoggerConfig',{event:'composer_discard_dialog_confirm',page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});}if(this._composerType===ba.RECOMMENDATION)i.log('ReviewProductionLoggerConfig',{event:'composer_cancel',page_id:this._recommendationData.page_id,surface:this._getRecommendationSurface()});var tc=this.currentNavigationPolicy().addOnClose(function(){return this._cancelComposer();}.bind(this));if(this._onComposerCancel)tc.addOnClose(this._onComposerCancel);tc.close();};pc.prototype._navigateAwayFromComposer=function(rc){'use strict';if(!this.hasNavigationPolicy())return;var sc=this.currentNavigationPolicy().addOnClose(function(){return this._resetComposer();}.bind(this));sc.setIsOnSubmit();if(this._onComposerSubmit)sc.addOnClose(this._onComposerSubmit.bind(null,rc));sc.close();};pc.prototype._navigateToComposer=function(rc,sc){'use strict';this._getNavigationPolicy(rc,sc).open();};pc.prototype._navigateToComposerAndCheckin=function(){'use strict';this._getNavigationPolicy(ba.CHECKIN).addOnOpen(function(){m.hide(this._composer);this._startCheckin();}.bind(this)).addOnCloseByBrowser(function(){qb.invoke('back','MComposer:dialog:place');}).open();};pc.prototype._focusOnTextarea=function(){'use strict';if(!this._skipFocus())this._textarea.focus();};pc.prototype._initializeComposition=function(rc){'use strict';rc[xa.CONFIG]=babelHelpers['extends']({},this._defaultConfig,rc[xa.CONFIG]);ya.initialize(rc);};pc.prototype._setPlaceholder=function(rc){'use strict';if(this._placeholder){this._textarea.placeholder="";m.setContent(this._placeholder,rc);}else this._textarea.placeholder=rc;};pc.prototype._showComposer=function(rc,sc){'use strict';if(sc.targetid)this._form.target.value=sc.targetid;qb.invoke('MPrivacyDeferredSelector::init');qb.listen('MPrivacyDeferredSelector-loaded',null,function(){this._privacyDeferredSelectorHasLoaded=true;}.bind(this));var tc=sc[t.COMPOSITION]||{};if(!tc.hasOwnProperty(xa.CONFIG))tc[xa.CONFIG]=fc(sc,cc(da));var uc=m.scry(this._form,"input","mentionsHiddenInput")[0]||this._textarea;if(uc.value){if(!tc.hasOwnProperty(xa.STATUS))tc[xa.STATUS]={};tc[xa.STATUS][pa.TEXT]=uc.value;}this._initializeComposition(tc);qb.invoke('MMentions:reset');this._composerType=ea.get(da.COMPOSER_TYPE,rc);if(sc&&sc.og_activity){var vc={};for(var wc in fa){var xc=fa[wc];vc[xc]=sc.og_activity[xc];}ya.minutiaeSet(vc);}this._logWrittenListener=m.listen(this._textarea,'keyup',null,function(){return this._logWritten();}.bind(this));var yc=ea.get(da.PLACEHOLDER);if(yc)this._setPlaceholder(yc);var zc=ea.get(da.CONTEXTUAL_MESSAGE);this._syncSubmit=ea.get(da.SYNC_SUBMIT);if(this._contextualMessage){this._contextualMessage.textContent=zc||'';j.conditionShow(this._contextualMessage,!!zc);}if(this._ogTagger){q.log('og_composer_show_composer');if(!this._ogTaggerLoaded){var ad='/platform/og/composer/tagger',bd=new eb(ad).setData({entry_ref:this._entryPointRef}).setType(fb.DEPENDENT);bd.listen('postprocess',function(){if(this._composerType===ba.ACTIVITY)this._ogTagger.toggleIncludedPlaceSelector(true);q.log('og_composer_async_loaded');}.bind(this));o.ajaxify(null,null,bd,null);this._ogTaggerLoaded=true;}}if(this._multiPhotoUploader&&rc===ba.PHOTO){this._showMultiPhotoUploader();}else if(this._ogTagger&&rc===ba.ACTIVITY)this._ogTagger.toggleIncludedPlaceSelector(true);if(this._composerType===ba.EDIT)this._observeEditChanges();m.hide(this._mainPage);m.show(this._composer);lb.scrollTo(0,0);if(this._specificAudienceTooltip&&!this._specificAudienceTooltipShown){this._specificAudienceTooltip.show();this._specificAudienceTooltipShown=true;var cd=new eb('/a/composer/nux/write/').setMethod('POST').setData({cns:1});o.ajaxify(null,null,cd);}if(this._forsaleInterceptShown){m.hide(this._forsaleIntercept);this._forsaleInterceptShown=false;}qb.invoke('MStructuredComposer-opened',null,{session_id:this._getSessionID(),composer_type:rc,target_type:this._targetType,entry_point_ref:this._entryPointRef,opened_time:ea.get(da.OPENED_AT)});v.log(za.COMPOSER_ENTRY,{composer_type:rc,ref:this._entryPointRef,target_type:this._targetType});var dd=ea.get(da.DISABLE_VOICE_SELECTOR),ed=m.scry(this._form,'div','composer-actor-selector')[0];if(ed)if(dd){m.hide(ed);}else m.show(ed);var fd=na.get(ma.LINK_NO_CHANGE);if(this._sharePreview&&this._shouldShowLinkPreview()&&this._composerType===ba.EDIT&&fd)this._sharePreview.init();return true;};pc.prototype._observeEditChanges=function(){'use strict';this._hasEditChanges=false;this._editChangesProducers.forEach(function(rc){this._listeners.push(rc.once('change',this._handleEditChange,this));}.bind(this));};pc.prototype._navigateToComposerAndShowActivitySelector=function(rc){'use strict';this._getNavigationPolicy(ba.ACTIVITY,rc).addOnOpen(function(){m.hide(this._composer);qb.invoke('MComposer:open:activity');}.bind(this)).open();};pc.prototype._navigateToComposerAndShowFileDialog=function(rc,event){'use strict';this._getNavigationPolicy(ba.PHOTO,rc).addOnOpen(function(){if(cb.IS_ANDROID)this._form.offsetHeight;kb.click(zb('photo_input'),event);}.bind(this)).open();};pc.prototype._navigateToComposerAndFocus=function(rc,sc){'use strict';this._getNavigationPolicy(rc,sc).addOnOpen(function(){var tc=cb.IS_APPLE_WEBKIT_IOS&&cb.OS_VERSION>=7;if(!this._skipFocus()&&!this._specificAudienceTooltip&&tc&&!this._audienceAlignmentFlyout&&!this._newcomerAudienceNux&&!this._showStickyGuardrailFlyout&&!this._defaultPrivacyTransitionNux){this._textarea.focus();var uc=this._getStatusText().length;this._textarea.setSelectionRange(uc,uc);}}.bind(this)).open();};pc.prototype._showPrivacyEducationOnComposerOpen=function(){'use strict';if(this._showStickyGuardrailFlyout){qb.invoke('show_sticky_guardrail_flyout',null,{textarea:this._textarea});}else if(this._newcomerAudienceNux){this._showNewcomerAudienceNux();}else if(this._audienceAlignmentFlyout)this._showAudienceAlignmentTux();};pc.prototype._showNewcomerAudienceNux=function(){'use strict';this._textarea.blur();this._newcomerAudienceNux.registerComposer(this._composer);this._newcomerAudienceNux.handleVerticalPadding();this._newcomerAudienceNux.registerPrivacySelector(this._privacySelector);this._newcomerAudienceNux.show();this._addNewcomerAudienceNuxListeners();};pc.prototype._showAudienceAlignmentTux=function(){'use strict';if(this._inAudienceAlignmentPublicExp){if(!this._composerEligibleForInterstitial(mb.PostParam.EVERYONE))return;}else if(this._inAudienceAlignmentOnlyMeExp)if(!this._composerEligibleForInterstitial(mb.PostParam.ONLY_ME))return;qb.invoke('MMentions:decorations:hide',null,{});lb.scrollTo(0,0);this._textarea.blur();this._audienceAlignmentFlyout.registerComposer(this._composer);this._audienceAlignmentFlyout.registerPrivacySelector(this._privacySelector);this._audienceAlignmentFlyout.show();this._addAudienceAlignmentNuxListeners();};pc.prototype._showDefaultPrivacyTransitionNux=function(){'use strict';this._textarea.blur();this._defaultPrivacyTransitionNux.registerComposer(this._composer);this._defaultPrivacyTransitionNux.show();};pc.prototype._addNewcomerAudienceNuxListeners=function(){'use strict';this._listeners.push(qb.listen('MNewcomerAudienceNux:public',null,function(){this.capturePublicPrivacyRow();}.bind(this)));};pc.prototype._addAudienceAlignmentNuxListeners=function(){'use strict';this._listeners.push(qb.listen('MPrivacyAudienceAlignment:friends',null,function(){this._friendsPrivacyRow=this._getPrivacyRow('value',mb.PostParam.FRIENDS);qb.invoke('MPrivacyComposerMenu:updatePrivacy',null,{row:this._friendsPrivacyRow});}.bind(this)));};pc.prototype.setDefaultHideConfig=function(rc){'use strict';this._defaultHideConfig=rc;};pc.prototype._closePrivacy=function(){'use strict';var rc=this._getPrivacySelector();rc&&rc.hideMenu();};pc.prototype._openPrivacy=function(){'use strict';var rc=this._getPrivacySelector();rc&&rc.showMenu();};pc.prototype._removeAlbumAndPhoto=function(){'use strict';var rc=bc('default-album');if(rc)kb.click(rc);if(!this._multiPhotoUploader)m.hide(zb('photo_display'));if(!this._getIsAlbumDisabled())m.hide(zb('album-button'));};pc.prototype._updateSubmitButtonState=function(){'use strict';var rc=true;if(this._composerType===ba.RECOMMENDATION){if(this._shortReviewsDisableDone){var sc=l.get(this._longReviewTips).threshold,tc=this._textarea.value.length,uc=l.get(this._longReviewTips).force_length;if(uc&&tc!==0&&tc<sc)rc=false;}if(this._starsRatableInput){var vc=m.find(this._starsRatableInput,'input','stars-ratable-input');if(!vc.value||vc.value==="0")rc=false;}}if(this._photosUploading)rc=false;if(ua.get(sa.FORMAT_ID)===ta.SLIDESHOW&&!ra.get(qa.IS_VALID))rc=false;this._toggleSubmitButtonState(rc);};pc.prototype._writeRecommendation=function(rc){'use strict';var sc=l.get(rc);this.captureFriendsPrivacyRow.bind(this);this._changeConfig(sc[t.COMPOSITION][xa.CONFIG]);this._composerType=ba.RECOMMENDATION;this._recommendationData=babelHelpers['extends']({},sc);u.invoke(new ca(sc[t.COMPOSITION]));};pc.prototype._changeSettingsAfterOpen=function(){'use strict';if(this._composerType===ba.RECOMMENDATION)this._setupRecommendationAfterOpen();};pc.prototype._getRecommendationSurface=function(){'use strict';var rc=ea.get(da.LOGGING_SURFACE);if(!rc)return 'none';return rc;};pc.prototype._setupRecommendationAfterOpen=function(){'use strict';var rc=this._recommendationData;i.log('ReviewProductionLoggerConfig',{event:'composer_open',page_id:rc.pageid,surface:this._getRecommendationSurface()});this._friendsInputController.setVisible(false);m.show(this._starsRatableInput);if(this._pageInfo)if(rc.pageinfo){m.show(this._pageInfo);m.setContent(this._pageInfo,rc.pageinfo);}else m.hide(this._pageInfo);if(this._ratingTextContainer&&rc.zeroratingtext)this._ratingTextContainer.textContent=rc.zeroratingtext;this._reviewLength=-1;if(this._longReviewTips&&this._longReviewTips.children.length){m.show(this._longReviewTips);this._updateLongReviewTipText();}rc.viewerrating=rc.viewerrating||0;qb.invoke('MPagesStarsRatableBase-setStars',null,{rating:rc.viewerrating});if(this._starPicker&&!rc.viewerrating){m.hide(this._starsRatableInput);this._starPicker.setTitle(rc.starpickertitle);}this._updateSubmitButtonState();this._hasStartedTyping=false;this._listeners.push(qb._listen('keyup','composer-textarea',function(event){if(!this._hasStartedTyping)i.log('ReviewProductionLoggerConfig',{event:'review_composer_started_typing',page_id:rc.pageid,surface:this._getRecommendationSurface()});this._hasStartedTyping=true;}.bind(this)),qb.listen('click','privacy-button',function(event){i.log('ReviewProductionLoggerConfig',{event:'review_composer_privacy_selector_click',page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});}.bind(this)),qb.listen('click','submit_composer',function(event){i.log('ReviewProductionLoggerConfig',{event:'composer_done_button_click',page_id:this._recommendationData.pageid,surface:this._getRecommendationSurface()});}.bind(this)));this.currentNavigationPolicy().addOnCloseByBrowser(function(sc){i.log('ReviewProductionLoggerConfig',{event:'composer_cancel',page_id:rc.page_id,surface:sc});}.bind(this,this._getRecommendationSurface()));};pc.prototype._updateLongReviewTipText=function(){'use strict';if(this._longReviewTips&&this._longReviewTips.children.length){var rc=this._textarea.value.length;if(this._reviewLength===rc)return;this._reviewLength=rc;var sc=l.get(this._longReviewTips).threshold,tc=l.get(this._longReviewTips).force_length;if(tc){var uc=m.find(this._longReviewTips,'span','composer-review-length-count'),vc=ac._("{character_count}\/{minimum_length} \u00b7",[ac.param('character_count',rc),ac.param('minimum_length',sc)]);m.setContent(uc,vc+' ');this._updateSubmitButtonState();}var wc=m.find(this._longReviewTips,'span','composer-short-review');j.conditionShow(wc,rc>0&&rc<sc);var xc=m.find(this._longReviewTips,'span','composer-long-review');j.conditionShow(xc,rc>=sc);}};pc.prototype._resetAlbumSelection=function(){'use strict';if(!this._getIsAlbumDisabled())j.conditionClass(zb('album-button'),'active',false);this._privacySelector&&m.show(this._privacySelector);zb('album_fbid').value='0';zb('album_privacy').value='';this._albumChosen=false;this._albumPicker.resetAlbumSelection();};pc.prototype._resetComposer=function(){'use strict';this._onComposerCancel=null;this._onComposerSubmit=null;if(this._isPageCheckin){this._isPageCheckin=false;this._changeConfig(this._defaultConfig);}this._toggleSubmitButtonState(true);m.hide(this._error_btn);this._hasMentions=false;this._numMentions=0;this._friendsInputController.reset();if(this._ogTagger){this._ogInputController.reset();qb.invoke('composerReset');this._ogTagger.hide();}if(this._photoAction){m.find(this._attachPhoto,'input','photo-input').value='';this._hasPhoto=false;if(!this._getIsAlbumDisabled()){this._removeAlbumAndPhoto();this._albumPicker.hide();}else{m.hide(this._attachPhoto);this._photoOpen=false;}j.conditionClass(this._photoButton,'active',false);m.show(this._photoButton);}!this._slideshowToggle||j.hide(this._slideshowToggle);if(this._slideshowNUX&&this._slideshowNUX.hasShown()){this._slideshowNUX.dismiss();this._slideshowNUX=null;}if(this._pageInfo)m.hide(this._pageInfo);if(this._longReviewTips)m.hide(this._longReviewTips);if(this._starsRatableInput)m.hide(this._starsRatableInput);this._newcomerAudienceNux=null;this._audienceAlignmentFlyout=null;this._showStickyGuardrailFlyout=false;this._photoButton&&m.show(this._photoButton);var rc=this._getPrivacySelector();if(rc&&rc.isOpen())rc.hideMenu();this._privacySelector&&m.show(this._privacySelector);this._updateTagExpansion();this._defaultPrivacyTransitionNux&&this._defaultPrivacyTransitionNux.dismiss();this._onlyMeFlyoutShown=false;this._mentionsEnabled=true;qb.invoke('MComposer:tagger:clear');this._resetPosition();this._determineFormAction();this._closeComposer();this._cleanupLogWritten();qb.invoke('MMentions:enable');qb.invoke('MStructuredComposer:reset');if(this._multiPhotoUploader)this._multiPhotoUploader.resetState();ya.finalize();};pc.prototype._resetPosition=function(){'use strict';if(this.getScrollToElem()&&this.getShouldScroll())ec(function(){var rc=bc(this.getScrollToElem());if(rc)lb.scrollToNodeWithOffset(rc,-5);}.bind(this),0);};pc.prototype._shouldSubmit=function(){'use strict';if(!da.DISABLE_SUBMIT_REQUEST)return true;return !ea.get(da.DISABLE_SUBMIT_REQUEST,false);};pc.prototype._shouldSyncSubmit=function(){'use strict';if(this._forceAsync)return false;if(this._syncSubmit)return true;return this._isPageCheckin||this._hasPhotos()||this._isUnpublishedPost;};pc.prototype._shouldShowLinkPreview=function(){'use strict';var rc=ea.get(da.DISABLE_LINK);return !rc&&this._composerType!==ba.SHARE&&(this._composerType===ba.ACTIVITY||this._composerType===ba.PHOTO||this._composerType===ba.CHECKIN||this._composerType===ba.STATUS||this._composerType===ba.EDIT)&&!this._hasPhoto;};pc.prototype._shouldPostStatus=function(){'use strict';if(!na.isEmpty())return true;var rc=m.convertFormToDictionary(this._form),sc=qc(rc.status)!=='',tc=qc(rc.message)!=='',uc=qc(rc.recommendation)!=='',vc=sc||tc||uc,wc=rc.rating!=="0",xc=this._friendsInputController.hasTokens(),yc=this._ogInputController&&this._ogInputController.hasValue(),zc=this._hasPhotos()||yc,ad=!ka.isEmpty()||this._isPageCheckin||this._pinPlace;if(vc||zc||ad||xc||wc)return true;return false;};pc.prototype._scheduledInFuture=function(){'use strict';var rc=this._schedulePostAMPM.value=='PM'||this._schedulePostAMPM.value==1?12:0,sc=new Date(this._schedulePostYear.value,this._schedulePostMonth.value-1,this._schedulePostDay.value,parseInt(this._schedulePostHour.value,10)+rc,this._schedulePostMinute.value,0,0),tc=sc-Date.now(),uc=10*60*1000,vc=6*31*24*60*60*1000;return tc>=uc&&tc<=vc;};pc.prototype._shouldEditStatus=function(){'use strict';return this._hasEditChanges;};pc.prototype._cleanupForsaleIntercept=function(){'use strict';var rc=m.scry(this._form,'input','composer_attachment_sell_currency')[0];if(rc)this._form.removeChild(rc);var sc=m.scry(this._form,'input','composer_attachment_sell_price')[0];if(sc)this._form.removeChild(sc);var tc=m.scry(this._form,'input','composer_attachment_sell_title')[0];if(tc)this._form.removeChild(tc);};pc.prototype._validateNonEmpty=function(rc){'use strict';if(this._composerType===ba.GROUP_SELL)return this._isValidForSalePost();if(!this._shouldPostStatus()){if(rc==='')this._setStatusText('');this._showError(ac._("Adicione um conte\u00fado ao seu status antes de public\u00e1-lo."));return false;}return true;};pc.prototype._isValidForSalePost=function(){'use strict';if(this._composerType!==ba.GROUP_SELL)return true;var rc=m.convertFormToDictionary(this._form),sc=rc.composer_attachment_sell_price,tc=rc.composer_attachment_sell_title,uc=rc.has_categories_enabled==='true',vc=rc.composer_attachment_sell_category,wc=rc.location_type==='inline',xc=rc.composer_attachment_sell_pickup_note;if(qc(tc)===''){this._showError(ac._("Por favor, adicione um t\u00edtulo para o seu produto"));return false;}if(qc(tc).length>oc){this._showError(ac._("Seu t\u00edtulo deve ser menor do que 100 caracteres"));return false;}if(qc(sc)===''){this._showError(ac._("Por favor, adicione um pre\u00e7o para o seu produto"));return false;}if(wc&&xc.length<5){this._showError(ac._("Please enter a valid location to your product"));return false;}if(uc&&qc(vc)===''){this._showError(ac._("Please select a category for your product"));return false;}return true;};pc.prototype._postForSale=function(){'use strict';var rc=qc(this._getStatusText()),sc=m.scry(this._forsaleIntercept,'input','sell-composer-currency-symbol')[0];if(!this._validateNonEmpty(rc)||!sc)return;var tc=ab.parseInterceptedPrices(rc,sc.value);if(tc===null||tc.length!==1)return;var uc=document.createElement('input');uc.type='hidden';uc.name='composer_attachment_sell_currency';uc.setAttribute('data-sigil','composer_attachment_sell_currency');uc.value=m.find(this._forsaleIntercept,'input','sell-composer-currency').value;this._form.appendChild(uc);var vc=document.createElement('input');vc.type='hidden';vc.name='composer_attachment_sell_price';vc.setAttribute('data-sigil','composer_attachment_sell_price');vc.value=tc[0];this._form.appendChild(vc);var wc=document.createElement('input');wc.type='hidden';wc.name='composer_attachment_sell_title';wc.setAttribute('data-sigil','composer_attachment_sell_title');wc.value=qc(this._getStatusText());this._form.appendChild(wc);this._toggleSubmitButtonState(false);n.logComposerInterceptAccepted(this._groupID,1);if(this._multiPhotoUploader&&this._multiPhotoUploader.hasPhotos()){this._multiPhotoUploader.logClientPost(this._submit.bind(this));}else this._submit();};pc.prototype._showForsaleIntercept=function(rc){'use strict';if(!this._forsaleIntercept)return false;if(this._forsaleInterceptShown){this._forsaleInterceptDeclinedTimestamp=Date.now();this._cleanupForsaleIntercept();n.logComposerInterceptDeclined(this._groupID,1);return false;}if(this._forsaleInterceptDeclinedTimestamp>0&&Date.now()-this._forsaleInterceptDeclinedTimestamp<nc){return false;}else this._forsaleInterceptDeclinedTimestamp=0;var sc=m.scry(this._forsaleIntercept,'input','sell-composer-currency-symbol')[0];if(!sc)return false;var tc=ab.parseInterceptedPrices(rc,sc.value);if(tc!==null&&tc.length===1){m.show(this._forsaleIntercept);this._forsaleInterceptShown=true;n.logComposerInterceptCreated(this._groupID,1);return true;}else{this._cleanupForsaleIntercept();return false;}};pc.prototype._showError=function(rc){'use strict';m.show(this._error_btn);m.setContent(this._error_btn,rc);};pc.prototype._confirmClicked=function(){'use strict';var rc=qc(this._getStatusText());if(!this._validateNonEmpty(rc))return;if(this._showForsaleIntercept(rc))return;if(this._postTypeInput.value==tb.SCHEDULED&&!this._scheduledInFuture()){this._showError(ac._("As publica\u00e7\u00f5es programadas precisam ser compartilhadas entre 10 minutos e 6 meses ap\u00f3s a cria\u00e7\u00e3o delas."));return;}if(this._tagSuggestionsController)this._tagSuggestionsController.generateHiddenInput(this._form);if(!this._mentionsEnabled)qb.invoke('MComposerStatusTextarea:flush',null,{value:this._textarea.value,hasMentions:this._mentionsEnabled});if(!this._albumChosen){var sc=this._getPrivacySelector(),tc;if(sc&&sc.getSelectedValue()==mb.PostParam.SELF){tc=sb.getURIBuilder().setString('type',nb.ONLY_ME_IMPRESSION).getURI();o.ajaxify(null,null,new eb(tc));var uc=this._friendsInputController.hasTokens()||this._hasMentions;if(!uc&&!window.confirm(ac._("Apenas voc\u00ea poder\u00e1 ver esta publica\u00e7\u00e3o. Clique em ''Cancelar'' para alterar o p\u00fablico."))){this._onlyMeFlyoutShown=true;return;}}else if(this._onlyMeFlyoutShown){tc=sb.getURIBuilder().setString('type',nb.ONLY_ME_CONVERSION).getURI();o.ajaxify(null,null,new eb(tc));}}this._onlyMeFlyoutShown=false;var vc=this._ogInputController&&this._ogInputController.getLoggingData();if(vc)q.log('og_composer_action_created',undefined,vc);this._toggleSubmitButtonState(false);if(this._composerType===ba.RECOMMENDATION)if(this._longReviewTips&&this._longReviewTips.children.length){var wc=l.get(this._longReviewTips).threshold,xc=this._textarea.value.length,yc=l.get(this._longReviewTips).force_length;if(yc&&xc!==0&&xc<wc){if(this._shortReviewsDisableDone)return;var zc=ac._("Sua avalia\u00e7\u00e3o deve ter no m\u00ednimo {min_length} caracteres. Deseja enviar sua classifica\u00e7\u00e3o por estrelas sem a avalia\u00e7\u00e3o?",[ac.param('min_length',wc)]);if(!b.confirm(zc)){this._toggleSubmitButtonState(true);return;}qb.invoke('MComposerStatusTextarea:flush',null,{value:'',hasMentions:this._mentionsEnabled});}}v.log(za.COMPOSER_POST,{loaded_time:ea.get(da.OPENED_AT),targetId:this._form.target.value||k.getID()});if(ua.get(sa.FORMAT_ID)===ta.SLIDESHOW)aa.log(pb.SLIDESHOW_POST);if(this._multiPhotoUploader&&this._multiPhotoUploader.hasPhotos()){this._multiPhotoUploader.logClientPost(this._submit.bind(this));}else this._submit();};pc.prototype._getAsyncContainer=function(){'use strict';return (document.getElementById('structured_composer_async_container')||(this._clickedButton?this._clickedButton.parentNode:null));};pc.prototype._getSessionID=function(){'use strict';return ea.get(da.SESSION_ID,null);};pc.prototype._getStatusText=function(){'use strict';return oa.get(pa.TEXT,'');};pc.prototype._setStatusText=function(rc){'use strict';var sc={};sc[pa.TEXT]=rc;ya.statusUpdate(sc);};pc.prototype._submit=function(){'use strict';if(!this._shouldSubmit()){this._submitNoRequest();return;}qb.invoke('MComposer:submit');if(this._shouldSyncSubmit()){this._submitSyncRequest();this._cleanupForsaleIntercept();return;}this._submitAsyncRequest();this._cleanupForsaleIntercept();};pc.prototype._getWithTagCount=function(){'use strict';var rc=va.get(wa.TOKENS);return rc?rc.length:0;};pc.prototype._getXYTagCount=function(){'use strict';if(!this._tagSuggestionsController)return 0;return this._tagSuggestionsController.getNumXYTags();};pc.prototype._getTagsUser=function(){'use strict';return this._numMentions;};pc.prototype._submitAsyncRequest=function(){'use strict';var rc=m.convertFormToDictionary(this._form),sc={};sc.hasPhoto=this._hasPhotos();sc.hasVideo=this._hasVideos();sc.xy_tag_count=this._getXYTagCount();sc.with_tag_count=this._getWithTagCount();sc.tags_user=this._getTagsUser();var tc=Object.assign(new w(this._getSessionID(),sc),{postprocess:this.cleanupSoftState.bind(this)});o.form(null,this._form,'async_composer',p.CACHE,this._getAsyncContainer(),false,[tc]);this._staticTemplates.style.height='';this._navigateAwayFromComposer(rc);this._resetPosition();};pc.prototype._submitNoRequest=function(){'use strict';this._staticTemplates.style.height='';this._navigateAwayFromComposer(m.convertFormToDictionary(this._form));};pc.prototype._submitSyncRequest=function(){'use strict';this._form.submit();this._resetPosition();};pc.prototype._getIsAlbumDisabled=function(){'use strict';return !this._albumPicker||ea.get(da.DISABLE_ALBUM,this._defaultHideConfig[da.DISABLE_ALBUM]);};pc.prototype._getIsSlideshowDisabled=function(){'use strict';return (!this._slideshowToggle||ea.get(da.DISABLE_SLIDESHOW,this._defaultHideConfig[da.DISABLE_SLIDESHOW]));};pc.prototype._updateButtonVisibility=function(rc,sc,tc){'use strict';var uc=m.scry(this._form,'button',rc)[0];if(uc){var vc=!!ea.get(sc,this._defaultHideConfig[sc]);j.conditionShow(uc,tc?!vc:vc);}};pc.prototype._handlePhotoUpdate=function(){'use strict';var rc=ia.get(ha.PHOTO_INFO_LIST,null);if(this._multiPhotoUploader&&rc&&rc.length>0){this._multiPhotoUploader.getUploader().component.setAttachmentsSilent(rc);this._showMultiPhotoUploader();}};pc.prototype._updateSlideshowUIState=function(){'use strict';var rc=ua.get(sa.FORMAT_ID,null),sc=ra.get(qa.IS_VALID,false),tc=ia.get(ha.PHOTO_INFO_LIST,[]).length;if(this._slideshowInput)this._slideshowInput.value=!this._getIsSlideshowDisabled()&&sc&&rc===ta.SLIDESHOW?'1':'0';if(this._slideshowNoticePhotoMax)j.conditionShow(this._slideshowNoticePhotoMax,rc===ta.SLIDESHOW&&tc>ob.max_photo_num);if(this._slideshowNoticePhotoMin)j.conditionShow(this._slideshowNoticePhotoMin,rc===ta.SLIDESHOW&&tc<ob.min_photo_num);if(this._getIsSlideshowDisabled()){!this._slideshowToggle||j.hide(this._slideshowToggle);}else if(tc>=ob.min_photo_num){!this._slideshowToggle||j.show(this._slideshowToggle);!this._slideshowNUX||this._slideshowNUX.showIfNotShown();}};pc.prototype._handleFormatUpdate=function(){'use strict';var rc=ua.get(sa.FORMAT_ID,null),sc=ua.get(sa.PREVIOUS_FORMAT_ID,null);this._updateSlideshowUIState();this._updateSubmitButtonState();!this._slideshowPreviewButton||j.conditionShow(this._slideshowPreviewButton,rc===ta.SLIDESHOW);j.conditionShow(m.find(this._composer,'button','submit_composer'),rc!==ta.SLIDESHOW);if(this._slideshowToggleOptions!==null)this._slideshowToggleOptions.find(function(uc){return uc.value===(rc||ta.PHOTO);}).checked=true;if(!rc||rc===sc)return;var tc=ia.get(ha.PHOTO_INFO_LIST,[]).length;if(rc===ta.SLIDESHOW){aa.log(pb.SLIDESHOW_INTENT);}else if(sc===ta.SLIDESHOW)aa.log(pb.SLIDESHOW_CANCEL);};pc.prototype._handleSlideshowUpdate=function(){'use strict';this._updateSlideshowUIState();};pc.prototype._handleSlideshowToggleUpdate=function(rc){var sc;'use strict';if(this._getIsSlideshowDisabled())return;var tc=this._slideshowToggleOptions.find(function(uc){return uc.checked;}).value;ya.formatUpdate((sc={},sc[sa.FORMAT_ID]=tc,sc));};pc.prototype._handleConfigUpdate=function(){'use strict';this._form.action=ea.get(da.ACTION);this._composerTitle.textContent=ea.get(da.COMPOSER_TITLE);if(this._photoAction)this._photoAction=h.create(this._photoAction,ea.get(da.ACTOR_ID)).toString();this._updateButtonVisibility('photo-button',da.DISABLE_PHOTOS,true);this._updateButtonVisibility('with-button',da.DISABLE_PEOPLE_TAGS,true);this._updateButtonVisibility('og-button',da.DISABLE_OG_TAG,true);this._updateButtonVisibility('privacy-button',da.DISABLE_PRIVACY,true);this._updateButtonVisibility('post-type-button',da.SHOW_POST_TYPE_SELECTOR,false);if(!ea.get(da.SHOW_POST_TYPE_SELECTOR)){qb.invoke('MStructuredComposerPostTypeInput::setPublishNow');this._updatePostType(tb.PUBLISHED,false);}this._updateHiddenForm('target',da.TARGET_ID);if(ea.get(da.DISABLE_MENTIONS,false)){qb.invoke('MMentions:disable');this._mentionsEnabled=false;}else{qb.invoke('MMentions:enable');this._mentionsEnabled=true;}var rc=this._ogInputController&&this._ogInputController.hasValue();if(rc)this._ogInputController.setDisableOgTagPreview(ea.get(da.DISABLE_OG_TAG_PREVIEW,false));var sc=ea.get(da.PLACEHOLDER);if(sc)this._setPlaceholder(sc);var tc=document.getElementById('composer_album_info');if(tc){var uc=ea.get(da.DISABLE_ALBUM_INFO,this._defaultHideConfig[da.DISABLE_ALBUM_INFO]);if(uc){j.hide(tc);zb('album_fbid').value='0';}else{j.show(tc);zb('album_fbid').value=this._albumID;}}this._updateSlideshowUIState();};pc.prototype._updateHiddenForm=function(rc,sc){'use strict';var tc=m.scry(this._form,'input',rc)[0];if(tc)tc.value=ea.get(sc);};pc.prototype._handleStatusUpdate=function(){'use strict';this._updateLongReviewTipText();this._updateShareScraper();};pc.prototype._handleEditChange=function(){'use strict';this._hasEditChanges=true;};pc.prototype._logWritten=function(){'use strict';if(this._getStatusText().trim()<mc)return;v.log(za.COMPOSER_WRITTEN,{publish_target:this._form.target.value||k.getID(),loaded_time:ea.get(da.OPENED_AT),written_time:Date.now()});this._cleanupLogWritten();};pc.prototype._cleanupLogWritten=function(){'use strict';if(!this._logWrittenListener)return;this._logWrittenListener.remove();this._logWrittenListener=null;};pc.prototype._saveConfig=function(){'use strict';var rc=m.scry(this._form,"input","mentionsHiddenInput")[0]||this._textarea;this._defaultConfig={action:this._form.action,targetid:this._form.target.value,inputname:rc.name,placeholder:this._placeholder?this._placeholder.textContent:this._textarea.placeholder,composertitle:this._composerTitle.textContent,pinplace:this._pinPlace,forceasync:this._forceAsync};this._defaultConfig[da.BUTTON_TEXT_SUBMIT]=this._submitButtonNode.textContent;};pc.prototype._changeConfig=function(rc){'use strict';var sc=m.scry(this._form,"input","mentionsHiddenInput")[0]||this._textarea;this._form.action=rc.action;if(this._form.target)this._form.target.value=rc.targetid;this._setPlaceholder(rc.placeholder);this._composerTitle.textContent=rc.composertitle;this._pinPlace=rc.pinplace;this._forceAsync=rc.forceasync;sc.name=rc.inputname;this._showPostTypeSelectionFlow=rc.showposttypeselector;};pc.prototype._extendComposerHeight=function(){'use strict';if(this._composer.style.display!=='none')this._staticTemplates.style.height=b.innerHeight+'px';};pc.prototype.setPrivacySelector=function(rc){'use strict';this._privacySelector=rc;};pc.prototype._getPrivacySelector=function(){'use strict';return this._privacySelector&&db.getInstance(this._privacySelector);};pc.prototype._updateShareScraper=function(){'use strict';if(!s.SHOW_LINK_PREVIEW||!this._shouldShowLinkPreview())return;if(na.get(ma.LINK_NO_CHANGE))return;var rc=vb.permissiveMatch(this._getStatusText()),sc=na.get(ma.DISABLED_LINKS),tc=na.get(ma.SHARE_URI);if(rc!==tc&&(!sc||!sc[rc])){if(this._multiPhotoUploader)if(this._multiPhotoUploader.getUploader().component.getAttachmentCount()===0){this._multiPhotoUploader.resetState();}else return;if(rc&&tc&&tc.indexOf(rc)!=-1||!rc)return;setTimeout(function(){ya.shareLinkUpdate(rc);ya.configDisablePhotosUpdate(!!rc);},0);}};pc.prototype._updatePostType=function(rc,sc){'use strict';this._postTypeInput.value=rc;var tc=null;if(rc===tb.DRAFT){this._isUnpublishedPost=true;tc=ac._("Salvar");}else if(rc===tb.PUBLISHED){this._isUnpublishedPost=false;tc=sc?ac._("Usar data retroativa"):ac._("Publicar");}else if(rc===tb.SCHEDULED){this._isUnpublishedPost=true;tc=ac._("Programar");}if(tc){m.setContent(m.find(this._composer,'button','submit_composer'),tc);if(this._slideshowPreviewController)this._slideshowPreviewController.setSubmitButtonText(tc);}};pc.prototype._updateSchedulePostTime=function(rc){'use strict';this._schedulePostYear=m.find(this._form,'input','scheduled_post_year');this._schedulePostMonth=m.find(this._form,'input','scheduled_post_month');this._schedulePostDay=m.find(this._form,'input','scheduled_post_day');this._schedulePostHour=m.find(this._form,'input','scheduled_post_hour');this._schedulePostMinute=m.find(this._form,'input','scheduled_post_minute');this._schedulePostAMPM=m.find(this._form,'input','scheduled_post_ampm');this._schedulePostYear.value=rc.year;this._schedulePostMonth.value=rc.month;this._schedulePostDay.value=rc.day;this._schedulePostHour.value=rc.hour;this._schedulePostMinute.value=rc.minute;this._schedulePostAMPM.value=rc.ampm;};pc.prototype._updateBackdatedPostTime=function(rc){'use strict';this._backdatedPostYear=m.find(this._form,'input','backdated_post_year');this._backdatedPostMonth=m.find(this._form,'input','backdated_post_month');this._backdatedPostDay=m.find(this._form,'input','backdated_post_day');this._backdatedPostYear.value=rc.year;this._backdatedPostMonth.value=rc.month;this._backdatedPostDay.value=rc.day;};pc.prototype.setPhotoAction=function(rc){'use strict';if(rc){this._attachPhoto=zb('attach_photo');this._photoButton=m.find(this._form,'button','photo-button');}this._photoAction=rc;return this;};pc.prototype.setKeyboardStateDown=function(){'use strict';};pc.prototype.setLongReviewTips=function(rc){'use strict';this._longReviewTips=rc;};pc.prototype.setShortReviewsDisableDone=function(rc){'use strict';this._shortReviewsDisableDone=rc;};pc.prototype.setSlideshowPreview=function(rc){'use strict';this._slideshowPreview=rc;this._slideshowPreviewButton=m.find(this._composer,'button','show_slideshow_preview');this._slideshowPreviewController=new ib(this._slideshowPreview,this._slideshowPreviewButton);};pc.prototype.setSlideshowNUX=function(rc){'use strict';this._slideshowNUX=rc;};pc.prototype._determineFormAction=function(){'use strict';if(this._hasPhotos()&&this._photoAction!==''){this._form.action=this._photoAction;}else this._form.action=ea.get(da.ACTION)||this._defaultAction;};pc.prototype._determineMultiPhotoComposerState=function(){'use strict';if(!this._multiPhotoUploader)return;if(this._photoButton)j.conditionClass(this._photoButton,'active',this._hasPhotos());if(!this._getIsAlbumDisabled()){var rc=ua.get(sa.FORMAT_ID,null);j.conditionShow(zb('album-button'),this._hasPhotos()&&rc!==ta.SLIDESHOW);if(!this._hasPhotos()&&this._albumChosen)this._resetAlbumSelection();}};pc.prototype._showMultiPhotoUploader=function(){'use strict';if(this._multiPhotoUploader){this._determineMultiPhotoComposerState();this._multiPhotoUploader.alterPreviewGrid(true);}if(!this._getIsSlideshowDisabled())this._multiPhotoUploader.getUploader().setProps({showDropShadow:false});};pc.prototype._hasVideos=function(){'use strict';return false;};pc.prototype._hasPhotos=function(){'use strict';if(this._multiPhotoUploader){return this._multiPhotoUploader.hasPhotos();}else if(!this._getIsAlbumDisabled()){return this._hasPhoto;}else return this._photoOpen&&this._hasPhoto;};pc.prototype._pagePostClicked=function(rc){'use strict';if(!rc)return;var sc=l.get(rc);this._changeConfig(sc);this._privacySelector&&m.hide(this._privacySelector);};pc.prototype.start=function(){'use strict';this._form.addEventListener('reset',this._resetComposer.bind(this));this._listeners.push(qb.listen('MComposer:entry:js',null,function(event){var sc=event.getData();this._onComposerCancel=sc[t.ON_CANCEL];this._onComposerSubmit=sc[t.ON_SUBMIT];this._navigateToComposerAndFocus(ba.STATUS,sc);this._changeSettingsAfterOpen();this._showPrivacyEducationOnComposerOpen();}.bind(this)));if(this._starsRatableInput){this._listeners.push(qb.listen('MPagesStarsRatableBase-starsSet',null,this._updateSubmitButtonState.bind(this)));this._listeners.push(qb.listen('MPagesStarsRatableBase-starTapped',null,function(sc){i.log('ReviewProductionLoggerConfig',{event:'composer_star_click',page_id:this._recommendationData.pageid,star_clicked:sc.getData().rating,surface:this._getRecommendationSurface()});}.bind(this)));}this._listeners.push(qb.listen('MDefaultPrivacyEducationNux:selected',null,function(){this._defaultPrivacyTransitionNux=null;}.bind(this)));this._listen('click',z.ENTRY_TRIGGER_LEGACY,function(event){if(kc&&kc.listenersRegistered())return;var sc=event.getNode(z.ENTRY_TRIGGER_LEGACY),tc=l.get(sc);if(tc&&tc.og_activity&&!tc.og_activity.fbt_phrase)tc.og_activity.fbt_phrase=this._ogTagger._getTagPhrase(tc.og_activity.action_type,tc.og_activity.icon,tc.og_activity.object_str,tc.og_activity.object_id,tc.og_activity.location_str);this._navigateToComposerAndFocus(ba.STATUS,tc);this._showPrivacyEducationOnComposerOpen();this._clickedButton=sc;}.bind(this));if(wb.isBrowser('Mobile Safari < 8')){var rc=true;this._listen('click','cancel_composer',function(event){if(rc){rc=false;setTimeout(function(){kb.click(event.getTarget(),event);},0);}else{rc=true;this._navigateAwayFromComposerAndCancel();}}.bind(this));}else this._listen('click','cancel_composer',this._navigateAwayFromComposerAndCancel.bind(this));this._listen('click','submit_composer',this._confirmClicked.bind(this));this._listen('click','forsale_intercept_nonforsale',this._confirmClicked.bind(this));this._listen('click','forsale_intercept_forsale',this._postForSale.bind(this));this._listen('m:viewport:scroll-to-header',null,this._extendComposerHeight.bind(this));this._listen('click','checkin_link',function(event){if(kc&&kc.listenersRegistered())return;this._clickedButton=event.getNode('checkin_link');this._navigateToComposerAndCheckin();event.prevent();}.bind(this));this._listeners.push(qb.listen('MComposer:close:activity',null,function(){this._stayHiddenUntilOGTaggerCloses=false;m.show(this._composer);}.bind(this)),qb.listen('cancel','MComposer:dialog:place',function(){return this._navigateAwayFromComposerAndCancel();}.bind(this)),qb.listen('close','MComposer:dialog:place',function(){return m.show(this._composer);}.bind(this)));this._listeners.push(qb.listen('MComposer:post:backdate',null,function(event){this._isBackdated=m.find(this._form,'input','is_backdated');this._isBackdated.value=event.getData().value;}.bind(this)));this._listeners.push(qb.listen('MComposer:post:draft',null,function(event){var sc=event.getData();this._updatePostType(sc.type,sc.isBackdated);}.bind(this)));this._listeners.push(qb.listen('MComposer:post:scheduled:time',null,function(event){var sc=event.getData();this._updateSchedulePostTime(sc);}.bind(this)));this._listeners.push(qb.listen('MComposer:post:backdated:time',null,function(event){var sc=event.getData();this._updateBackdatedPostTime(sc);}.bind(this)));if(this._ogTagger){this._listen('click','activity_link',this._navigateToComposerAndShowActivitySelector.bind(this));this._listen('click','og_included_place_checkin',function(event){this._ogTagger.hide();this._startCheckin();}.bind(this));this._listeners.push(this._ogTagger.listen('cancelFromActivity',this._navigateAwayFromComposerAndCancel.bind(this)));}this._listeners.push(ea.addListener('change',function(){return this._handleConfigUpdate();}.bind(this)));this._listeners.push(ia.addListener('change',function(){return this._handlePhotoUpdate();}.bind(this)));this._listeners.push(oa.addChangeListener(function(){return this._handleStatusUpdate();}.bind(this)));this._listeners.push(ua.addChangeListener(function(){return this._handleFormatUpdate();}.bind(this)));this._listeners.push(ra.addChangeListener(function(){return this._handleSlideshowUpdate();}.bind(this)));if(this._slideshowPreviewController){this._listen('change','slideshow-option',this._handleSlideshowToggleUpdate.bind(this));this._listen('MStructuredComposerSlideshowPreview-submit',null,this._confirmClicked.bind(this));}this._listen('click','write_post_posts_by_others',function(event){this._pagePostClicked(event.getNode('write_post_posts_by_others'));event.prevent();}.bind(this));this._listen('composerPhotoLinkPostsByOthers',null,function(event){this._pagePostClicked(event.getData());event.prevent();}.bind(this));this._listen('click','write_post_admin',function(event){this._pagePostClicked(event.getNode('write_post_admin'));event.prevent();}.bind(this));this._listen('click','page_checkin',function(event){var sc=l.get(event.getNode('page_checkin'));this._isPageCheckin=true;if(!sc[t.COMPOSITION])sc[t.COMPOSITION]=new ca().setStoreData(xa.CONFIG,fc(sc,cc(da))).setStoreData(xa.PLACE,{id:sc.pageid,name:sc.pagename,new_place:false}).serialize();if(this._photoAction)this._photoAction=new ub(this._photoAction).addQueryData('target',sc.targetid).toString();this._navigateToComposer(ba.CHECKIN,sc);if(this._ogTagger)this._ogTagger.setPlaceID(sc.pageid);event.prevent();}.bind(this));this._listeners.push(qb.listen('MComposer-write-recommendation',null,function(event){this._writeRecommendation(event.getData().element);}.bind(this)));this._listen('click','write-recommendation',function(event){this._writeRecommendation(event.getNode('write-recommendation'));event.prevent();}.bind(this));this._listen('MStructuredComposerFriendsInput-done',null,function(){return this._updateTagExpansion();}.bind(this));this._listen('MStructuredComposerFriendsInput-addedAutoTags',null,function(){return this._updateTagExpansion();}.bind(this));this._listen('MStructuredComposerFriendsInput-addedManualXYTags',null,function(){return this._updateTagExpansion();}.bind(this));this._listen('MStructuredComposerFriendsInput-removedManualTags',null,function(){return this._updateTagExpansion();}.bind(this));this._listen('MStructuredComposerOGInput:update',null,function(){return this._updateTagExpansion();}.bind(this));this._listen('MMentions:change',null,function(event){var sc=event.getData();if(sc.input!==this._textarea)return;this._hasMentions=sc.hasTags;this._numMentions=sc.numTags?sc.numTags:0;this._updateTagExpansion();}.bind(this));this._listeners.push(ka.addChangeListener(function(){if(ka.isEmpty())return;if(this._ogTagger){var sc=ka.get(ja.SUGGESTED_OG_ACTION_TYPE_ID,null),tc=ka.get(ja.ID),uc=ka.get(ja.SUGGESTION_MECHANISM);this._ogTagger.setPlaceID(tc);if(sc&&!this._ogInputController.hasValue()){this._ogTagger.setCancelButtonText(ac._("Pular"));if(this._ogTagger.selectActionTypeImplicitly(sc)){m.hide(this._composer);this._stayHiddenUntilOGTaggerCloses=true;this._ogTagger.setSuggestionMechanism(uc);q.log('og_composer_implicit_verb_selected',undefined,{place_id:tc,suggestion_mechanism:uc});qb.invoke('MComposer:open:activity');}}}}.bind(this)));this._listen('MAlbumPicker:createalbum:open',null,function(event){this._isCreateAlbumDialogOpen=true;}.bind(this));this._listen('MAlbumPicker:createalbum:close',null,function(event){this._isCreateAlbumDialogOpen=false;}.bind(this));this._listen('keydown','tokenizer-input',function(event){if(event.getNode('structured-composer')&&this.getShouldScroll()){var sc=event.getNode('tokenizer-input'),tc=xb.getPos(sc).y;lb.scrollTo(0,tc);}}.bind(this));this._listen('blur','tokenizer-input',function(event){if(event.getNode('structured-composer')&&this.getShouldScroll())lb.scrollToHeader();}.bind(this));this._listen('keyup','composer-textarea',this._updateLongReviewTipText.bind(this));this._listeners.push(oa.addChangeListener(function(){return this._handleStatusUpdate();}.bind(this)));this._listen('click','photo_link',function(event){if(kc&&kc.listenersRegistered())return;var sc=event.getNode('photo_link'),tc=l.get(sc);if(this.getShouldScroll())lb.scrollToHeader();if(this._multiPhotoUploader){if(!this._getIsAlbumDisabled())m.show(zb('album-button'));this._navigateToComposerAndShowFileDialog(tc,event);}else{if(!this._getIsAlbumDisabled()){this._navigateToComposerAndShowFileDialog(tc,event);event.prevent();}else{this._navigateToComposer(ba.PHOTO,tc);this._photoOpen=true;m.show(this._attachPhoto);j.conditionClass(this._photoButton,'active',true);}this._clickedButton=sc;event.kill();qb.invoke('composerPhotoLink');qb.invoke('composerPhotoLinkPostsByOthers',null,event.getNode('write_post_posts_by_others'));}}.bind(this));this._listen('click','add-photo-thumbnail',function(event){v.log(za.MEDIA_INTENT);kb.click(zb('photo_input'),event);event.prevent();}.bind(this));this._listen('click','photo-button',function(event){v.log(za.MEDIA_INTENT);if(this._multiPhotoUploader){this._closePrivacy();kb.click(zb('photo_input'),event);this._determineFormAction();this._showMultiPhotoUploader();}else if(!this._getIsAlbumDisabled()){kb.click(zb('photo_input'),event);event.prevent();}else{this._closePrivacy();if(this._photoOpen){m.hide(this._attachPhoto);}else m.show(this._attachPhoto);this._photoOpen=!this._photoOpen;j.conditionClass(this._photoButton,'active',this._photoOpen);}}.bind(this));if(!this._getIsAlbumDisabled()){this._listeners.push(this._albumPicker.listen('cancel',function(event){v.log(za.ALBUM_CANCEL);this._restoreComposer();}.bind(this)));this._listeners.push(this._albumPicker.listen('choose-album',function(event){if(event.is_mobile_uploads_album){this._resetAlbumSelection();}else{qb.invoke('MStructuredComposer-selectAlbum');v.log(za.ALBUM_ADD);zb('album_fbid').value=event.album_id;zb('album_privacy').value=event.privacy_id;this._albumChosen=true;this._closePrivacy();this._privacySelector&&m.hide(this._privacySelector);}m.show(this._composer);}.bind(this)));this._listen('click','album-button',function(event){v.log(za.ALBUM_INTENT);this._albumPicker.show();m.hide(this._composer);}.bind(this));}this._listen('MMultiPhotoUploader:attachments:add',null,function(sc){if(!ea.isEmpty())v.log(za.PHOTO_ADD,sc.getData());});this._listen('MMultiPhotoUploader:attachments:remove',null,function(sc){if(!ea.isEmpty())v.log(za.PHOTO_REMOVE,sc.getData());});this._listen('change','photo-input',function(event){var sc,tc=zb('photo_input');if(tc.value!==''&&this._photoAction!==''){if(!this._multiPhotoUploader){sc={photo_count:1};qb.invoke('MStructuredComposer-addedPhoto',null,sc);}tc.name="file1";this._hasPhoto=true;this._determineFormAction();this._photoButton&&j.conditionClass(this._photoButton,'active',true);if(!this._getIsAlbumDisabled()){if(!this._multiPhotoUploader)m.show(zb('photo_display'));m.show(zb('album-button'));}}else{this._hasPhoto=false;this._determineFormAction();j.conditionClass(this._photoButton,'active',false);if(!this._multiPhotoUploader){sc={photo_count:0};qb.invoke('MStructuredComposer-addedPhoto',null,sc);}if(!this._getIsAlbumDisabled()&&!this._multiPhotoUploader)this._removeAlbumAndPhoto();}}.bind(this));this._listen('multi-photos-attachment-change',null,function(event){var sc=event.getData();if(this._multiPhotoUploader.getUploader().component!==sc.multiPhotoUploader)return;var tc=sc.attachments,uc=ia.get(ha.PHOTO_INFO_LIST,[]);if(!yb(tc,uc)){var sc={};sc[ha.PHOTO_INFO_LIST]=tc;ya.photoUpdate(sc);}}.bind(this));this._listen('multi-photos-change',null,function(event){if(event.getData().input_id!='photo_input')return;var sc=this._multiPhotoUploader.getPhotosCount(),tc={photo_count:sc,is_multi_photo_upload:true};qb.invoke('MStructuredComposer-addedPhoto',null,tc);if(this._photosPreviewNux)if(sc>0){this._multiPhotoUploader.getUploader().setProps({showDropShadow:false});m.show(this._photosPreviewNux);}else{this._multiPhotoUploader.getUploader().setProps({showDropShadow:true});m.hide(this._photosPreviewNux);}this._determineFormAction();this._determineMultiPhotoComposerState();}.bind(this));this._listen('click','composer-buttons',function(event){this._textarea.blur();}.bind(this));this._listen('focus','composer-textarea',function(event){if(this.getShouldScroll())if(this._getStatusText()==='')bb.scrollTo(this._textarea,lb.getHeaderTop());}.bind(this));this._listen('click','composer-textarea',function(event){this._closePrivacy();if(this.getShouldScroll())if(this._getStatusText()==='')bb.scrollTo(this._textarea,lb.getHeaderTop());}.bind(this));this._listen(['m:page:loading'],null,this.cleanup.bind(this));this._listen('audience-x-opened',null,function(event){m.hide(this._composer);this._specificAudienceTooltip&&this._specificAudienceTooltip.hide();}.bind(this));this._listen('MMultiPhotoUploader:attachments:change',null,function(event){var sc=event.getData();this._photosUploading=sc.sending+sc.polling!==0;this._updateSubmitButtonState();}.bind(this));this._listen('MWebActivityUploader:received:share',null,this._navigateToComposer.bind(this,ba.PHOTO));if(this._photoPreview||this._photosPreviewConfig)this._listen('click','structured-composer-photo-preview-done',this._hidePhotoPreviews.bind(this));qb.invoke('MStructuredComposer:start');y.register(this);return this;};pc.prototype._cancelComposer=function(){'use strict';this._staticTemplates.style.height='';qb.invoke('MStructuredComposer-canceled',null);v.log(za.COMPOSER_CANCEL,{maximum_character_count:oa.get(pa.LONGEST_LENGTH),loaded_time:ea.get(da.OPENED_AT),publish_target:this._form.target.value||k.getID()||-1,remaining_character_count:this._getStatusText().length});var rc=this._hasPhotos();this._resetComposer();};pc.prototype.cleanup=function(){'use strict';qb.invoke('MStructuredComposer:cleanup');this._closeComposer();this._form.removeEventListener('reset',this._resetComposer,false);for(var rc=0;rc<this._listeners.length;rc++)this._listeners[rc].remove();this._listeners=[];y.unregister(this);};pc.prototype._listen=function(event,rc,sc){'use strict';this._listeners.push(qb.listen(event,rc,sc));};pc.prototype.setSpecificAudienceTooltip=function(rc){'use strict';this._specificAudienceTooltip=rc;};pc.prototype._isAudience=function(rc){'use strict';var sc=m.scry(this._buttonbar,'table','privacy-table')[0];if(!sc)return false;var tc=m.scry(sc,'tr','privacy-option checked')[0];if(!tc)return false;var uc=l.get(tc);return uc.value==rc;};pc.prototype.setInAudienceAlignmentExp=function(rc){'use strict';this._inAudienceAlignmentPublicExp=rc;};pc.prototype.setInAudienceAlignmentOnlyMeExp=function(rc){'use strict';this._inAudienceAlignmentOnlyMeExp=rc;};pc.prototype.setAudienceAlignmentFlyout=function(rc){'use strict';this._audienceAlignmentFlyout=rc;};pc.prototype._composerEligibleForInterstitial=function(rc){'use strict';var sc=this._form.target.value;if(sc&&sc!=k.getID())return false;if(this._composerType!==ba.STATUS)return false;if(!this._isAudience(rc))return false;if(lb.getScreenHeight()<340&&cb.IS_ANDROID){this._audienceAlignmentFlyout.deviceTooShort();return false;}return true;};pc.prototype.setNewcomerAudienceNux=function(rc){'use strict';this._newcomerAudienceNux=rc;};pc.prototype.setStickyGuardrailFlyout=function(rc){'use strict';this._showStickyGuardrailFlyout=rc;};pc.prototype.setDefaultPrivacyTransitionNux=function(rc){'use strict';this._defaultPrivacyTransitionNux=rc;};pc.prototype.setSharePreview=function(rc){'use strict';this._sharePreview=rc;};pc.prototype.captureFriendsPrivacyRow=function(){'use strict';this._friendsPrivacyRow=this._getPrivacyRow('value',mb.PostParam.FRIENDS);if(!this._friendsPrivacyRow)this.closeInterstitial(this._postInterstitialTooltipText[0]);if(this._waitingForFriendsRow)this._handleInterstitialFriends();};pc.prototype.capturePublicPrivacyRow=function(){'use strict';this._publicPrivacyRow=this._getPrivacyRow('value',mb.PostParam.EVERYONE);qb.invoke('MPrivacyComposerMenu:updatePrivacy',null,{row:this._publicPrivacyRow});};pc.prototype.getDefaultPrivacyRow=function(){'use strict';return this._getPrivacyRow('uhd',true);};pc.prototype._getPrivacyRow=function(rc,sc){'use strict';var tc=m.scry(this._buttonbar,'table','privacy-table')[0];if(!tc)return null;for(var uc=0;uc<tc.rows.length;uc++){var vc=tc.rows[uc],wc=l.get(vc);if(wc[rc]==sc)return vc;}};pc.prototype._hideForInterstitial=function(){'use strict';m.hide(this._composer);this._textarea.blur();};pc.prototype._closeComposer=function(){'use strict';this._textarea.blur();m.hide(this._composer);m.show(this._mainPage);qb.invoke('MMentions:removeHiddenInput');};pc.prototype._toggleSubmitButtonState=function(rc){'use strict';this._submitButtonNode.disabled=!rc;if(this._forsaleInterceptForsale){this._forsaleInterceptForsale.disabled=!rc;this._forsaleInterceptNonForsale.disabled=!rc;}if(this._slideshowPreviewButton)this._slideshowPreviewButton.disabled=!rc;};pc.prototype._toggleCancelButtonHidden=function(rc){'use strict';var sc=m.find(this._composer,'button','cancel_composer');sc=sc.parentElement;rc?m.hide(sc):m.show(sc);};pc.prototype._toggleSubmitButtonHidden=function(rc){'use strict';j.conditionShow(this._submitButtonNode.parentElement,!rc);};pc.prototype._restoreComposerWithoutFocus=function(){'use strict';qb.invoke('MMentions:decorations:show',null,{});m.hide(this._mainPage);m.show(this._composer);m.show(this._textarea);m.show(this._buttonbar);};pc.prototype._skipFocus=function(){'use strict';return ea.get(da.SKIP_FOCUS);};pc.prototype._restoreComposer=function(){'use strict';this._restoreComposerWithoutFocus();this._focusOnTextarea();};pc.prototype._incrementPhotosPreviewNuxCounter=function(){'use strict';new eb(rb.getURIBuilder().getURI()).send();};pc.prototype._showPhotosPreview=function(rc){'use strict';if(!this._photoPreview)return;if(rc.state===r.UPLOADED&&!rc.isPollingTagSuggestions){if(this._photosPreviewNux)this._incrementPhotosPreviewNuxCounter();m.hide(this._composer);this._photoPreview.show(rc,this._tagSuggestionsController.getFaceboxesCopyForPhoto(rc.fbid));}};pc.prototype._hidePhotoPreviews=function(){'use strict';if(!this._photoPreview)return;m.show(this._composer);this._photoPreview.hide();};pc.prototype._updateTagExpansion=function(){'use strict';var rc=this._friendsInputController.hasTokens()||this._hasMentions,sc=this._getPrivacySelector();sc&&sc.setShowTagExpansion(rc);};pc.prototype._startCheckin=function(){'use strict';qb.invoke('open','MComposer:dialog:place');};pc.prototype._registerPhotoPreviewEvents=function(){'use strict';var rc=this._multiPhotoUploader.getUploader();rc.setProps({onThumbnailClicked:this._showPhotosPreview.bind(this)});this._photoPreview.setOnAddXYTag(this._tagSuggestionsController.addXYTag.bind(this._tagSuggestionsController));this._photoPreview.setOnDeleteXYTag(this._tagSuggestionsController.deleteXYTag.bind(this._tagSuggestionsController));this._photoPreview.setWaterfall(rc.component.getWaterfallID(),rc.component.getWaterfallAppName(),rc.component.getWaterfallSource());};pc.prototype._initPhotoPreview=function(){'use strict';if(this._multiPhotoUploader&&this._tagSuggestionsController&&this._photosPreviewConfig&&!this._photoPreview){this._photoPreview=new hb(this._photosPreviewConfig);this._registerPhotoPreviewEvents();}};gc(pc,{scrollToElem:null,showPlace:true,shouldScroll:true,syncSubmit:false,eventTaggingNuxHref:null});Object.assign(pc.prototype,{_defaultAction:null,_defaultConfig:null,_photoAction:null,_photoOpen:false,_hasPhoto:false,_albumChosen:false,_onlyMeFlyoutShown:false,_prefill:null,_forceAsync:false,_isCheckin:false,_isUnpublishedPost:false,_isPageCheckin:false,_pinPlace:false,_albumPicker:null,_EventTaggingNuxDisplayed:false,_ogTagger:null,_textarea:null,_attachPhoto:null,_clickedButton:null,_composer:null,_composerTitle:null,_contextualMessage:null,_form:null,_mainPage:null,_photoButton:null,_staticTemplates:null,_ogTaggerLoaded:false,_specificAudienceTooltip:null,_specificAudienceTooltipShown:false,_slideshowNUX:null,_listeners:null});function qc(rc){if(!rc)return '';rc=rc.trim();rc=rc.replace(/\n{3,}/,'\n\n');rc=rc.replace(/\t+/,' ');return rc;}f.exports=pc;}),null);
__d('InitMStructuredComposer',['$','DOM','MLegacyDataStore','MAlbumPicker','MOpenGraphTagger','MStructuredComposer','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o;function p(q){o=q.friends_tagger;var r=h(q.open_id),s=j.get(r),t=s._friendsTagger||o.fromID(q.friends_tagger_id),u=null;if(q.album_picker_id)u=s._albumPicker||new k(h(q.album_picker_id));var v;if(q.og_tagger_id)v=new l(h(q.og_tagger_id));var w=new m(r,t,null,u,v,q.multi_photo_uploader,q.page_info,q.create_label,q.update_label,q.composer_target_type,q.composer_entry_point,q.friends_input,null,q.og_clearable_preview,q.should_show_tag_suggestions,q.should_auto_tag,q.photos_preview_config,q.photos_preview_nux);if(w.setDefaultHideConfig)w.setDefaultHideConfig(q.hide_config||{});if(q.privacy_selector_rewrite_id)w.setPrivacySelector(h(q.privacy_selector_rewrite_id));j.set(r,{composer:w});if(q.scroll_to_elem_id)w.setScrollToElem(q.scroll_to_elem_id);w.setSyncSubmit(q.syncsubmit);w.setShowPlace(q.showplace);w.setShouldScroll(q.shouldscroll);w.setLongReviewTips(q.long_review_tips);w.setShortReviewsDisableDone(q.short_reviews_disable_done);w.setSlideshowNUX(q.slideshow_nux);if(q.slideshow_preview_id)w.setSlideshowPreview(h(q.slideshow_preview_id));w.start();if(q.photouploaduri)w.setPhotoAction(q.photouploaduri);if(q.specific_audience_tooltip)w.setSpecificAudienceTooltip(q.specific_audience_tooltip);w.setInAudienceAlignmentExp(q.in_aaa_exp);w.setInAudienceAlignmentOnlyMeExp(q.in_aaa_onlyme_exp);w.setAudienceAlignmentFlyout(q.aaa_flyout);if(q.newcomer_audience_nux)w.setNewcomerAudienceNux(q.newcomer_audience_nux);if(q.show_sticky_guardrail_flyout)w.setStickyGuardrailFlyout(q.show_sticky_guardrail_flyout);if(q.default_privacy_transition_nux)w.setDefaultPrivacyTransitionNux(q.default_privacy_transition_nux);w.setSharePreview(q.share_preview);n.listen('MPrivacyComposerMenu::custom',null,function(x){if(x.getData().isDefaultCustomCreationInComposer||x.getData().selector.parentNode.id==q.privacy_selector_rewrite_id)if(x.getData().visible){i.hide(h('structured_composer'));}else{i.hide(h('viewport'));i.show(h('structured_composer'));}});}g.main=p;}),null);
__d('MStructuredComposerFriendsInputReact',['Stratcom','CSS','DOM','React','ReactDOM','MComposerLogger','MComposerNavigationMixin','MComposerWaterfallEvent','MSubscriptionsHandlerMixin','MTokenCollection.react','MTokenRenderer.react','TokenCollection','MUnifiedTaggerConstants','BanzaiODS','MCompositionWithStore','MCompositionWithFields','MCompositionUserActions','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z,aa;if(c.__markCompiled)c.__markCompiled();var ba='mtouch_composer_facerec_suggestions',ca=t.SHOW_UNIFIED_TAGGER;z=babelHelpers.inherits(da,y(n,p));aa=z&&z.prototype;function da(ea,fa,ga){'use strict';aa.constructor.call(this);this.$MStructuredComposerFriendsInputReact1=ea;this.$MStructuredComposerFriendsInputReact2=fa;this.$MStructuredComposerFriendsInputReact3=new s();this.$MStructuredComposerFriendsInputReact4=l.render(k.createElement(q,{onClick:this.$MStructuredComposerFriendsInputReact5.bind(this),onRemove:this.$MStructuredComposerFriendsInputReact6.bind(this),renderer:r,collection:this.$MStructuredComposerFriendsInputReact3,collectionKey:'users_with'}),j.find(fa,'ul','friend-tokens'));this.$MStructuredComposerFriendsInputReact7=ga;this.$MStructuredComposerFriendsInputReact8=ga.style.display;this.$MStructuredComposerFriendsInputReact9={};if(ca)this.addSubscriptions(h.listen('MComposer:tagger:click',t.TOKEN_TYPES.PEOPLE,function(){return this.$MStructuredComposerFriendsInputReact5();}.bind(this)));this.addSubscriptions(j.listen(this.$MStructuredComposerFriendsInputReact7,'click',null,function(){return this.$MStructuredComposerFriendsInputReact5();}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen('cancel',function(){this.currentNavigationPolicy().addOnClose(function(){return this.$MStructuredComposerFriendsInputReact10();}.bind(this)).close();}.bind(this)),this.$MStructuredComposerFriendsInputReact1.listen('submit',function(event){this.currentNavigationPolicy().addOnClose(function(){var ha={};ha[w.TOKENS]=event.tokens;x.withUpdate(ha);m.log(o.FRIEND_TAG_ADD,{num_tags:event.tokens.length});this.$MStructuredComposerFriendsInputReact11(event.tokens.length);}.bind(this)).close();}.bind(this)),v.addChangeListener(function(){return this.$MStructuredComposerFriendsInputReact12();}.bind(this)));}da.prototype.$MStructuredComposerFriendsInputReact12=function(){'use strict';var ea=v.get(w.TOKENS,[]);if(ea!==this.$MStructuredComposerFriendsInputReact3.entries){this.$MStructuredComposerFriendsInputReact3.entries=ea;this.$MStructuredComposerFriendsInputReact13();this.$MStructuredComposerFriendsInputReact4.forceUpdate();this.$MStructuredComposerFriendsInputReact14();this.$MStructuredComposerFriendsInputReact11();this.$MStructuredComposerFriendsInputReact15();}};da.prototype.$MStructuredComposerFriendsInputReact15=function(){'use strict';this.$MStructuredComposerFriendsInputReact16&&this.$MStructuredComposerFriendsInputReact16(this.$MStructuredComposerFriendsInputReact3.entries.slice());};da.prototype.$MStructuredComposerFriendsInputReact13=function(){'use strict';if(ca)h.invoke('MComposer:tagger:update',null,{people:this.$MStructuredComposerFriendsInputReact3.entries});};da.prototype.$MStructuredComposerFriendsInputReact17=function(ea){'use strict';var fa=!this.$MStructuredComposerFriendsInputReact3.hasEntry(ea);if(fa){this.$MStructuredComposerFriendsInputReact3.addEntry(ea);this.$MStructuredComposerFriendsInputReact13();this.$MStructuredComposerFriendsInputReact14();this.$MStructuredComposerFriendsInputReact4.forceUpdate();}return fa;};da.prototype.addManualXYTag=function(ea){'use strict';if(this.$MStructuredComposerFriendsInputReact17(ea))this.$MStructuredComposerFriendsInputReact18();this.$MStructuredComposerFriendsInputReact15();};da.prototype.addAutoToken=function(ea){'use strict';if(!this.$MStructuredComposerFriendsInputReact9[ea.id])if(this.$MStructuredComposerFriendsInputReact17(ea)){this.$MStructuredComposerFriendsInputReact19();u.bumpEntityKey(ba,'add_auto_tag');}};da.prototype.onRemove=function(ea){'use strict';this.$MStructuredComposerFriendsInputReact3.removeEntry(ea);this.$MStructuredComposerFriendsInputReact14();this.$MStructuredComposerFriendsInputReact13();this.$MStructuredComposerFriendsInputReact4.forceUpdate();this.$MStructuredComposerFriendsInputReact15();};da.prototype.$MStructuredComposerFriendsInputReact6=function(ea){'use strict';this.$MStructuredComposerFriendsInputReact9[ea.id]=true;this.onRemove(ea);if(ea.autoTag)u.bumpEntityKey(ba,'remove_auto_tag');this.$MStructuredComposerFriendsInputReact20();};da.prototype.$MStructuredComposerFriendsInputReact14=function(){'use strict';var ea=this.$MStructuredComposerFriendsInputReact3.entries.length>0;if(!ca)i.conditionShow(this.$MStructuredComposerFriendsInputReact2,ea);i.conditionClass(this.$MStructuredComposerFriendsInputReact7,'active',ea);};da.prototype.$MStructuredComposerFriendsInputReact5=function(){'use strict';this.newNavigationPolicy().addOnOpen(function(){m.log(o.FRIEND_TAG_INTENT);this.$MStructuredComposerFriendsInputReact1.setEntries(this.$MStructuredComposerFriendsInputReact3.entries.slice());setTimeout(this.$MStructuredComposerFriendsInputReact1.show.bind(this.$MStructuredComposerFriendsInputReact1));}.bind(this)).addOnCloseByBrowser(function(){this.$MStructuredComposerFriendsInputReact1.hide();this.$MStructuredComposerFriendsInputReact10();}.bind(this)).open();};da.prototype.$MStructuredComposerFriendsInputReact11=function(ea){'use strict';h.invoke('MStructuredComposerFriendsInput-done',null,{num_tags:ea});};da.prototype.$MStructuredComposerFriendsInputReact19=function(){'use strict';h.invoke('MStructuredComposerFriendsInput-addedAutoTags',null,{});};da.prototype.$MStructuredComposerFriendsInputReact18=function(){'use strict';h.invoke('MStructuredComposerFriendsInput-addedManualXYTags',null,{});};da.prototype.$MStructuredComposerFriendsInputReact20=function(){'use strict';h.invoke('MStructuredComposerFriendsInput-removedManualTags',null,{});};da.prototype.$MStructuredComposerFriendsInputReact10=function(){'use strict';var ea=this.getTokenCount();h.invoke('MStructuredComposerFriendsInput-done',null,{cancel:true,num_tags:ea});m.log(o.FRIEND_TAG_CANCEL,{num_tags:ea});};da.prototype.reset=function(){'use strict';this.$MStructuredComposerFriendsInputReact4.entries=[];if(!ca)j.hide(this.$MStructuredComposerFriendsInputReact2);this.$MStructuredComposerFriendsInputReact3.entries=[];this.$MStructuredComposerFriendsInputReact9={};this.$MStructuredComposerFriendsInputReact1.clear();this.$MStructuredComposerFriendsInputReact4.forceUpdate();i.conditionClass(this.$MStructuredComposerFriendsInputReact7,'active',false);this.$MStructuredComposerFriendsInputReact1.hide();};da.prototype.getTokenCount=function(){'use strict';return this.$MStructuredComposerFriendsInputReact3.entries.length;};da.prototype.hasTokens=function(){'use strict';return this.getTokenCount()>0;};da.prototype.setVisible=function(ea){'use strict';i.conditionShow(this.$MStructuredComposerFriendsInputReact7,ea);};da.prototype.setOnEntriesChangedHandler=function(ea){'use strict';this.$MStructuredComposerFriendsInputReact16=ea;};da.prototype.getEntries=function(){'use strict';return this.$MStructuredComposerFriendsInputReact3.entries;};f.exports=da;}),null);
__d('MTokenizerParagraphRoot.react',['React','cx'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes;j=babelHelpers.inherits(m,h.Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (h.createElement('div',{className:"_5hd3"},'\u2014',this.props.showSpace?' ':'',this.props.children));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={showSpace:l.bool};m.defaultProps={showSpace:true};f.exports=m;}),null);
__d('MTokenizerParagraphToken.react',['MTouchableArea.react','React','cx','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o={use:{token:"mToken _4tk2",noborder:"mToken _4tk2 _3a7k"}};l=babelHelpers.inherits(p,i.Component);m=l&&l.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.getClassListForAttribute=function(v){return o[v][this.props[v]];}.bind(this),r;}p.prototype.render=function(){'use strict';return (i.createElement(h,null,i.createElement('span',babelHelpers['extends']({},this.props,{className:k(this.props.className,this.getClassListForAttribute('use'))}),i.createElement('span',{className:"_4tk0"},this.props.children))));};p.propTypes={use:n.oneOf(['token','noborder'])};p.defaultProps={use:'token'};f.exports=p;}),null);
__d('MTokenizerParagraphAtPlace.react',['MTokenizerParagraphRoot.react','MTokenizerParagraphToken.react','React','fbt','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('MUnifiedTaggerConstants').TOKEN_TYPES,o=j.PropTypes;l=babelHelpers.inherits(p,j.Component);m=l&&l.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.renderNonSpecificPlace=function(){return (j.createElement(h,null,k._("em {city-name}.",[k.param('city-name',this.renderPlaceToken())])));}.bind(this),this.renderPlaceToken=function(){return (j.createElement(i,{onClick:this.props.onTokenClick.bind(null,n.PLACE)},this.props.place.name));}.bind(this),this.renderSpecificPlace=function(){return (j.createElement(h,null,k._("em {place-name}",[k.param('place-name',this.renderPlaceToken())])));}.bind(this),r;}p.prototype.render=function(){'use strict';return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace();};p.propTypes={onTokenClick:o.func.isRequired,place:o.object.isRequired};f.exports=p;}),null);
__d('MTokenizerParagraphTokenList.react',['MTokenizerParagraphToken.react','React','fbt','intlList','invariant'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes;m=babelHelpers.inherits(p,i.Component);n=m&&m.prototype;p.prototype.render=function(){'use strict';var q=this.props.names.length,r=q===2?this.props.names[1]:j._("outras {count} pessoas",[j.param('count',q-1)]),s=[i.createElement(h,null,this.props.names[0]),i.createElement(h,null,r)];return (i.createElement('span',{onClick:this.props.onClick},k(s,k.CONJUNCTIONS.AND)));};function p(){'use strict';m.apply(this,arguments);}p.propTypes={onClick:o.func,names:function q(r,s,t){var u=Array.isArray(r[s]);!(u&&r[s].length>1)?l(0):void 0;}};f.exports=p;}),null);
__d('MTokenizerParagraphWithMultiplePeople.react',['MTokenizerParagraphRoot.react','MTokenizerParagraphTokenList.react','React','fbt','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('MUnifiedTaggerConstants').TOKEN_TYPES,o=j.PropTypes;l=babelHelpers.inherits(p,j.Component);m=l&&l.prototype;p.prototype.render=function(){'use strict';return (j.createElement(h,null,k._("com {list-of-people}.",[k.param('list-of-people',j.createElement(i,{onClick:this.props.onTokenClick.bind(null,n.PEOPLE),names:this.props.people.map(function(q){return q.name;})}))])));};function p(){'use strict';l.apply(this,arguments);}p.propTypes={onTokenClick:o.func.isRequired,people:o.array.isRequired};f.exports=p;}),null);
__d('MTokenizerParagraphWithMultiplePeopleAtPlace.react',['MTokenizerParagraphRoot.react','MTokenizerParagraphToken.react','MTokenizerParagraphTokenList.react','React','fbt','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();var o=c('MUnifiedTaggerConstants').TOKEN_TYPES,p=k.PropTypes;m=babelHelpers.inherits(q,k.Component);n=m&&m.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=n.constructor).call.apply(r,[this].concat(u)),this.getPeopleNames=function(){return this.props.people.map(function(w){return w.name;});}.bind(this),this.renderNonSpecificPlace=function(){return (k.createElement(h,null,l._("com {list-of-people} em {non-specific-place-name}.",[l.param('list-of-people',this.renderPeopleToken()),l.param('non-specific-place-name',this.renderPlaceToken())])));}.bind(this),this.renderPeopleToken=function(){return (k.createElement(j,{onClick:this.props.onTokenClick.bind(null,o.PEOPLE),names:this.getPeopleNames()}));}.bind(this),this.renderPlaceToken=function(){return (k.createElement(i,{onClick:this.props.onTokenClick.bind(null,o.PLACE)},this.props.place.name));}.bind(this),this.renderSpecificPlace=function(){return (k.createElement(h,null,l._("com {list-of-people} em {place-name}.",[l.param('list-of-people',this.renderPeopleToken()),l.param('place-name',this.renderPlaceToken())])));}.bind(this),s;}q.prototype.render=function(){'use strict';return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace();};q.propTypes={onTokenClick:p.func.isRequired,place:p.object.isRequired,people:p.array.isRequired};f.exports=q;}),null);
__d('MTokenizerParagraphIcon.react',['Image.react','MTokenizerParagraphToken.react','React','cx'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes;l=babelHelpers.inherits(o,j.Component);m=l&&l.prototype;o.prototype.render=function(){'use strict';return (j.createElement(i,this.props,j.createElement(h,{className:"_2r5v",src:this.props.src})));};function o(){'use strict';l.apply(this,arguments);}o.propTypes={use:n.oneOf(['token','noborder'])};o.defaultProps={use:'noborder'};f.exports=o;}),null);
__d('MTokenizerParagraphWithOGActivity.react',['MTaggableActivityPreviewTemplateQuery','MTokenizerParagraphIcon.react','MTokenizerParagraphTokenList.react','MTokenizerParagraphRoot.react','MTokenizerParagraphToken.react','React','cx','ix','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;if(c.__markCompiled)c.__markCompiled();var r=c('MUnifiedTaggerConstants').TOKEN_TYPES,s=m.PropTypes;p=babelHelpers.inherits(t,m.Component);q=p&&p.prototype;function t(){var u,v;'use strict';for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=q.constructor).call.apply(u,[this].concat(x)),this.state={template:null},this.getTemplateQuery=function(z){var aa=new h(z.ogactivity.id);if(z.people.length===1){aa.setHasPerson();}else if(z.people.length>1)aa.setHasPeople();if(z.place)aa.setHasPlace();return aa;},this.shouldRenderLoader=function(){return !(this.state.template&&this.props.ogactivity.icon);}.bind(this),this.renderLoading=function(){return (m.createElement(i,{className:"_12zh",src:o('/images/loaders/indicator_blue_small.gif')}));},this.renderTemplate=function(z){return this.state.template.renderArray(this.state.template.getTokens().map(this.renderToken));}.bind(this),this.renderToken=function(z){var aa=z.token,ba=this.props.onTokenClick.bind(null,aa===r.PERSON?r.PEOPLE:aa);switch(aa){case r.ICON:return [m.createElement(i,{onClick:ba,src:this.props.ogactivity.icon,use:'token'}),' '];case r.OBJECT:return (m.createElement(l,{onClick:ba,key:aa},this.props.ogactivity.object));case r.PEOPLE:return (m.createElement(j,{onClick:ba,names:this.props.people.map(function(ca){return ca.name;}),key:aa}));case r.PERSON:return (m.createElement(l,{onClick:ba,key:aa},this.props.people[0].name));case r.PLACE:return (m.createElement(l,{onClick:ba,key:aa},this.props.place.name));}}.bind(this),v;}t.prototype.componentDidMount=function(){'use strict';this.$MTokenizerParagraphWithOGActivity1=true;this.startTemplateQuery(this.props);};t.prototype.componentWillUnnount=function(){'use strict';this.$MTokenizerParagraphWithOGActivity1=false;};t.prototype.componentWillReceiveProps=function(u){'use strict';this.setState({template:null});this.startTemplateQuery(u);};t.prototype.startTemplateQuery=function(u){'use strict';this.getTemplateQuery(u).fetch().done(function(v){if(this.$MTokenizerParagraphWithOGActivity1)this.setState({template:v});}.bind(this));};t.prototype.render=function(){'use strict';var u=this.shouldRenderLoader()?this.renderLoading():this.renderTemplate();return m.createElement(k,null,u);};t.propTypes={ogactivity:s.object.isRequired,onTokenClick:s.func.isRequired,people:s.array,place:s.object};f.exports=t;}),null);
__d('MTokenizerParagraphWithPerson.react',['MTokenizerParagraphRoot.react','MTokenizerParagraphToken.react','React','fbt','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('MUnifiedTaggerConstants').TOKEN_TYPES,o=j.PropTypes;l=babelHelpers.inherits(p,j.Component);m=l&&l.prototype;p.prototype.render=function(){'use strict';return (j.createElement(h,null,k._("com {name1}.",[k.param('name1',j.createElement(i,{onClick:this.props.onTokenClick.bind(null,n.PEOPLE)},this.props.person.name))])));};function p(){'use strict';l.apply(this,arguments);}p.propTypes={onTokenClick:o.func.isRequired,person:o.object.isRequired};f.exports=p;}),null);
__d('MTokenizerParagraphWithPersonAtPlace.react',['MTokenizerParagraphRoot.react','MTokenizerParagraphToken.react','React','fbt','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('MUnifiedTaggerConstants').TOKEN_TYPES,o=j.PropTypes;l=babelHelpers.inherits(p,j.Component);m=l&&l.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.renderNonSpecificPlace=function(){return (j.createElement(h,null,k._("com {name1} em {city-name}.",[k.param('name1',this.renderPersonToken()),k.param('city-name',this.renderPlaceToken())])));}.bind(this),this.renderPersonToken=function(){return (j.createElement(i,{onClick:this.props.onTokenClick.bind(null,n.PEOPLE)},this.props.person.name));}.bind(this),this.renderPlaceToken=function(){return (j.createElement(i,{onClick:this.props.onTokenClick.bind(null,n.PLACE)},this.props.place.name));}.bind(this),this.renderSpecificPlace=function(){return (j.createElement(h,null,k._("com {name1} em {place-name}.",[k.param('name1',this.renderPersonToken()),k.param('place-name',this.renderPlaceToken())])));}.bind(this),r;}p.prototype.render=function(){'use strict';return this.props.place.isNonSpecific?this.renderNonSpecificPlace():this.renderSpecificPlace();};p.propTypes={onTokenClick:o.func.isRequired,place:o.object.isRequired,person:o.object.isRequired};f.exports=p;}),null);
__d('MTokenizerParagraph.react',['MTokenizerParagraphAtPlace.react','MTokenizerParagraphWithOGActivity.react','MTokenizerParagraphWithMultiplePeople.react','MTokenizerParagraphWithMultiplePeopleAtPlace.react','MTokenizerParagraphWithPerson.react','MTokenizerParagraphWithPersonAtPlace.react','React'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p;if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes;o=babelHelpers.inherits(r,n.Component);p=o&&o.prototype;function r(){var s,t;'use strict';for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=p.constructor).call.apply(s,[this].concat(v)),this.renderTokens=function(){var x=this.props.ogactivity,y=this.props.people||[],z=this.props.place;if(x)return (n.createElement(i,babelHelpers['extends']({},this.props,{ogactivity:x,people:y,place:z})));if(y.length>1&&z)return n.createElement(k,babelHelpers['extends']({},this.props,{place:z,people:y}));if(y.length===1&&z)return n.createElement(m,babelHelpers['extends']({},this.props,{place:z,person:y[0]}));if(z)return n.createElement(h,babelHelpers['extends']({},this.props,{place:z}));if(y.length>1)return n.createElement(j,babelHelpers['extends']({},this.props,{people:y}));if(y.length===1)return n.createElement(l,babelHelpers['extends']({},this.props,{person:y[0]}));return n.createElement('div',this.props);}.bind(this),t;}r.prototype.render=function(){'use strict';return this.renderTokens();};r.propTypes={ogactivity:q.object,onTokenClick:q.func,people:q.array,place:q.object};r.defaultProps={ogactivity:null,people:[],place:null};f.exports=r;}),null);
__d('MStructuredComposerUnifiedTagger',['MCompositionPlaceStore','MSubscriptionsHandlerMixin','MTokenizerParagraph.react','MCompositionPlaceFields','React','ReactDOM','Stratcom','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;if(c.__markCompiled)c.__markCompiled();p=babelHelpers.inherits(r,o(i));q=p&&p.prototype;function r(s){'use strict';q.constructor.call(this);this.$MStructuredComposerUnifiedTagger1={ogActivity:null,people:null,place:null};this.$MStructuredComposerUnifiedTagger2=s;this.addSubscriptions(h.addListener('change',function(){if(h.isEmpty()){this.setAttachments({place:null});}else this.setAttachments({place:{name:h.get(k.NAME),isNonSpecific:h.get(k.IS_NON_SPECIFIC,false)}});}.bind(this)),n.listen('MComposer:tagger:update',null,function(event){return this.setAttachments(event.getData());}.bind(this)),n.listen('MComposer:tagger:update:og-icon',null,function(event){return this.setOGIcon(event.getData().icon);}.bind(this)),n.listen('MComposer:tagger:clear',null,function(){return this.clear();}.bind(this)));this.$MStructuredComposerUnifiedTagger3();}r.prototype.clear=function(){'use strict';this.$MStructuredComposerUnifiedTagger1.ogActivity=null;this.$MStructuredComposerUnifiedTagger1.people=null;this.$MStructuredComposerUnifiedTagger1.place=null;return this.$MStructuredComposerUnifiedTagger3();};r.prototype.$MStructuredComposerUnifiedTagger4=function(s){'use strict';n.invoke('MComposer:tagger:click',s);};r.prototype.$MStructuredComposerUnifiedTagger5=function(){'use strict';return !!(this.$MStructuredComposerUnifiedTagger1.ogActivity||this.$MStructuredComposerUnifiedTagger1.people&&this.$MStructuredComposerUnifiedTagger1.people.length||this.$MStructuredComposerUnifiedTagger1.place);};r.prototype.$MStructuredComposerUnifiedTagger3=function(){'use strict';if(this.$MStructuredComposerUnifiedTagger5()){m.render(l.createElement(j,{ogactivity:this.$MStructuredComposerUnifiedTagger1.ogActivity,onTokenClick:function(s){return this.$MStructuredComposerUnifiedTagger4(s);}.bind(this),people:this.$MStructuredComposerUnifiedTagger1.people,place:this.$MStructuredComposerUnifiedTagger1.place}),this.$MStructuredComposerUnifiedTagger2);}else m.unmountComponentAtNode(this.$MStructuredComposerUnifiedTagger2);return this;};r.prototype.setAttachments=function(s){'use strict';Object.assign(this.$MStructuredComposerUnifiedTagger1,s);return this.$MStructuredComposerUnifiedTagger3();};r.prototype.setOGIcon=function(s){'use strict';if(this.$MStructuredComposerUnifiedTagger1.ogActivity)this.$MStructuredComposerUnifiedTagger1.ogActivity.icon=s;return this.$MStructuredComposerUnifiedTagger3();};f.exports=r;}),null);
__d('MComposerLegacyPlaceAttachment',['CSS','DOM','MComposerLogger','MComposerWaterfallEvent','MCompositionConfigFields','MCompositionConfigStore','MCompositionPlaceFields','MCompositionPlaceStore','MCompositionUserActions','Stratcom','MSubscriptionsHandlerMixin','memoize','mixin','MUnifiedTaggerConstants'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v;if(c.__markCompiled)c.__markCompiled();var w=c('MUnifiedTaggerConstants').SHOW_UNIFIED_TAGGER;u=babelHelpers.inherits(x,t(r));v=u&&u.prototype;function x(y){'use strict';v.constructor.call(this);this.$MComposerLegacyPlaceAttachment1=y;this.$MComposerLegacyPlaceAttachment2=s(function(){return i.find(this.$MComposerLegacyPlaceAttachment1,'li','token');}.bind(this));this.$MComposerLegacyPlaceAttachment3=s(function(){return i.find(this.$MComposerLegacyPlaceAttachment2(),'a','remove-token');}.bind(this));this.addSubscriptions(o.addListener('change',function(){return this.$MComposerLegacyPlaceAttachment4();}.bind(this)),i.listen(this.$MComposerLegacyPlaceAttachment1,'click','remove-token',function(event){return this.$MComposerLegacyPlaceAttachment5(event);}.bind(this)),i.listen(this.$MComposerLegacyPlaceAttachment1,'click','at-button',function(){return this.$MComposerLegacyPlaceAttachment6();}.bind(this)));}x.prototype.$MComposerLegacyPlaceAttachment7=function(){'use strict';return !m.get(l.PIN_PLACE,false);};x.prototype.$MComposerLegacyPlaceAttachment8=function(){'use strict';return (!o.isEmpty()&&!m.get(l.DISABLE_PLACE_TAG,false));};x.prototype.$MComposerLegacyPlaceAttachment6=function(){'use strict';q.invoke('MStructuredComposer-addLocationClicked');};x.prototype.$MComposerLegacyPlaceAttachment4=function(){'use strict';if(w)return;h.conditionShow(this.$MComposerLegacyPlaceAttachment1,this.$MComposerLegacyPlaceAttachment8());h.conditionShow(this.$MComposerLegacyPlaceAttachment3(),this.$MComposerLegacyPlaceAttachment7());if(this.$MComposerLegacyPlaceAttachment8())i.replace(this.$MComposerLegacyPlaceAttachment2().firstChild,i.create('span',{className:'innerToken'},o.get(n.NAME)));};x.prototype.$MComposerLegacyPlaceAttachment5=function(event){'use strict';event.kill();q.invoke('MStructuredComposer-removedLocation');j.log(k.LOCATION_REMOVE);p.placeRemove();};f.exports=x;}),null);
__d('MComposerStatusTextarea',['DOM','MCompositionConfigFields','MCompositionConfigStore','MCompositionStatusFields','MCompositionStatusStore','MCompositionUserActions','MJSEnvironment','MSubscriptionsHandlerMixin','MViewport','Scroll','Stratcom','Style','debounceCore','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v,w;if(c.__markCompiled)c.__markCompiled();var x=480,y=n.IS_ANDROID||n.IS_APPLE_WEBKIT_IOS||n.IS_CHROME||n.IS_FIREFOX&&n.OS_VERSION>14;function z(ba){var ca=t(ba,300);return function(){ca.reset();for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];ca.apply(null,ea);};}v=babelHelpers.inherits(aa,u(o));w=v&&v.prototype;function aa(ba){var ca=ba.textareaNode;'use strict';w.constructor.call(this);this.$MComposerStatusTextarea1=ca;if(ca.tagName!=='TEXTAREA'){this.$MComposerStatusTextarea2=h.find(ca,'textarea');}else this.$MComposerStatusTextarea2=ca;if(n.IS_APPLE_WEBKIT_IOS&&!n.IS_CHROME&&n.OS_VERSION>=7&&p.getScreenHeight()<=x)s.set(this.$MComposerStatusTextarea2,'height','75px');this.addSubscriptions(l.addChangeListener(function(){return this.$MComposerStatusTextarea3();}.bind(this)),j.addChangeListener(function(){return this.$MComposerStatusTextarea4();}.bind(this)),h.listen(this.$MComposerStatusTextarea2,y?'input':'keyup',null,z(function(event){return this.$MComposerStatusTextarea5(event);}.bind(this))),r.listen('MMentions:change',null,function(event){return this.$MComposerStatusTextarea6(event);}.bind(this)),r.listen('MComposerStatusTextarea:flush',null,function(event){return this.$MComposerStatusTextarea7(event);}.bind(this)));}aa.prototype.$MComposerStatusTextarea6=function(event){'use strict';var ba=event.getData().input;if(ba!==this.$MComposerStatusTextarea2)return;this.$MComposerStatusTextarea8(ba.value);};aa.prototype.$MComposerStatusTextarea3=function(){'use strict';var ba=l.get(k.TEXT,'');this.$MComposerStatusTextarea2.value=ba;r.invoke('MJSPlaceholder');};aa.prototype.$MComposerStatusTextarea4=function(){'use strict';var ba=j.get(i.INPUT_NAME),ca=this.$MComposerStatusTextarea9();if(ca.getAttribute('name')!==ba)ca.setAttribute('name',ba);};aa.prototype.$MComposerStatusTextarea9=function(){'use strict';var ba=h.scry(this.$MComposerStatusTextarea1,'input','mentionsHiddenInput')[0];return ba||this.$MComposerStatusTextarea2;};aa.prototype.$MComposerStatusTextarea5=function(event){'use strict';this.$MComposerStatusTextarea8(event.getTarget().value);};aa.prototype.$MComposerStatusTextarea7=function(event){'use strict';var ba=event.getData();this.$MComposerStatusTextarea8(ba.value);if(ba.hasMentions===false){var ca=this.$MComposerStatusTextarea9();if(ca!==this.$MComposerStatusTextarea2)ca.value=ba.value;}};aa.prototype.$MComposerStatusTextarea8=function(ba){'use strict';var ca=this.$MComposerStatusTextarea2.selectionStart,da=this.$MComposerStatusTextarea2.selectionEnd,ea=q.getTop(this.$MComposerStatusTextarea2),fa={};fa[k.TEXT]=ba;m.statusUpdate(fa);q.setTop(this.$MComposerStatusTextarea2,ea);this.$MComposerStatusTextarea2.setSelectionRange(ca,da);};f.exports=aa;}),null);
__d('MComposerPlaceButton',['CSS','MCompositionConfigFields','MCompositionConfigStore','MCompositionPlaceStore','MSubscriptionsHandlerMixin','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,m(l));o=n&&n.prototype;function p(q){'use strict';o.constructor.call(this);this.$MComposerPlaceButton1=q;this.addSubscriptions(j.addListener('change',function(){return this.$MComposerPlaceButton2();}.bind(this)),k.addListener('change',function(){return this.$MComposerPlaceButton3();}.bind(this)));}p.prototype.$MComposerPlaceButton4=function(){'use strict';return !k.isEmpty();};p.prototype.$MComposerPlaceButton5=function(){'use strict';return (!j.get(i.PIN_PLACE)&&!j.get(i.DISABLE_PLACE_TAG));};p.prototype.$MComposerPlaceButton2=function(){'use strict';h.conditionShow(this.$MComposerPlaceButton1,this.$MComposerPlaceButton5());};p.prototype.$MComposerPlaceButton3=function(){'use strict';h.conditionClass(this.$MComposerPlaceButton1,'active',this.$MComposerPlaceButton4());};f.exports=p;}),null);
__d('MComposerPlaceDialog',['DOM','MComposerLogger','MComposerNavigationMixin','MComposerWaterfallEvent','MCompositionConfigFields','MCompositionPlaceFields','MCompositionConfigStore','MCompositionPlaceStore','MCompositionUserActions','MPlacesTagger','MUnifiedTaggerConstants','MSubscriptionsHandlerMixin','MRequest','Stratcom','getObjectValues','fbt','mixin','whitelistObjectKeys'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z,aa;if(c.__markCompiled)c.__markCompiled();z=babelHelpers.inherits(ba,x(j,s));aa=z&&z.prototype;function ba(ca,da){var ea=da.preview,fa=da.tagger;'use strict';aa.constructor.call(this);this.$MComposerPlaceDialog1=ea;this.$MComposerPlaceDialog2=ca;this.$MComposerPlaceDialog3=fa||new q(this.$MComposerPlaceDialog2);this.$MComposerPlaceDialog4=true;this.addSubscriptions(this.$MComposerPlaceDialog1.addListener('clear',function(){return this.$MComposerPlaceDialog5();}.bind(this)),this.$MComposerPlaceDialog3.listen('cancel',function(){return this.$MComposerPlaceDialog6();}.bind(this)),this.$MComposerPlaceDialog3.listen('submit',function(ga){return this.$MComposerPlaceDialog7(ga);}.bind(this)),o.addListener('change',function(){return this.$MComposerPlaceDialog8();}.bind(this)),u.listen('click','at-button',function(){return this.$MComposerPlaceDialog9();}.bind(this)),u.listen('open','MComposer:dialog:place',function(){this.$MComposerPlaceDialog4=false;this.$MComposerPlaceDialog9();}.bind(this)),u.listen('back','MComposer:dialog:place',function(){return this.$MComposerPlaceDialog10();}.bind(this)),u.listen('MComposer:tagger:click',r.TOKEN_TYPES.PLACE,function(){return this.$MComposerPlaceDialog9();}.bind(this)));}ba.prototype.$MComposerPlaceDialog11=function(){'use strict';p.placeRemove();this.$MComposerPlaceDialog10();};ba.prototype.$MComposerPlaceDialog10=function(){'use strict';this.$MComposerPlaceDialog3.hide();if(!this.$MComposerPlaceDialog4){this.$MComposerPlaceDialog4=true;u.invoke('close','MComposer:dialog:place');}};ba.prototype.$MComposerPlaceDialog12=function(){'use strict';return (!n.get(l.PIN_PLACE)&&!n.get(l.DISABLE_PLACE_TAG));};ba.prototype.$MComposerPlaceDialog13=function(){'use strict';return o.get(m.IS_NON_SPECIFIC);};ba.prototype.$MComposerPlaceDialog8=function(){'use strict';if(o.isEmpty()){this.$MComposerPlaceDialog1.clear();}else this.$MComposerPlaceDialog1.setValue(this.$MComposerPlaceDialog14());};ba.prototype.$MComposerPlaceDialog9=function(){'use strict';if(this.hasNavigationPolicy())return;if(!this.$MComposerPlaceDialog12()){this.$MComposerPlaceDialog4=true;return;}i.log(k.LOCATION_INTENT);if(this.$MComposerPlaceDialog4){this.newNavigationPolicy().addOnOpen(function(){return this.$MComposerPlaceDialog15();}.bind(this)).addOnClose(function(){return this.$MComposerPlaceDialog10();}.bind(this)).open();}else this.$MComposerPlaceDialog15();};ba.prototype.$MComposerPlaceDialog6=function(){'use strict';if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;i.log(k.LOCATION_CANCEL);if(this.$MComposerPlaceDialog4){this.currentNavigationPolicy().close();}else{this.$MComposerPlaceDialog4=true;u.invoke('cancel','MComposer:dialog:place');this.$MComposerPlaceDialog3.hide();}};ba.prototype.$MComposerPlaceDialog5=function(){'use strict';if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;i.log(k.LOCATION_CANCEL);if(this.$MComposerPlaceDialog4){this.currentNavigationPolicy().addOnClose(function(){return this.$MComposerPlaceDialog11();}.bind(this)).close();}else this.$MComposerPlaceDialog10();};ba.prototype.$MComposerPlaceDialog7=function(ca){'use strict';if(this.$MComposerPlaceDialog4&&!this.hasNavigationPolicy())return;i.log(k.LOCATION_ADD);if(this.$MComposerPlaceDialog4){this.currentNavigationPolicy().addOnClose(function(){return this.$MComposerPlaceDialog16(ca);}.bind(this)).close();}else{this.$MComposerPlaceDialog10();this.$MComposerPlaceDialog16(ca);}};ba.prototype.$MComposerPlaceDialog15=function(){'use strict';this.$MComposerPlaceDialog3.show();var ca=h.scry(this.$MComposerPlaceDialog2,'*','places-category-selector-container')[0];if(ca&&ca.id&&ca.children.length===0)new t('/places/addform/category.php').addData({target_id:ca.id,parent_id:0}).setMethod('GET').send();};ba.prototype.$MComposerPlaceDialog14=function(){'use strict';if(o.get(m.IS_NON_SPECIFIC)){return w._("em {non-specific-place-name}.",[w.param('non-specific-place-name',o.get(m.NAME))]);}else return w._("em {place-name}",[w.param('place-name',o.get(m.NAME))]);};ba.prototype.$MComposerPlaceDialog16=function(ca){'use strict';p.placeSet(y(ca,v(m)));};f.exports=ba;}),null);
__d('MComposerInputsWrapper',['DOM','MComposerStoreToInputMap','MCompositionDispatcher','MCompositionStore','destroyOnUnload'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(p){return i.hasOwnProperty(p.getID());}function n(p,q){return p+'-'+q;}function o(p){'use strict';this.$MComposerInputsWrapper1={};this.$MComposerInputsWrapper2=p;this.$MComposerInputsWrapper3=j.register(function(){return this.$MComposerInputsWrapper4();}.bind(this));l(function(){return j.unregister(this.$MComposerInputsWrapper3);}.bind(this));}o.prototype.$MComposerInputsWrapper5=function(){'use strict';return k.getRegisteredStores().filter(m);};o.prototype.$MComposerInputsWrapper4=function(){'use strict';var p=this.$MComposerInputsWrapper5();j.waitFor(p.map(function(q){return q.toUpdate();}));p.forEach(function(q){return this.$MComposerInputsWrapper6(q);}.bind(this));};o.prototype.$MComposerInputsWrapper6=function(p){'use strict';var q=p.getID(),r=i[q];Object.keys(r).forEach(function(s){this.$MComposerInputsWrapper7(q,r[s],p.get(s,''));}.bind(this));};o.prototype.$MComposerInputsWrapper7=function(p,q,r){'use strict';var s=n(p,q);if(!this.$MComposerInputsWrapper1.hasOwnProperty(s)){this.$MComposerInputsWrapper1[s]=h.create('input',{name:q,type:'hidden'});h.appendContent(this.$MComposerInputsWrapper2,this.$MComposerInputsWrapper1[s]);}this.$MComposerInputsWrapper1[s].value=r;};f.exports=o;}),null);
__d('MComposerLegacyPlaceInput',['DOM','MCompositionPlaceFields','MCompositionPlaceStore','MSubscriptionsHandlerMixin','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,l(k));n=m&&m.prototype;function o(p){'use strict';n.constructor.call(this);this.$MComposerLegacyPlaceInput1=p;this.$MComposerLegacyPlaceInput2=h.find(this.$MComposerLegacyPlaceInput1,'input','at-input');this.$MComposerLegacyPlaceInput3=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-cat-input');this.$MComposerLegacyPlaceInput4=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-is-current');this.$MComposerLegacyPlaceInput5=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-name-input');this.$MComposerLegacyPlaceInput6=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-phone-input');this.$MComposerLegacyPlaceInput7=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-website-input');this.$MComposerLegacyPlaceInput8=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-address-input');this.$MComposerLegacyPlaceInput9=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-zip-input');this.$MComposerLegacyPlaceInput10=h.find(this.$MComposerLegacyPlaceInput1,'input','new-place-freeform');this.$MComposerLegacyPlaceInput11=h.find(this.$MComposerLegacyPlaceInput1,'input','json-location');this.$MComposerLegacyPlaceInput12=h.find(this.$MComposerLegacyPlaceInput1,'input','is-checkin');this.addSubscriptions(j.addListener('change',this.$MComposerLegacyPlaceInput13.bind(this)));}o.prototype.$MComposerLegacyPlaceInput14=function(){'use strict';this.$MComposerLegacyPlaceInput2.value='';this.$MComposerLegacyPlaceInput5.value='';this.$MComposerLegacyPlaceInput6.value='';this.$MComposerLegacyPlaceInput7.value='';this.$MComposerLegacyPlaceInput8.value='';this.$MComposerLegacyPlaceInput9.value='';h.setContent(this.$MComposerLegacyPlaceInput3,null);this.$MComposerLegacyPlaceInput10.value='';this.$MComposerLegacyPlaceInput4.value='';this.$MComposerLegacyPlaceInput11.value='{}';this.$MComposerLegacyPlaceInput12.value='';};o.prototype.$MComposerLegacyPlaceInput13=function(){'use strict';if(j.isEmpty()){this.$MComposerLegacyPlaceInput14();}else this.$MComposerLegacyPlaceInput15();};o.prototype.$MComposerLegacyPlaceInput15=function(){'use strict';this.$MComposerLegacyPlaceInput14();this.$MComposerLegacyPlaceInput12.value=true;if(j.get(i.ID,false)){this.$MComposerLegacyPlaceInput2.value=j.get(i.ID);}else this.$MComposerLegacyPlaceInput10.value=j.get(i.NAME,'');this.$MComposerLegacyPlaceInput11.value=j.get(i.JSON_LOCATION,'{}');if(j.get(i.IS_NEW)){this.$MComposerLegacyPlaceInput5.value=j.get(i.NAME,'');this.$MComposerLegacyPlaceInput6.value=j.get(i.PHONE,'');this.$MComposerLegacyPlaceInput7.value=j.get(i.WEBSITE,'');this.$MComposerLegacyPlaceInput8.value=j.get(i.ADDRESS,'');this.$MComposerLegacyPlaceInput9.value=j.get(i.ZIP,'');this.$MComposerLegacyPlaceInput10.value='';this.$MComposerLegacyPlaceInput4.value=j.get(i.IS_CURRENT,'');var p=j.get(i.TOPIC_TOKENS);if(p.value){this.$MComposerLegacyPlaceInput3.value=p.value;}else h.setContent(this.$MComposerLegacyPlaceInput3,p.map(function(q){return q.cloneNode(true);}));}};f.exports=o;}),null);
__d("XSharePreviewAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/share_preview\/",{sid:{type:"String"},surl:{type:"String"},existing_post_id:{type:"Int"}});}),null);
__d('MSharePreview',['$','CSS','DOM','MRequest','MCompositionConfigFields','MCompositionConfigStore','MCompositionShareFields','MCompositionShareStore','MCompositionUserActions','MSubscriptionsHandlerMixin','XSharePreviewAsyncController','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u;if(c.__markCompiled)c.__markCompiled();t=babelHelpers.inherits(v,s(q));u=t&&t.prototype;function v(w){'use strict';u.constructor.call(this);this.$MSharePreview1=j.scry(w,'div')[0];this.addSubscriptions(o.addListener('change',function(){return this.$MSharePreview2();}.bind(this)),j.listen(w,'click','close-link-preview-button',function(event){p.shareRemoveLinkPreview(o.get(n.SHARE_URI));p.configDisablePhotosUpdate(false);}));}v.prototype.init=function(){'use strict';var w=m.get(l.POST_ID,null);if(!w)return;p.configDisablePhotosUpdate(true);var x=r.getURIBuilder().setInt('existing_post_id',w).getURI();this.$MSharePreview3=new k(x);this.$MSharePreview3.listen('finally',function(){i.hide(this.$MSharePreview1);this.$MSharePreview3=null;}.bind(this));this.$MSharePreview3.send();};v.prototype.$MSharePreview2=function(){'use strict';if(this.$MSharePreview3){this.$MSharePreview3.abort();this.$MSharePreview3=null;}if(o.isEmpty()){j.setContent(h('mshare_preview_placeholder'),null);}else{var w=o.get(n.ID),x=o.get(n.SHARE_URI);if(!w&&!x){j.setContent(h('mshare_preview_placeholder'),null);i.hide(this.$MSharePreview1);return;}i.show(this.$MSharePreview1);var y=r.getURIBuilder().setString('sid',w&&w.toString()).setString('surl',x).getURI();this.$MSharePreview3=new k(y);this.$MSharePreview3.listen('finally',function(){i.hide(this.$MSharePreview1);this.$MSharePreview3=null;}.bind(this));this.$MSharePreview3.send();}};f.exports=v;}),null);