if (self.CavalryLogger) { CavalryLogger.start_js(["HhgcY"]); }

__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,SPACES_FEED:41,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,MY_ACTIVITY:96,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114};}),null);
__d("MSiteMessengerDiodeLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FAST_APP_SWITCH_ATTEMPT:"fast_app_switch_attempt",FAST_APP_SWITCH_FAIL:"fast_app_switch_fail",DIODE_ROADBLOCK_QP_LOAD_FAIL:"diode_roadblock_qp_load_fail"};}),null);
__d('MHome',['Stratcom'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(){h.listen('m:page:unload',null,function(j){h.invoke('m:homepage:unload');h.removeCurrentListener();});h.invoke('m:homepage:load');}f.exports={init:i};}),null);
__d("Time",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getGMTOffset:function i(j){var k=new Date(),l=k.getTimezoneOffset()/30,m=k.getTime()/1000,n=Math.round((j-m)/1800),o=Math.round(l+n)%48;if(o>24){o-=Math.ceil(o/48)*48;}else if(o<-28)o+=Math.ceil(o/-48)*48;return o*30;}};f.exports=h;}),null);
__d('Base64',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function i(m){m=m.charCodeAt(0)<<16|m.charCodeAt(1)<<8|m.charCodeAt(2);return String.fromCharCode(h.charCodeAt(m>>>18),h.charCodeAt(m>>>12&63),h.charCodeAt(m>>>6&63),h.charCodeAt(m&63));}var j='>___?456789:;<=_______'+'\x00\x01\x02\x03\x04\x05\x06\x07\b\t\n\x0b\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19'+'______\x1a\x1b\x1c\x1d\x1e\x1f !"#$%&\'()*+,-./0123';function k(m){m=j.charCodeAt(m.charCodeAt(0)-43)<<18|j.charCodeAt(m.charCodeAt(1)-43)<<12|j.charCodeAt(m.charCodeAt(2)-43)<<6|j.charCodeAt(m.charCodeAt(3)-43);return String.fromCharCode(m>>>16,m>>>8&255,m&255);}var l={encode:function m(n){n=unescape(encodeURI(n));var o=(n.length+2)%3;n=(n+'\0\0'.slice(o)).replace(/[\s\S]{3}/g,i);return n.slice(0,n.length+o-2)+'=='.slice(o);},decode:function m(n){n=n.replace(/[^A-Za-z0-9+\/]/g,'');var o=n.length+3&3;n=(n+'AAA'.slice(o)).replace(/..../g,k);n=n.slice(0,n.length+o-3);try{return decodeURIComponent(escape(n));}catch(p){throw new Error('Not valid UTF-8');}},encodeObject:function m(n){return l.encode(JSON.stringify(n));},decodeObject:function m(n){return JSON.parse(l.decode(n));},encodeNums:function m(n){return String.fromCharCode.apply(String,n.map(function(o){return h.charCodeAt((o|-(o>63))&-(o>0)&63);}));}};f.exports=l;}),null);
__d('ViewportTrackingHooks',['Base64'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={},j=[],k={registerFeedObject:function l(m,n){i[m]=h.encode(n);},updateVisibleViewportObjects:function l(m){var n=[],o=false;for(var p=0;p<m.length;p++){var q=m[p],r=q.id;while(!(r in i)&&q.firstChild!=undefined&&q.firstChild.id!=undefined&&q.firstChild.id.startsWith("u_")){r=q.firstChild.id;q=q.firstChild;}if(r in i){n.push(i[r]);if(!(p in j)||j[p]!=i[r])o=true;}}if(!o&&j.length!=n.length)o=true;if(o){j=n;if(typeof __EXT__updateVisibleViewportObjects==='function')__EXT__updateVisibleViewportObjects(j);}}};f.exports=k;}),null);
__d('MViewportTracking',['Banzai','DataAttributeUtils','DOM','FBJSON','MViewport','Stratcom','Style','Vector','ViewportTrackingHooks','Visibility','invariant','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=97,u=200;function v(){this.$MViewportTracking2=[];this.activeStories={};this.cachedViewportHeight=0;this.discardVPVDIntervalThreshold=90000;this.isLoose=false;this.isTimeTrackingEnabled=false;this.latestTimeTrackingTimestamp=0;this.maxScrollPosition=0;this.minSizeToBeVisible=0;this.readStoryIDs={};this.relaxedMinSize=false;this.throttleNoDelay=false;this.trackingHooks=false;this.vpvdDebug=false;this.vpvDebug=false;}v.prototype.getDataFromConfig=function(w){r(0);};v.prototype.getStoryID=function(w){r(0);};v.prototype.getDataToLog=function(w){r(0);};v.prototype.sendDataToLog=function(w){r(0);};v.prototype.getTimeout=function(){r(0);};v.prototype.getAllStories=function(){r(0);};v.prototype.init=function(w){this.isLoose=!!w.is_loose;this.throttleNoDelay=!!w.throttle_no_delay;this.relaxedMinSize=!!w.relaxed_min_size;this.vpvDebug=!!w.vpv_debug;this.trackingHooks=!!w.tracking_hooks;this.isTimeTrackingEnabled=false;this.cachedViewportHeight=l.getHeight();this.getDataFromConfig(w);this.maxScrollPosition=0;this.readStoryIDs={};this.fireEvent();this.$MViewportTracking2=[m.listen('m:page:unload',null,this.onUnload.bind(this)),m.listen('m:viewport:update-complete',null,function(){this.cachedViewportHeight=l.getHeight();}.bind(this))];if(w.triggerOverride){this.$MViewportTracking2=this.$MViewportTracking2.concat(w.triggerOverride.map(function(x){var event=x[0],y=x[1];return m.listen(event,y,this.queueLogAction.bind(this));}.bind(this)));}else this.$MViewportTracking2.push(m.listen('scroll',null,this.queueLogAction.bind(this)));if(this.isTimeTrackingEnabled){this.$MViewportTracking2.push(q.addListener(q.VISIBLE,function(){return this.startRecordingTimeTrackingData();}.bind(this)));this.$MViewportTracking2.push(q.addListener(q.HIDDEN,function(){return this.stopRecordingTimeTrackingData();}.bind(this)));}};v.prototype.getFBFeedLocation=function(){return -1;};v.prototype.unitTestOnlyGetListeners=function(){return [].concat(this.$MViewportTracking2);};v.prototype.getMinSizeToBeVisible=function(w){if(!this.relaxedMinSize)return u;var x='getBoundingClientRect' in w?w.getBoundingClientRect().height:o.getDim(w).y;return Math.min(u,x*.5);};v.prototype.fireEvent=function(){var w=this.getAllStoriesInView();for(var x=0;x<w.length;x++){var y=w[x],z=this.getStoryID(y);if(!z||z in this.readStoryIDs)continue;this.readStoryIDs[z]=true;this.sendDataToLog(this.getDataToLog(y));if(this.vpvDebug){var aa=j.scry(y,'div')[0];if(aa)n.set(aa,'background-color','#fffbe2');}this.markStoryRead(y);}if(this.trackingHooks)p.updateVisibleViewportObjects(this.getAllStoriesInView(true));};v.prototype.markStoryRead=function(w){};v.prototype.queueLogAction=function(){if(this.isLoose){if(!this.$MViewportTracking3)this.$MViewportTracking3=s(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.$MViewportTracking3=null;this.maxScrollPosition=Math.max(this.maxScrollPosition,l.getScrollTop());if(!this.throttleNoDelay){clearTimeout(this.$MViewportTracking1);this.$MViewportTracking1=s(function(){return this.fireEvent();}.bind(this),this.getTimeout());}else this.fireEvent();}.bind(this),100);}else{clearTimeout(this.$MViewportTracking1);this.$MViewportTracking1=s(function(){if(this.isTimeTrackingEnabled)this.startRecordingTimeTrackingData();this.fireEvent();}.bind(this),this.getTimeout());}};v.prototype.getTimetrackingDataToLog=function(w){return {evt:t,fbfeed_location:this.getFBFeedLocation(),story_height:w.story_height,viewport_height:this.cachedViewportHeight,vpvd_start_timestamp:w.evp_ts/1000,vpvd_time_delta:Math.round(w.vpvd||0)};};v.prototype.recordTimeStoryWasInView=function(w){if(this.isTimeTrackingEnabled&&w.vpvd>0){var x=this.getTimetrackingDataToLog(w);if(typeof x!=='string'){var y=i.getDataFt(w.story);if(y)x=babelHelpers['extends']({},x,k.parse(y,f.id));}this.sendTimetrackingDataToLog(x);}};v.prototype.startRecordingTimeTrackingData=function(){this.$MViewportTracking4(false);};v.prototype.stopRecordingTimeTrackingData=function(){this.$MViewportTracking4(true);};v.prototype.$MViewportTracking4=function(w){if(!this.activeStories)this.activeStories={};var x=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=x;var y=this.getAllStoriesInView();this.updateVPVDurations(x);this.updateActiveStories(y,x);this.recordVPVDurations(y,w);this.latestTimeTrackingTimestamp=w?0:x;};v.prototype.updateVPVDurations=function(w){var x=w-this.latestTimeTrackingTimestamp;if(x>this.discardVPVDIntervalThreshold)return;var y=w-this.latestTimeTrackingTimestamp;for(var z in this.activeStories)if(this.activeStories.hasOwnProperty(z))this.activeStories[z].vpvd+=y;};v.prototype.isVisible=function(w,x){for(var y=0;y<x.length;y++)if(this.getStoryID(x[y])===w)return true;return false;};v.prototype.recordVPVDurations=function(w,x){this.recordVPVDurationsInternal(w,x);};v.prototype.recordVPVDurationsInternal=function(w,x){for(var y in this.activeStories)if(this.activeStories.hasOwnProperty(y))if(x||!this.isVisible(y,w)){this.recordTimeStoryWasInView(this.activeStories[y]);delete this.activeStories[y];}};v.prototype.updateActiveStories=function(w,x){for(var y=0;y<w.length;y++){var z=this.getStoryID(w[y]);if(!z)break;if(!(z in this.activeStories))this.activeStories[z]={evp_ts:x,story:w[y],vpvd:0,story_height:w[y].offsetHeight};this.activeStories[z].ts=x;}};v.prototype.getAllStoriesInView=function(){var w=arguments.length<=0||arguments[0]===undefined?false:arguments[0],x=[],y=this.getAllStories(),z=l.getScrollTop(),aa=l.getHeight(),ba=this.isLoose,ca=aa+this.maxScrollPosition-z;for(var da=0;da<y.length;da++){var ea=y[da],fa=this.getStoryBounds(z,ea),ga=fa.top,ha=fa.bottom;if(!ga&&!ha)continue;var ia=this.getMinSizeToBeVisible(ea);if(!ba&&ga>aa-ia)break;var ja=!ba&&ga<=aa-ia&&ha>=ia||ba&&ga<ca;if(w&&(ha<0||ga>aa))ja=false;if(ja)x.push(ea);}return x;};v.prototype.getStoryBounds=function(w,x){if('getBoundingClientRect' in x){var y=x.getBoundingClientRect();return {bottom:y.bottom,top:y.top};}else{var z=o.getPos(x).y-w;return {top:z,bottom:z+o.getDim(x).y};}};v.prototype.cleanup=function(){this.$MViewportTracking2.forEach(function(w){return w.remove();});this.$MViewportTracking2=[];};v.prototype.onUnload=function(){if(this.isTimeTrackingEnabled)this.stopRecordingTimeTrackingData();this.cleanup();};v.prototype.sendTimetrackingDataToLog=function(w){this.sendDataToLog(w);};f.exports=v;}),null);
__d('compactArray',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=[];for(var k=0;k<i.length;++k){var l=i[k];if(l!=null)j.push(l);}return j;}f.exports=h;}),null);
__d('MCommentViewportTracking',['Banzai','DOM','FBJSON','MParent','MViewportTracking','Stratcom','StratcomManager','compactArray'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=null,s={m_group_stories_container:'group',m_newsfeed_stream:'',m_story_permalink_view:'',structured_composer_async_container:'user',root:''};p=babelHelpers.inherits(t,l);q=p&&p.prototype;t.loadedReplies=function(){m.invoke('m:commentViewportTracking:loadedReplies');};t.singleton=function(u){if(!r){u.triggerOverride=[['scroll',null],['m:commentViewportTracking:loadedReplies',null]];n.enableDispatch(document,'scroll');r=new t();r.init(u);}};t.init=function(u){t.singleton(u);};t.prototype.getDataFromConfig=function(u){this.isTimeTrackingEnabled=true;this.idle_timeout=u.idle_timeout;this.min_duration_to_log=u.min_duration_to_log;this.min_visible_size=u.min_visible_size;};t.prototype.__getRootNode=function(){if(!this.$MCommentViewportTracking1)this.$MCommentViewportTracking1=o(Object.keys(s).map(function(u){return document.getElementById(u);}))[0]||null;return this.$MCommentViewportTracking1;};t.prototype.getAllStories=function(){var u=this.__getRootNode();if(!u)return [];return i.scry(this.__getRootNode(),'div','comment-body');};t.prototype.getTimeout=function(){return this.min_duration_to_log;};t.prototype.getDataToLog=function(u){return {};};t.prototype.getStoryID=function(u){var v=u.getAttribute('data-commentid');if(!v)return null;return v;};t.prototype.getContainerModule=function(){var u=this.__getRootNode();if(!u||!(u.id in s))return 'other';return s[u.id];};t.prototype.getTimetrackingDataToLog=function(u){var v=u.story,w=k.bySigil(u.story,'story-div'),x=j.parse(w.getAttribute('data-ft'),f.id);return {comment_id:this.getStoryID(v),duration_ms:Math.round(u.vpvd),container_module:this.getContainerModule(),mf_story_key:x?x.top_level_post_id:null};};t.prototype.sendDataToLog=function(u){if(u.comment_id)h.post('comment_vpvd',u);};function t(){p.apply(this,arguments);}f.exports=t;}),null);
__d('MEntstreamViewportTracking',['Banzai','DOM','FBFeedLocations','FBJSON','MViewport','MViewportTracking','StratcomManager','Vector'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=51;p=babelHelpers.inherits(s,m);q=p&&p.prototype;s.init=function(t){n.enableDispatch(document,'scroll');new s().init(t);};s.prototype.getDataFromConfig=function(t){this.isLoose=true;this.isTimeTrackingEnabled=!!t.vpvd_logging;this.shouldWaterfallLogging=!!t.should_waterfall_logging;};s.prototype.__getStreamRoot=function(){if(!this.$MEntstreamViewportTracking1)this.$MEntstreamViewportTracking1=document.getElementById('root');return this.$MEntstreamViewportTracking1;};s.prototype.getFBFeedLocation=function(){return j.NEWSFEED;};s.prototype.getAllStories=function(){return i.scry(this.__getStreamRoot(),'article','story-div');};s.prototype.getTimeout=function(){return 300;};s.prototype.getDataToLog=function(t){var u=Object.assign(k.parse(t.getAttribute('data-ft'),f.id),{evt:r}),v,w,x;if('getBoundingClientRect' in t){v=t.getBoundingClientRect();w=v.height;x=v.top+l.getScrollTop();}else{w=o.getDim(t).y;x=o.getPos(t).y;}u.evt_value=w;u.offset=x;u.story_height=w;u.impression_type=l.isLandscape()?'landscape':'portrait';if(this.shouldWaterfallLogging){u.should_waterfall_logging=1;u['interface']='m_touch';}return u;};s.prototype.getWaterfallData=function(t,u){var v=this.getDataToLog(t);v.step=u;return v;};s.prototype.getStoryID=function(t){var u=t.getAttribute('data-ft');if(!u)return null;return k.parse(u,f.id).mf_story_key;};s.prototype.sendDataToLog=function(t){h.post('feed_tracking',{ft:t});};function s(){p.apply(this,arguments);}f.exports=s;}),null);
__d('GeneratedLoggerUtils',['Banzai','invariant'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.post;if(window.location.search.indexOf('showlog')>-1)j=function l(m,n,o){h.post(m,n,o);};var k={log:j,serializeVector:function l(m){if(!m)return m;if(Array.isArray(m))return m;if(m.toArray){var n=m;return n.toArray();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator'])return Array.from(m);i(0);},serializeMap:function l(m){if(!m)return m;if(m.toJS){var n=m;return n.toJS();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']){var o=m,p={};for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;p[u[0]]=u[1];}return p;}if(Object.prototype.toString.call(m)==='[object Object]')return m;i(0);},checkExtraDataFieldNames:function l(m,n){Object.keys(m).forEach(function(o){!!n.hasOwnProperty(o)?i(0):void 0;});},warnForInvalidFieldNames:function l(m,n,o,p){},throwIfNull:function l(m,n){!m?i(0):void 0;return m;}};f.exports=k;}),null);
__d('CommentsTimeSpentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$CommentsTimeSpentTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$CommentsTimeSpentTypedLogger1=babelHelpers['extends']({},this.$CommentsTimeSpentTypedLogger1,m);return this;};k.prototype.setEndTime=function(m){this.$CommentsTimeSpentTypedLogger1.end_time=m;return this;};k.prototype.setOrderingMode=function(m){this.$CommentsTimeSpentTypedLogger1.ordering_mode=m;return this;};k.prototype.setPostFbid=function(m){this.$CommentsTimeSpentTypedLogger1.post_fbid=m;return this;};k.prototype.setStartTime=function(m){this.$CommentsTimeSpentTypedLogger1.start_time=m;return this;};k.prototype.setTimeSpentID=function(m){this.$CommentsTimeSpentTypedLogger1.time_spent_id=m;return this;};k.prototype.setViewerHasInteracted=function(m){this.$CommentsTimeSpentTypedLogger1.viewer_has_interacted=m;return this;};var l={end_time:true,ordering_mode:true,post_fbid:true,start_time:true,time_spent_id:true,viewer_has_interacted:true};f.exports=k;}),null);
__d('MSiteMessengerDiodeTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$MSiteMessengerDiodeTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$MSiteMessengerDiodeTypedLogger1=babelHelpers['extends']({},this.$MSiteMessengerDiodeTypedLogger1,m);return this;};k.prototype.setEvent=function(m){this.$MSiteMessengerDiodeTypedLogger1.event=m;return this;};k.prototype.setMessagingEntryPoint=function(m){this.$MSiteMessengerDiodeTypedLogger1.messaging_entry_point=m;return this;};k.prototype.setMsiteDiodeStateFromClient=function(m){this.$MSiteMessengerDiodeTypedLogger1.msite_diode_state_from_client=m;return this;};k.prototype.setVC=function(m){this.$MSiteMessengerDiodeTypedLogger1.vc=m;return this;};var l={event:true,messaging_entry_point:true,msite_diode_state_from_client:true,vc:true};f.exports=k;}),null);
__d('MReactionUnitViewportTracking',['MLegacyDataStore','DOM','MarauderLogger','MViewportTracking','Stratcom','ge'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();var p='reaction-unit-logging';n=babelHelpers.inherits(q,k);o=n&&n.prototype;q.prototype.getDataFromConfig=function(r){this.$MReactionUnitViewportTracking1=[l.listen('m:jewel:flyout:open',null,function(s){if(s.getData().jewel==='notifications')this.startRecordingTimeTrackingData();}.bind(this)),l.listen('m:jewel:flyout:close',null,function(s){if(s.getData().jewel==='notifications')this.stopRecordingTimeTrackingData();}.bind(this)),l.listen('unload',null,function(){this.stopRecordingTimeTrackingData();}.bind(this))];this.isTimeTrackingEnabled=true;};q.prototype.getAllStories=function(){var r=m('notifications_flyout');if(!r)return [];return i.scry(r,'div',p);};q.prototype.getTimeout=function(){return 1;};q.prototype.getDataToLog=function(r){return h.get(r).logging_data;};q.prototype.getMinSizeToBeVisible=function(r){return 0;};q.prototype.getStoryID=function(r){return r.id;};q.prototype.getTimetrackingDataToLog=function(r){var s={};Object.assign(s,h.get(r.story).logging_data);s.unit_type=s.interacted_story_type;delete s.interacted_story_type;s.first_appear_time=r.evp_ts/1000;s.vpvd_time_delta=Math.round(r.vpvd);var t=this.getAllStories();s.unit_count=t.length;s.unit_position=t.indexOf(r.story);return s;};q.prototype.sendDataToLog=function(r){if(!r.vpvd_time_delta)return;j.log('reaction_unit_impression','reaction_units',r);};q.prototype.onUnload=function(){this.startRecordingTimeTrackingData();};function q(){n.apply(this,arguments);}f.exports.init=function(r){new q().init(r);};}),null);
__d('MReactionLogging',['MLegacyDataStore','MarauderLogger','MReactionUnitViewportTracking','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='reaction_logging',m=[];function n(p){j.init(p);if(m.length)return;m=[k.listen('click',l,function(q){o(q.getNode(l));}),k.listen('reaction-unit-expiration',null,function(q){i.log('reaction_unit_did_timeout','reaction_units',q.getData());})];}function o(p){var q=h.get(p).logging_data;i.log('reaction_unit_interaction','guide_cards_null_state',q);}f.exports={init:n};}),null);
__d("XTodayReactionController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/today\/reaction\/",{cursor:{type:"String"},id:{type:"String"},lat:{type:"Float"},"long":{type:"Float"}});}),null);
__d('MReactionUnitExpirations',['MLocationPrompt','MRequest','setTimeoutAcrossTransitions','Stratcom','XTodayReactionController'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={},n=[],o=1000*60*10;function p(){if(n.length)return;n=[k.listen(h.STRATCOM_UPDATE,null,function(x){s(x.getData().position.coords);})];j(r,o);}function q(x,y,z){m[x]={unit_type:z,expiration:y};if(y.radius&&h.getCoords())t(x,h.getCoords());}function r(){var x=Date.now()/1000;for(var y in m)if(x>m[y].expiration.timestamp)u(y);j(r,o);}function s(x){if(!x||x.latitude===undefined||x.longitude===undefined)return;for(var y in m)t(y,x);}function t(x,y){var z=m[x].expiration;if(z.radius&&v(z.latitude,z.longitude,y.latitude,y.longitude)>z.radius)u(x,y);}function u(x){var y=l.getURIBuilder().setString('id',x),z=h.getCoords();if(z)y.setFloat('lat',z.latitude).setFloat('long',z.longitude);k.invoke('reaction-unit-expiration',null,{unit_type:m[x].unit_type});new i(y.getURI().toString()).send();delete m[x];}function v(x,y,z,aa){var ba=6371000,ca=w(z-x),da=w(aa-y),ea=Math.sin(ca/2)*Math.sin(ca/2)+Math.cos(w(x))*Math.cos(w(z))*Math.sin(da/2)*Math.sin(da/2),fa=2*Math.atan2(Math.sqrt(ea),Math.sqrt(1-ea)),ga=ba*fa;return ga;}function w(x){return x*(Math.PI/180);}f.exports={init:p,updateUnitExpiration:q};}),null);
__d('TimezoneAutoset',['MRequest','Time'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j,k=function l(m){if(j)return;j=true;if(!m.time||m.offset===undefined)return;var n=-i.getGMTOffset(m.time);if(m.forceUpdate||n!=m.offset)new h(m.uri).setMethod('POST').setData({offset:n,is_forced:m.forceUpdate}).send();};g.main=k;}),null);
__d('MLoadTimeOutBanner',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j=document.getElementById(i);if(j)j.style.display='inherit';}g.init=function(i,j){setTimeout(h.bind(null,i),j);};}),null);
__d('MTextMetrics',['DOM','MJSEnvironment'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=3*2;function k(l){'use strict';this._node=l;this._shadow=this._cloneNode();this._offset=this._getOffset();}k.prototype._cloneNode=function(){'use strict';var l=this._getComputedStyle(),m=h.create('pre',{className:'textMetrics',style:k.defaultStyles});l&&k.clonedStyles.forEach(function(n){var o=n.replace(/([A-Z])/g,'-$1').toLowerCase();m.style[n]=l.getPropertyValue(o);});h.appendContent(document.body,m);return m;};k.prototype._getOffset=function(){'use strict';var l=this._getComputedStyle(),m=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10),n=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10);return {height:n,width:m};};k.prototype._getComputedStyle=function(){'use strict';if(window.getComputedStyle){return window.getComputedStyle(this._node,null);}else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(this._node,null);};k.prototype.measure=function(){'use strict';var l=this._node,m=this._shadow,n=this._offset,o=i.IS_APPLE_WEBKIT_IOS?j:0;m.style.width=l.offsetWidth-n.width-o+'px';m.innerText=l.value+'\n';return {width:m.clientWidth+n.width,height:m.clientHeight+n.height};};k.prototype.destroy=function(){'use strict';h.remove(this._shadow);};Object.assign(k,{clonedStyles:['fontFamily','fontSize','fontStyle','fontWeight','lineHeight','minHeight','whiteSpace','width','wordWrap']});Object.assign(k.prototype,{_node:null,_shadow:null,_offset:null});f.exports=k;}),null);
__d('InitMTextMetrics',['setTimeoutAcrossTransitions','setIntervalAcrossTransitions','DOM','MLegacyDataStore','MTextMetrics','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p='expandable-textarea',q=function r(s){if(!o)u();if(n)return;n=true;function t(x){var y=new l(x),z={metrics:y,resizedInput:null,originalHeight:x.offsetHeight};k.set(x,z);}function u(){o=i(function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){v(y);});},300);}function v(x,y){var z=k.get(x);if(!z.metrics)t(x);if(x.value==z.resizedInput)return;z.resizedInput=x.value;var aa=x.style.height;x.style.height=Math.max(0+z.metrics.measure().height,z.originalHeight)+'px';if(y&&aa!=x.style.height){var ba=x.value.substr(0,x.selectionStart).split("\n").length,ca=x.value.split("\n").length;if(ba===ca)h(function(){x.scrollIntoView(true);},100);}}function w(event){var x=event.getNode(p);v(x,true);}m.listen(['focus','blur','keypress','keydown','keyup','input'],p,w);m.listen('m:page:unload',null,function(){var x=j.scry(document,'textarea',p);x.forEach(function(y){var z=k.get(y);if(z.metrics){z.metrics.destroy();z.metrics=null;z.styleHeight=null;z.resizedInput=null;}});clearInterval(o);o=null;});};g.main=q;}),null);
__d('MUFICommentViewportTracking',['MLegacyDataStore','MViewportTracking','MarauderLogger','MUFIConfig'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();l=babelHelpers.inherits(n,i);m=l&&l.prototype;n.prototype.getDataFromConfig=function(o){this.vpvLoggingEnabled=o.vpvLoggingEnabled;};n.prototype.getStoryID=function(o){return h.get(o).token;};n.prototype.getDataToLog=function(o){return this.getStoryID(o);};n.prototype.sendDataToLog=function(o){if(this.vpvLoggingEnabled)j.log('comment_vpv',undefined,null,'comment',o);};n.prototype.getTimeout=function(){return k.vpvLoggingTimeout;};function n(){l.apply(this,arguments);}f.exports=n;}),null);
__d('MUFIStaticCommentViewportTracking',['CommentsTimeSpentTypedLogger','MUFICommentViewportTracking','Stratcom','pageID'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n={},o=null;l=babelHelpers.inherits(p,i);m=l&&l.prototype;p.trackStatically=function(q,r,s,t,u){var v=u+'_'+t,w=n[v];if(!w){w=new p();n[v]=w;w.init({is_loose:false,throttle_no_delay:false,relaxed_min_size:true,vpv_debug:false,triggerOverride:[['scroll',null],['touchmove','ufi-overlay']],vpvLoggingEnabled:r,timeTrackingEnabled:s,orderingMode:t,targetFBID:u});}if(!o)o=j.listen('m:page:unload',null,p.resetAll);w.addComments(q);w.fireEvent();};p.resetAll=function(){if(o)o.remove();o=null;n={};};function p(){m.constructor.call(this);this.resetTimeSpentInterval();this.comments=[];}p.prototype.addComments=function(q){this.comments.push.apply(this.comments,q);};p.prototype.getDataFromConfig=function(q){m.getDataFromConfig.call(this,q);this.isTimeTrackingEnabled=q.timeTrackingEnabled;this.orderingMode=q.orderingMode;this.targetFBID=q.targetFBID;};p.prototype.getAllStories=function(){return this.comments;};p.prototype.recordVPVDurations=function(q,r){this.recordVPVDurationsInternal(q,r);if(r||!q.length){if(this.timeSpentIntervalStart<this.timeSpentIntervalEnd)new h().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(k).log();this.resetTimeSpentInterval();}};p.prototype.sendTimetrackingDataToLog=function(q){var r=Math.round(q.vpvd_start_timestamp);if(r<this.timeSpentIntervalStart)this.timeSpentIntervalStart=r;var s=r+Math.round(q.vpvd_time_delta/1000);if(s>this.timeSpentIntervalEnd)this.timeSpentIntervalEnd=s;};p.prototype.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE;this.timeSpentIntervalEnd=0;};f.exports=p;}),null);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/messenger\/log\/",{log:{type:"Bool",defaultValue:false}});}),null);